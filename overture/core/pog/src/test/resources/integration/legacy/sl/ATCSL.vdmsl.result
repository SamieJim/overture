["legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 840:17: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall pid in set (dom (ar.paths)) \u0026 let p:DEFAULT`Path \u003d (ar.paths)(pid) in (forall dr in set (dom (p.used)) \u0026 ((p.used)(dr) \u003d\u003e ((not (mk_Area_Joint(aid, (p.tc), (p.endp)) in set (dunion (dom connect)))) \u003d\u003e ((p.endp) in set (dom ((ar.trackcs)((p.tc)).joints))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 339:9: (forall ar:DEFAULT`Area, tid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id, joint:DEFAULT`Joint \u0026 (((tid in set (dom (ar.trackcs))) and let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tid) in ((jid not in set (dom (tc.joints))) and (TD_Used_for_NonInsulated_TrackC((tc.td), (tc.atbt), ((rng (tc.joints)) union {joint})) and (Only_One_Next_TrackC((ar.trackcs), tid, jid) and (forall tid1 in set (dom (ar.trackcs)) \u0026 ((tid1 \u003c\u003e tid) \u003d\u003e Joint_and_Next_TrackC((ar.trackcs)(tid1), mu(tc, joints |-\u003e ((tc.joints) ++ {jid |-\u003e joint})), jid))))))) \u003d\u003e let RESULT \u003d let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tid) in mu(ar, trackcs |-\u003e ((ar.trackcs) ++ {tid |-\u003e mu(tc, joints |-\u003e ((tc.joints) ++ {jid |-\u003e joint}))})) in ((tid in set (dom (RESULT.trackcs))) \u003d\u003e ((jid in set (dom ((RESULT.trackcs)(tid).joints))) \u003d\u003e (((dom (RESULT.trackcs)) \u003d (dom (ar.trackcs))) \u003d\u003e ((({tid} \u003c-: (RESULT.trackcs)) \u003d ({tid} \u003c-: (ar.trackcs))) \u003d\u003e (((RESULT.trackcs)(tid) \u003d mu((ar.trackcs)(tid), joints |-\u003e (((ar.trackcs)(tid).joints) ++ {jid |-\u003e joint}))) \u003d\u003e ((((RESULT.trackcs)(tid).joints)(jid) \u003d joint) \u003d\u003e ((((RESULT.trackcs)(tid).atc) \u003d ((ar.trackcs)(tid).atc)) \u003d\u003e ((((RESULT.trackcs)(tid).td) \u003d ((ar.trackcs)(tid).td)) \u003d\u003e (tid in set (dom (RESULT.trackcs)))))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 961:30: (forall ln:DEFAULT`Line \u0026 (forall con in set (dom (ln.connect)) \u0026 (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (forall dr in set {\u003cADIR\u003e, \u003cBDIR\u003e} \u0026 ((n1.aid) in set (dom (ln.areas))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 980:10: (forall ln:DEFAULT`Line \u0026 (forall con in set (dom (ln.connect)) \u0026 (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (forall dr in set {\u003cADIR\u003e, \u003cBDIR\u003e} \u0026 ((exists p in set (rng ((ln.areas)((n1.aid)).paths)) \u0026 ((p.used)(dr) and (StartJoint(p, dr) \u003d (n1.no)))) \u003d\u003e ((n1.no) in set (dom (((ln.areas)((n1.aid)).trackcs)((n1.tcid)).joints)))))))))","type compatibility obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 562:14: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, area:DEFAULT`Area \u0026 ((aid in set (dom (ln.areas))) \u003d\u003e inv_Line(mk_Line(((ln.areas) ++ {aid |-\u003e area}), (ln.connect)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 678:27: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id \u0026 (((aid in set (dom (ln.areas))) and (pre_Del_Joint((ln.areas)(aid), tcid, jid) and (forall c in set (dom (ln.connect)) \u0026 (forall aj in set c \u0026 ((((aj.aid) \u003d aid) and ((aj.tcid) \u003d tcid)) \u003d\u003e ((aj.no) \u003c\u003e jid)))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Del_Joint((ln.areas)(aid), tcid, jid)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e ((tcid in set (dom ((RESULT.areas)(aid).trackcs))) \u003d\u003e ((jid not in set (dom (((RESULT.areas)(aid).trackcs)(tcid).joints))) \u003d\u003e (((dom (RESULT.areas)) \u003d (dom (ln.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e (((dom ((RESULT.areas)(aid).trackcs)) \u003d (dom ((ln.areas)(aid).trackcs))) \u003d\u003e ((({tcid} \u003c-: ((RESULT.areas)(aid).trackcs)) \u003d ({tcid} \u003c-: ((ln.areas)(aid).trackcs))) \u003d\u003e (tcid in set (dom ((ln.areas)(aid).trackcs))))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 117:40: (forall atcA1:DEFAULT`ATC, atcB1:DEFAULT`ATC, rm1:DEFAULT`Remark, atcA2:DEFAULT`ATC, atcB2:DEFAULT`ATC, rm2:DEFAULT`Remark, dir_chng:bool \u0026 (Remark_Compatible(rm1, rm2, dir_chng) \u003d\u003e ((not dir_chng) \u003d\u003e ((((atcA1.used) \u003c\u003e (atcA2.used)) \u003d (rm1.atc_terminal)(\u003cADIR\u003e)) \u003d\u003e (\u003cBDIR\u003e in set (dom (rm1.atc_terminal)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 889:43: (forall routes:DEFAULT`Route_map, rid:DEFAULT`Route_id \u0026 ((rid in set (dom routes)) \u003d\u003e (forall rid1 in set (dom routes) \u0026 (rid1 in set (dom routes)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 24:30: (forall tc:DEFAULT`TrackC \u0026 (((card (dom (tc.joints))) \u003e 1) \u003d\u003e (((dom (tc.atc)) \u003d {\u003cADIR\u003e, \u003cBDIR\u003e}) \u003d\u003e (TD_Used_for_NonInsulated_TrackC((tc.td), (tc.atbt), (rng (tc.joints))) \u003d\u003e (((tc.atc)(\u003cADIR\u003e).used) \u003d\u003e (\u003cBDIR\u003e in set (dom (tc.atc))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 437:9: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, con:DEFAULT`Condition \u0026 (((pid in set (dom (ar.paths))) and let p:DEFAULT`Path \u003d (ar.paths)(pid) in (((((ar.trackcs)((p.tc)).joints)((p.start)).position) \u003c\u003d (con.start)) and (((con.endp) \u003c\u003d (((ar.trackcs)((p.tc)).joints)((p.endp)).position)) and (forall c in set (p.condition) \u0026 Condition_not_Conflict(c, con))))) \u003d\u003e let RESULT \u003d let p:DEFAULT`Path \u003d mu((ar.paths)(pid), condition |-\u003e (((ar.paths)(pid).condition) union {con})) in mu(ar, paths |-\u003e ((ar.paths) ++ {pid |-\u003e p})) in ((pid in set (dom (RESULT.paths))) \u003d\u003e (((dom (RESULT.paths)) \u003d (dom (ar.paths))) \u003d\u003e ((({pid} \u003c-: (RESULT.paths)) \u003d ({pid} \u003c-: (ar.paths))) \u003d\u003e (((RESULT.paths)(pid) \u003d mu((ar.paths)(pid), condition |-\u003e (((ar.paths)(pid).condition) union {con}))) \u003d\u003e ((((RESULT.paths)(pid).start) \u003d ((ar.paths)(pid).start)) \u003d\u003e ((((RESULT.paths)(pid).endp) \u003d ((ar.paths)(pid).endp)) \u003d\u003e ((((RESULT.paths)(pid).tc) \u003d ((ar.paths)(pid).tc)) \u003d\u003e ((((RESULT.paths)(pid).length) \u003d ((ar.paths)(pid).length)) \u003d\u003e (pid in set (dom (RESULT.paths)))))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 928:17: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 ((forall tcid in set (dom (ar.trackcs)) \u0026 (forall dr in set (dom ((ar.trackcs)(tcid).atc)) \u0026 ((((ar.trackcs)(tcid).atc)(dr).used) \u003d\u003e (exists1 rid in set (dom (ar.routes)) \u0026 ((((ar.routes)(rid).dr) \u003d dr) and (exists pid in set (elems ((ar.routes)(rid).paths)) \u0026 (((ar.paths)(pid).tc) \u003d tcid))))))) \u003d\u003e (forall r in set (rng (ar.routes)) \u0026 let p:DEFAULT`Path \u003d (ar.paths)((r.paths)((len (r.paths)))) in let jid:DEFAULT`Joint_id \u003d EndJoint(p, (r.dr)) in ((not (mk_Area_Joint(aid, (p.tc), jid) in set (dunion (dom connect)))) \u003d\u003e ((not ((((ar.trackcs)((p.tc)).joints)(jid).remark).line_terminal)) \u003d\u003e (jid in set (dom ((ar.trackcs)((p.tc)).joints))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 363:37: (forall ar:DEFAULT`Area, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id \u0026 (((tcid in set (dom (ar.trackcs))) and ((jid in set (dom ((ar.trackcs)(tcid).joints))) and (((card (dom ((ar.trackcs)(tcid).joints))) \u003e 2) and (forall path in set (rng (ar.paths)) \u0026 (((path.tc) \u003c\u003e tcid) or ((jid \u003c\u003e (path.start)) and (jid \u003c\u003e (path.endp)))))))) \u003d\u003e let RESULT \u003d let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tcid) in mu(ar, trackcs |-\u003e ((ar.trackcs) ++ {tcid |-\u003e mu(tc, joints |-\u003e ({jid} \u003c-: (tc.joints)))})) in ((tcid in set (dom (RESULT.trackcs))) \u003d\u003e (((dom (RESULT.trackcs)) \u003d (dom (ar.trackcs))) \u003d\u003e ((({tcid} \u003c-: (RESULT.trackcs)) \u003d ({tcid} \u003c-: (ar.trackcs))) \u003d\u003e ((jid not in set (dom ((RESULT.trackcs)(tcid).joints))) \u003d\u003e (((RESULT.trackcs)(tcid) \u003d mu((ar.trackcs)(tcid), joints |-\u003e ({jid} \u003c-: ((ar.trackcs)(tcid).joints)))) \u003d\u003e ((((RESULT.trackcs)(tcid).atc) \u003d ((ar.trackcs)(tcid).atc)) \u003d\u003e ((((RESULT.trackcs)(tcid).td) \u003d ((ar.trackcs)(tcid).td)) \u003d\u003e (tcid in set (dom (ar.trackcs))))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 802:30: (forall trackcs:DEFAULT`TrackC_map, paths:DEFAULT`Path_map \u0026 (forall tid in set (dom trackcs) \u0026 (tid in set (dom trackcs))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 100:35: (forall tc1:DEFAULT`TrackC, jid1:DEFAULT`Joint_id, tc2:DEFAULT`TrackC, jid2:DEFAULT`Joint_id, dir_chng:bool \u0026 ((jid1 in set (dom (tc1.joints))) \u003d\u003e ((jid2 in set (dom (tc2.joints))) \u003d\u003e (Remark_Compatible(((tc1.joints)(jid1).remark), ((tc2.joints)(jid2).remark), dir_chng) \u003d\u003e (\u003cADIR\u003e in set (dom (tc2.atc)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 650:24: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id, j:DEFAULT`Joint \u0026 (((aid in set (dom (ln.areas))) and (pre_Add_Joint((ln.areas)(aid), tcid, jid, j) and (forall c in set (dom (ln.connect)) \u0026 (forall n in set c \u0026 (((n.aid) \u003d aid) \u003d\u003e ((n.no) \u003c\u003e jid)))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Add_Joint((ln.areas)(aid), tcid, jid, j)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e ((tcid in set (dom ((RESULT.areas)(aid).trackcs))) \u003d\u003e (aid in set (dom (RESULT.areas)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 843:34: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall pid in set (dom (ar.paths)) \u0026 let p:DEFAULT`Path \u003d (ar.paths)(pid) in (forall dr in set (dom (p.used)) \u0026 ((p.used)(dr) \u003d\u003e ((not (mk_Area_Joint(aid, (p.tc), (p.endp)) in set (dunion (dom connect)))) \u003d\u003e ((not ((((ar.trackcs)((p.tc)).joints)((p.endp)).remark).line_terminal)) \u003d\u003e ((not ((((ar.trackcs)((p.tc)).joints)((p.endp)).remark).atc_terminal)(dr)) \u003d\u003e (forall pid1 in set (dom (ar.paths)) \u0026 (pid1 in set (dom (ar.paths)))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 236:24: (forall trackcs:DEFAULT`TrackC_map, p:DEFAULT`Path \u0026 (((p.tc) in set (dom trackcs)) \u003d\u003e ((p.tc) in set (dom trackcs))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 337:5: (forall ar:DEFAULT`Area, tid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id, joint:DEFAULT`Joint \u0026 (((tid in set (dom (ar.trackcs))) and let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tid) in ((jid not in set (dom (tc.joints))) and (TD_Used_for_NonInsulated_TrackC((tc.td), (tc.atbt), ((rng (tc.joints)) union {joint})) and (Only_One_Next_TrackC((ar.trackcs), tid, jid) and (forall tid1 in set (dom (ar.trackcs)) \u0026 ((tid1 \u003c\u003e tid) \u003d\u003e Joint_and_Next_TrackC((ar.trackcs)(tid1), mu(tc, joints |-\u003e ((tc.joints) ++ {jid |-\u003e joint})), jid))))))) \u003d\u003e let RESULT \u003d let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tid) in mu(ar, trackcs |-\u003e ((ar.trackcs) ++ {tid |-\u003e mu(tc, joints |-\u003e ((tc.joints) ++ {jid |-\u003e joint}))})) in ((tid in set (dom (RESULT.trackcs))) \u003d\u003e ((jid in set (dom ((RESULT.trackcs)(tid).joints))) \u003d\u003e (((dom (RESULT.trackcs)) \u003d (dom (ar.trackcs))) \u003d\u003e ((({tid} \u003c-: (RESULT.trackcs)) \u003d ({tid} \u003c-: (ar.trackcs))) \u003d\u003e (((RESULT.trackcs)(tid) \u003d mu((ar.trackcs)(tid), joints |-\u003e (((ar.trackcs)(tid).joints) ++ {jid |-\u003e joint}))) \u003d\u003e ((((RESULT.trackcs)(tid).joints)(jid) \u003d joint) \u003d\u003e (tid in set (dom (RESULT.trackcs)))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 966:31: (forall ln:DEFAULT`Line \u0026 (forall con in set (dom (ln.connect)) \u0026 (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (forall dr in set {\u003cADIR\u003e, \u003cBDIR\u003e} \u0026 ((exists p in set (rng ((ln.areas)((n1.aid)).paths)) \u0026 ((p.used)(dr) and (EndJoint(p, dr) \u003d (n1.no)))) \u003d\u003e ((not (((((ln.areas)((n1.aid)).trackcs)((n1.tcid)).joints)((n1.no)).remark).atc_terminal)(dr)) \u003d\u003e ((n2.aid) in set (dom (ln.areas))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 658:9: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id, j:DEFAULT`Joint \u0026 (((aid in set (dom (ln.areas))) and (pre_Add_Joint((ln.areas)(aid), tcid, jid, j) and (forall c in set (dom (ln.connect)) \u0026 (forall n in set c \u0026 (((n.aid) \u003d aid) \u003d\u003e ((n.no) \u003c\u003e jid)))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Add_Joint((ln.areas)(aid), tcid, jid, j)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e ((tcid in set (dom ((RESULT.areas)(aid).trackcs))) \u003d\u003e ((jid in set (dom (((RESULT.areas)(aid).trackcs)(tcid).joints))) \u003d\u003e (((dom (RESULT.areas)) \u003d (dom (ln.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e (((dom ((RESULT.areas)(aid).trackcs)) \u003d (dom ((ln.areas)(aid).trackcs))) \u003d\u003e ((({tcid} \u003c-: ((RESULT.areas)(aid).trackcs)) \u003d ({tcid} \u003c-: ((ln.areas)(aid).trackcs))) \u003d\u003e (((((RESULT.areas)(aid).trackcs)(tcid).joints) \u003d ((((ln.areas)(aid).trackcs)(tcid).joints) ++ {jid |-\u003e j})) \u003d\u003e (aid in set (dom (RESULT.areas)))))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 586:23: (forall ln:DEFAULT`Line, con:DEFAULT`Connect, r:DEFAULT`Remark_Connect \u0026 ((forall c in set (dom (ln.connect)) \u0026 ((c inter con) \u003d {})) \u003d\u003e ((forall n in set con \u0026 Area_Joint_Exists((ln.areas), n)) \u003d\u003e (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (Direction_for_Area_Joint(((ln.areas)((n1.aid)).paths), (n1.no), ((ln.areas)((n2.aid)).paths), (n2.no), (r.chng_direction)) \u003d\u003e ((n1.tcid) in set (dom ((ln.areas)((n1.aid)).trackcs)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 723:36: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, rid:DEFAULT`Route_id, r:DEFAULT`Route \u0026 (((aid in set (dom (ln.areas))) and pre_Add_Route((ln.areas)(aid), rid, r)) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Add_Route((ln.areas)(aid), rid, r)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e ((rid in set (dom ((RESULT.areas)(aid).routes))) \u003d\u003e (((dom (RESULT.areas)) \u003d (dom (ln.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e (aid in set (dom (ln.areas)))))))))","comprehension map injectivity obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 600:9: (forall ln:DEFAULT`Line, n:DEFAULT`Area_Joint \u0026 ((exists c in set (dom (ln.connect)) \u0026 (n in set c)) \u003d\u003e (forall m1, m2 in set {{c |-\u003e (ln.connect)(c)} | c in set (dom (ln.connect)) \u0026 (n not in set c)} \u0026 (forall d3 in set (dom m1), d4 in set (dom m2) \u0026 ((d3 \u003d d4) \u003d\u003e (m1(d3) \u003d m2(d4)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 840:17: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall pid in set (dom (ar.paths)) \u0026 let p:DEFAULT`Path \u003d (ar.paths)(pid) in (forall dr in set (dom (p.used)) \u0026 ((p.used)(dr) \u003d\u003e ((not (mk_Area_Joint(aid, (p.tc), (p.endp)) in set (dunion (dom connect)))) \u003d\u003e ((p.tc) in set (dom (ar.trackcs))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 97:52: (forall tc1:DEFAULT`TrackC, jid1:DEFAULT`Joint_id, tc2:DEFAULT`TrackC, jid2:DEFAULT`Joint_id, dir_chng:bool \u0026 ((jid1 in set (dom (tc1.joints))) \u003d\u003e ((jid2 in set (dom (tc2.joints))) \u003d\u003e (jid2 in set (dom (tc2.joints))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 488:21: (forall mk_Line(areas, connect):DEFAULT`Line \u0026 (forall c in set (dom connect) \u0026 ((forall n in set c \u0026 Area_Joint_Exists(areas, n)) \u003d\u003e (forall n1, n2 in set c \u0026 ((n1 \u003c\u003e n2) \u003d\u003e ((n2.aid) in set (dom areas)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 584:42: (forall ln:DEFAULT`Line, con:DEFAULT`Connect, r:DEFAULT`Remark_Connect \u0026 ((forall c in set (dom (ln.connect)) \u0026 ((c inter con) \u003d {})) \u003d\u003e ((forall n in set con \u0026 Area_Joint_Exists((ln.areas), n)) \u003d\u003e (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e ((n1.aid) in set (dom (ln.areas))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 820:17: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall pid in set (dom (ar.paths)) \u0026 (pid in set (dom (ar.paths)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 838:17: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall pid in set (dom (ar.paths)) \u0026 let p:DEFAULT`Path \u003d (ar.paths)(pid) in (forall dr in set (dom (p.used)) \u0026 (dr in set (dom (p.used))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 270:19: (forall paths:DEFAULT`Path_map, r:DEFAULT`Route \u0026 (Path_Exists(paths, (r.paths), (r.dr)) \u003d\u003e (forall i, j in set (inds (r.paths)) \u0026 ((i \u003c\u003e j) \u003d\u003e ((r.paths)(i) in set (dom paths))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 655:28: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id, j:DEFAULT`Joint \u0026 (((aid in set (dom (ln.areas))) and (pre_Add_Joint((ln.areas)(aid), tcid, jid, j) and (forall c in set (dom (ln.connect)) \u0026 (forall n in set c \u0026 (((n.aid) \u003d aid) \u003d\u003e ((n.no) \u003c\u003e jid)))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Add_Joint((ln.areas)(aid), tcid, jid, j)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e ((tcid in set (dom ((RESULT.areas)(aid).trackcs))) \u003d\u003e ((jid in set (dom (((RESULT.areas)(aid).trackcs)(tcid).joints))) \u003d\u003e (((dom (RESULT.areas)) \u003d (dom (ln.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e (((dom ((RESULT.areas)(aid).trackcs)) \u003d (dom ((ln.areas)(aid).trackcs))) \u003d\u003e (aid in set (dom (ln.areas)))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 587:23: (forall ln:DEFAULT`Line, con:DEFAULT`Connect, r:DEFAULT`Remark_Connect \u0026 ((forall c in set (dom (ln.connect)) \u0026 ((c inter con) \u003d {})) \u003d\u003e ((forall n in set con \u0026 Area_Joint_Exists((ln.areas), n)) \u003d\u003e (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (Direction_for_Area_Joint(((ln.areas)((n1.aid)).paths), (n1.no), ((ln.areas)((n2.aid)).paths), (n2.no), (r.chng_direction)) \u003d\u003e ((n2.tcid) in set (dom ((ln.areas)((n2.aid)).trackcs)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 674:45: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id \u0026 (((aid in set (dom (ln.areas))) and (pre_Del_Joint((ln.areas)(aid), tcid, jid) and (forall c in set (dom (ln.connect)) \u0026 (forall aj in set c \u0026 ((((aj.aid) \u003d aid) and ((aj.tcid) \u003d tcid)) \u003d\u003e ((aj.no) \u003c\u003e jid)))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Del_Joint((ln.areas)(aid), tcid, jid)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e ((tcid in set (dom ((RESULT.areas)(aid).trackcs))) \u003d\u003e ((jid not in set (dom (((RESULT.areas)(aid).trackcs)(tcid).joints))) \u003d\u003e (((dom (RESULT.areas)) \u003d (dom (ln.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e (aid in set (dom (ln.areas))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 459:9: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, kind:DEFAULT`Cond_Kind, start:nat, endp:nat \u0026 (((pid in set (dom (ar.paths))) and (exists c in set ((ar.paths)(pid).condition) \u0026 (((c.kind) \u003d kind) and (((c.start) \u003d start) and ((c.endp) \u003d endp))))) \u003d\u003e let RESULT \u003d let p:DEFAULT`Path \u003d mu((ar.paths)(pid), condition |-\u003e {l | l in set ((ar.paths)(pid).condition) \u0026 (not (((l.kind) \u003d kind) and (((l.start) \u003d start) and ((l.endp) \u003d endp))))}) in mu(ar, paths |-\u003e ((ar.paths) ++ {pid |-\u003e p})) in ((pid in set (dom (RESULT.paths))) \u003d\u003e (((dom (RESULT.paths)) \u003d (dom (ar.paths))) \u003d\u003e ((({pid} \u003c-: (RESULT.paths)) \u003d ({pid} \u003c-: (ar.paths))) \u003d\u003e (((RESULT.paths)(pid) \u003d mu((ar.paths)(pid), condition |-\u003e {l | l in set ((ar.paths)(pid).condition) \u0026 (not (((l.kind) \u003d kind) and (((l.start) \u003d start) and ((l.endp) \u003d endp))))})) \u003d\u003e ((((RESULT.paths)(pid).start) \u003d ((ar.paths)(pid).start)) \u003d\u003e ((((RESULT.paths)(pid).endp) \u003d ((ar.paths)(pid).endp)) \u003d\u003e (pid in set (dom (RESULT.paths)))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 967:35: (forall ln:DEFAULT`Line \u0026 (forall con in set (dom (ln.connect)) \u0026 (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (forall dr in set {\u003cADIR\u003e, \u003cBDIR\u003e} \u0026 ((exists p in set (rng ((ln.areas)((n1.aid)).paths)) \u0026 ((p.used)(dr) and (EndJoint(p, dr) \u003d (n1.no)))) \u003d\u003e ((not (((((ln.areas)((n1.aid)).trackcs)((n1.tcid)).joints)((n1.no)).remark).atc_terminal)(dr)) \u003d\u003e (forall p2 in set (rng ((ln.areas)((n2.aid)).paths)) \u0026 (con in set (dom (ln.connect)))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 670:25: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id \u0026 (((aid in set (dom (ln.areas))) and (pre_Del_Joint((ln.areas)(aid), tcid, jid) and (forall c in set (dom (ln.connect)) \u0026 (forall aj in set c \u0026 ((((aj.aid) \u003d aid) and ((aj.tcid) \u003d tcid)) \u003d\u003e ((aj.no) \u003c\u003e jid)))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Del_Joint((ln.areas)(aid), tcid, jid)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e (aid in set (dom (RESULT.areas))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 100:52: (forall tc1:DEFAULT`TrackC, jid1:DEFAULT`Joint_id, tc2:DEFAULT`TrackC, jid2:DEFAULT`Joint_id, dir_chng:bool \u0026 ((jid1 in set (dom (tc1.joints))) \u003d\u003e ((jid2 in set (dom (tc2.joints))) \u003d\u003e (Remark_Compatible(((tc1.joints)(jid1).remark), ((tc2.joints)(jid2).remark), dir_chng) \u003d\u003e (\u003cBDIR\u003e in set (dom (tc2.atc)))))))","legal function application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 685:26: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, pid:DEFAULT`Path_id, p:DEFAULT`Path \u0026 (((aid in set (dom (ln.areas))) and (pre_Add_Path((ln.areas)(aid), pid, p) and (forall c in set (dom (ln.connect)) \u0026 (forall n1, n2 in set c \u0026 (((n1 \u003c\u003e n2) and ((n1.aid) \u003d aid)) \u003d\u003e Direction_for_Area_Joint({pid |-\u003e p}, (n1.no), ((ln.areas)((n2.aid)).paths), (n2.no), ((ln.connect)(c).chng_direction))))))) \u003d\u003e pre_Add_Path((ln.areas)(aid), pid, p)))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 435:9: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, con:DEFAULT`Condition \u0026 (((pid in set (dom (ar.paths))) and let p:DEFAULT`Path \u003d (ar.paths)(pid) in (((((ar.trackcs)((p.tc)).joints)((p.start)).position) \u003c\u003d (con.start)) and (((con.endp) \u003c\u003d (((ar.trackcs)((p.tc)).joints)((p.endp)).position)) and (forall c in set (p.condition) \u0026 Condition_not_Conflict(c, con))))) \u003d\u003e let RESULT \u003d let p:DEFAULT`Path \u003d mu((ar.paths)(pid), condition |-\u003e (((ar.paths)(pid).condition) union {con})) in mu(ar, paths |-\u003e ((ar.paths) ++ {pid |-\u003e p})) in ((pid in set (dom (RESULT.paths))) \u003d\u003e (((dom (RESULT.paths)) \u003d (dom (ar.paths))) \u003d\u003e ((({pid} \u003c-: (RESULT.paths)) \u003d ({pid} \u003c-: (ar.paths))) \u003d\u003e (((RESULT.paths)(pid) \u003d mu((ar.paths)(pid), condition |-\u003e (((ar.paths)(pid).condition) union {con}))) \u003d\u003e ((((RESULT.paths)(pid).start) \u003d ((ar.paths)(pid).start)) \u003d\u003e ((((RESULT.paths)(pid).endp) \u003d ((ar.paths)(pid).endp)) \u003d\u003e (pid in set (dom (RESULT.paths)))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 805:48: (forall trackcs:DEFAULT`TrackC_map, paths:DEFAULT`Path_map \u0026 (forall tid in set (dom trackcs) \u0026 (forall dr in set (dom (trackcs(tid).atc)) \u0026 (((trackcs(tid).atc)(dr).used) \u003d\u003e (forall p in set (rng paths) \u0026 (((p.tc) \u003d tid) \u003d\u003e (dr in set (dom (p.used)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 736:46: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, rid:DEFAULT`Route_id \u0026 (((aid in set (dom (ln.areas))) and pre_Del_Route((ln.areas)(aid), rid)) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Del_Route((ln.areas)(aid), rid)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e (((dom (RESULT.areas)) \u003d (dom (ln.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e ((rid not in set (dom ((RESULT.areas)(aid).routes))) \u003d\u003e (aid in set (dom (ln.areas)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 723:9: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, rid:DEFAULT`Route_id, r:DEFAULT`Route \u0026 (((aid in set (dom (ln.areas))) and pre_Add_Route((ln.areas)(aid), rid, r)) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Add_Route((ln.areas)(aid), rid, r)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e ((rid in set (dom ((RESULT.areas)(aid).routes))) \u003d\u003e (((dom (RESULT.areas)) \u003d (dom (ln.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e (aid in set (dom (RESULT.areas)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 825:17: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall pid in set (dom (ar.paths)) \u0026 let p:DEFAULT`Path \u003d (ar.paths)(pid) in (forall dr in set (dom (p.used)) \u0026 ((p.used)(dr) \u003d\u003e ((not (mk_Area_Joint(aid, (p.tc), (p.start)) in set (dunion (dom connect)))) \u003d\u003e ((not ((((ar.trackcs)((p.tc)).joints)((p.start)).remark).line_terminal)) \u003d\u003e (dr in set (dom ((((ar.trackcs)((p.tc)).joints)((p.start)).remark).atc_terminal)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 97:27: (forall tc1:DEFAULT`TrackC, jid1:DEFAULT`Joint_id, tc2:DEFAULT`TrackC, jid2:DEFAULT`Joint_id, dir_chng:bool \u0026 ((jid1 in set (dom (tc1.joints))) \u003d\u003e ((jid2 in set (dom (tc2.joints))) \u003d\u003e (jid1 in set (dom (tc1.joints))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 99:31: (forall tc1:DEFAULT`TrackC, jid1:DEFAULT`Joint_id, tc2:DEFAULT`TrackC, jid2:DEFAULT`Joint_id, dir_chng:bool \u0026 ((jid1 in set (dom (tc1.joints))) \u003d\u003e ((jid2 in set (dom (tc2.joints))) \u003d\u003e (Remark_Compatible(((tc1.joints)(jid1).remark), ((tc2.joints)(jid2).remark), dir_chng) \u003d\u003e (\u003cADIR\u003e in set (dom (tc1.atc)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 707:28: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, pid:DEFAULT`Path_id \u0026 (((aid in set (dom (ln.areas))) and pre_Del_Path((ln.areas)(aid), pid)) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Del_Path((ln.areas)(aid), pid)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e (aid in set (dom (RESULT.areas))))))","function establishes postcondition obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 291:1: (forall ar:DEFAULT`Area, tcid:DEFAULT`TrackC_id, tc:DEFAULT`TrackC \u0026 (pre_Add_TrackC(ar, tcid, tc) \u003d\u003e post_Add_TrackC(ar, tcid, tc, mu(ar, trackcs |-\u003e ((ar.trackcs) ++ {tcid |-\u003e tc})))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 836:17: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall pid in set (dom (ar.paths)) \u0026 (pid in set (dom (ar.paths)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 630:24: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id \u0026 ((aid in set (dom (ln.areas))) \u003d\u003e (aid in set (dom (ln.areas)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 875:17: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall rid in set (dom (ar.routes)) \u0026 let r:DEFAULT`Route \u003d (ar.routes)(rid) in let pid:DEFAULT`Path_id \u003d (r.paths)((len (r.paths))) in let jid:DEFAULT`Joint_id \u003d EndJoint((ar.paths)(pid), (r.dr)), tcid:DEFAULT`TrackC_id \u003d ((ar.paths)(pid).tc) in ((not (mk_Area_Joint(aid, tcid, jid) in set (dunion (dom connect)))) \u003d\u003e ((not ((((ar.trackcs)(tcid).joints)(jid).remark).line_terminal)) \u003d\u003e ((r.dr) in set (dom ((((ar.trackcs)(tcid).joints)(jid).remark).atc_terminal)))))))","legal sequence application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 270:25: (forall paths:DEFAULT`Path_map, r:DEFAULT`Route \u0026 (Path_Exists(paths, (r.paths), (r.dr)) \u003d\u003e (forall i, j in set (inds (r.paths)) \u0026 ((i \u003c\u003e j) \u003d\u003e (i in set (inds (r.paths)))))))","type invariant satisfiable obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 17:1: (exists tc:DEFAULT`TrackC \u0026 (((card (dom (tc.joints))) \u003e 1) and (((dom (tc.atc)) \u003d {\u003cADIR\u003e, \u003cBDIR\u003e}) and (TD_Used_for_NonInsulated_TrackC((tc.td), (tc.atbt), (rng (tc.joints))) and ((((tc.atc)(\u003cADIR\u003e).used) and ((tc.atc)(\u003cBDIR\u003e).used)) \u003d\u003e (((tc.atc)(\u003cADIR\u003e).carrier) \u003c\u003e ((tc.atc)(\u003cBDIR\u003e).carrier)))))))","function establishes postcondition obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 316:1: (forall ar:DEFAULT`Area, tid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id, joint:DEFAULT`Joint \u0026 (pre_Add_Joint(ar, tid, jid, joint) \u003d\u003e post_Add_Joint(ar, tid, jid, joint, let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tid) in mu(ar, trackcs |-\u003e ((ar.trackcs) ++ {tid |-\u003e mu(tc, joints |-\u003e ((tc.joints) ++ {jid |-\u003e joint}))})))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 445:31: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, kind:DEFAULT`Cond_Kind, start:nat, endp:nat \u0026 (((pid in set (dom (ar.paths))) and (exists c in set ((ar.paths)(pid).condition) \u0026 (((c.kind) \u003d kind) and (((c.start) \u003d start) and ((c.endp) \u003d endp))))) \u003d\u003e (pid in set (dom (ar.paths)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 263:9: (forall trackcs:DEFAULT`TrackC_map, paths:DEFAULT`Path_map, r:DEFAULT`Route \u0026 (Path_Exists(paths, (r.paths), (r.dr)) \u003d\u003e (forall pid in set (elems (r.paths)) \u0026 (pid in set (dom paths)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 264:17: (forall trackcs:DEFAULT`TrackC_map, paths:DEFAULT`Path_map, r:DEFAULT`Route \u0026 (Path_Exists(paths, (r.paths), (r.dr)) \u003d\u003e (forall pid in set (elems (r.paths)) \u0026 (((paths(pid).tc) in set (dom trackcs)) \u003d\u003e (pid in set (dom paths))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 666:23: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id \u0026 ((aid in set (dom (ln.areas))) \u003d\u003e (aid in set (dom (ln.areas)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 528:25: (forall areas:DEFAULT`Area_map, n:DEFAULT`Area_Joint \u0026 (((n.aid) in set (dom areas)) \u003d\u003e (((n.tcid) in set (dom (areas((n.aid)).trackcs))) \u003d\u003e ((n.aid) in set (dom areas)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 529:13: (forall areas:DEFAULT`Area_map, n:DEFAULT`Area_Joint \u0026 (((n.aid) in set (dom areas)) \u003d\u003e (((n.tcid) in set (dom (areas((n.aid)).trackcs))) \u003d\u003e (((n.no) in set (dom ((areas((n.aid)).trackcs)((n.tcid)).joints))) \u003d\u003e ((n.no) in set (dom ((areas((n.aid)).trackcs)((n.tcid)).joints)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 692:19: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, pid:DEFAULT`Path_id, p:DEFAULT`Path \u0026 ((aid in set (dom (ln.areas))) \u003d\u003e (pre_Add_Path((ln.areas)(aid), pid, p) \u003d\u003e (forall c in set (dom (ln.connect)) \u0026 (forall n1, n2 in set c \u0026 (((n1 \u003c\u003e n2) and ((n1.aid) \u003d aid)) \u003d\u003e ((n2.aid) in set (dom (ln.areas)))))))))","type invariant satisfiable obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 476:1: (exists mk_Line(areas, connect):DEFAULT`Line \u0026 (forall c in set (dom connect) \u0026 ((forall n in set c \u0026 Area_Joint_Exists(areas, n)) and (forall n1, n2 in set c \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (Direction_for_Area_Joint((areas((n1.aid)).paths), (n1.no), (areas((n2.aid)).paths), (n2.no), (connect(c).chng_direction)) and let tc1:DEFAULT`TrackC \u003d (areas((n1.aid)).trackcs)((n1.tcid)), tc2:DEFAULT`TrackC \u003d (areas((n2.aid)).trackcs)((n2.tcid)) in (Joint_Compatible((tc1.joints)((n1.no)), (tc2.joints)((n2.no)), connect(c)) and Is_wf_adjacent_signal(tc1, (n1.no), tc2, (n2.no), (connect(c).chng_direction)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 491:38: (forall mk_Line(areas, connect):DEFAULT`Line \u0026 (forall c in set (dom connect) \u0026 ((forall n in set c \u0026 Area_Joint_Exists(areas, n)) \u003d\u003e (forall n1, n2 in set c \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (Direction_for_Area_Joint((areas((n1.aid)).paths), (n1.no), (areas((n2.aid)).paths), (n2.no), (connect(c).chng_direction)) \u003d\u003e let tc1:DEFAULT`TrackC \u003d (areas((n1.aid)).trackcs)((n1.tcid)), tc2:DEFAULT`TrackC \u003d (areas((n2.aid)).trackcs)((n2.tcid)) in ((n1.no) in set (dom (tc1.joints)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 824:17: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall pid in set (dom (ar.paths)) \u0026 let p:DEFAULT`Path \u003d (ar.paths)(pid) in (forall dr in set (dom (p.used)) \u0026 ((p.used)(dr) \u003d\u003e ((not (mk_Area_Joint(aid, (p.tc), (p.start)) in set (dunion (dom connect)))) \u003d\u003e ((p.tc) in set (dom (ar.trackcs))))))))","legal function application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 99:5: (forall tc1:DEFAULT`TrackC, jid1:DEFAULT`Joint_id, tc2:DEFAULT`TrackC, jid2:DEFAULT`Joint_id, dir_chng:bool \u0026 ((jid1 in set (dom (tc1.joints))) \u003d\u003e ((jid2 in set (dom (tc2.joints))) \u003d\u003e (Remark_Compatible(((tc1.joints)(jid1).remark), ((tc2.joints)(jid2).remark), dir_chng) \u003d\u003e pre_ATC_Terminal_and_ATC_Used((tc1.atc)(\u003cADIR\u003e), (tc2.atc)(\u003cBDIR\u003e), ((tc1.joints)(jid1).remark), (tc2.atc)(\u003cADIR\u003e), (tc2.atc)(\u003cBDIR\u003e), ((tc2.joints)(jid2).remark), dir_chng)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 490:27: (forall mk_Line(areas, connect):DEFAULT`Line \u0026 (forall c in set (dom connect) \u0026 ((forall n in set c \u0026 Area_Joint_Exists(areas, n)) \u003d\u003e (forall n1, n2 in set c \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (Direction_for_Area_Joint((areas((n1.aid)).paths), (n1.no), (areas((n2.aid)).paths), (n2.no), (connect(c).chng_direction)) \u003d\u003e ((n2.tcid) in set (dom (areas((n2.aid)).trackcs)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 420:31: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, con:DEFAULT`Condition \u0026 (((pid in set (dom (ar.paths))) and let p:DEFAULT`Path \u003d (ar.paths)(pid) in (((((ar.trackcs)((p.tc)).joints)((p.start)).position) \u003c\u003d (con.start)) and (((con.endp) \u003c\u003d (((ar.trackcs)((p.tc)).joints)((p.endp)).position)) and (forall c in set (p.condition) \u0026 Condition_not_Conflict(c, con))))) \u003d\u003e (pid in set (dom (ar.paths)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 824:17: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall pid in set (dom (ar.paths)) \u0026 let p:DEFAULT`Path \u003d (ar.paths)(pid) in (forall dr in set (dom (p.used)) \u0026 ((p.used)(dr) \u003d\u003e ((not (mk_Area_Joint(aid, (p.tc), (p.start)) in set (dunion (dom connect)))) \u003d\u003e ((p.start) in set (dom ((ar.trackcs)((p.tc)).joints))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 697:35: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, pid:DEFAULT`Path_id, p:DEFAULT`Path \u0026 (((aid in set (dom (ln.areas))) and (pre_Add_Path((ln.areas)(aid), pid, p) and (forall c in set (dom (ln.connect)) \u0026 (forall n1, n2 in set c \u0026 (((n1 \u003c\u003e n2) and ((n1.aid) \u003d aid)) \u003d\u003e Direction_for_Area_Joint({pid |-\u003e p}, (n1.no), ((ln.areas)((n2.aid)).paths), (n2.no), ((ln.connect)(c).chng_direction))))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Add_Path((ln.areas)(aid), pid, p)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e ((pid in set (dom ((RESULT.areas)(aid).paths))) \u003d\u003e (((dom (RESULT.areas)) \u003d (dom (ln.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e (aid in set (dom (ln.areas)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 437:39: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, con:DEFAULT`Condition \u0026 (((pid in set (dom (ar.paths))) and let p:DEFAULT`Path \u003d (ar.paths)(pid) in (((((ar.trackcs)((p.tc)).joints)((p.start)).position) \u003c\u003d (con.start)) and (((con.endp) \u003c\u003d (((ar.trackcs)((p.tc)).joints)((p.endp)).position)) and (forall c in set (p.condition) \u0026 Condition_not_Conflict(c, con))))) \u003d\u003e let RESULT \u003d let p:DEFAULT`Path \u003d mu((ar.paths)(pid), condition |-\u003e (((ar.paths)(pid).condition) union {con})) in mu(ar, paths |-\u003e ((ar.paths) ++ {pid |-\u003e p})) in ((pid in set (dom (RESULT.paths))) \u003d\u003e (((dom (RESULT.paths)) \u003d (dom (ar.paths))) \u003d\u003e ((({pid} \u003c-: (RESULT.paths)) \u003d ({pid} \u003c-: (ar.paths))) \u003d\u003e (((RESULT.paths)(pid) \u003d mu((ar.paths)(pid), condition |-\u003e (((ar.paths)(pid).condition) union {con}))) \u003d\u003e ((((RESULT.paths)(pid).start) \u003d ((ar.paths)(pid).start)) \u003d\u003e ((((RESULT.paths)(pid).endp) \u003d ((ar.paths)(pid).endp)) \u003d\u003e ((((RESULT.paths)(pid).tc) \u003d ((ar.paths)(pid).tc)) \u003d\u003e ((((RESULT.paths)(pid).length) \u003d ((ar.paths)(pid).length)) \u003d\u003e (pid in set (dom (ar.paths)))))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 813:17: (forall ar:DEFAULT`Area \u0026 (forall pid in set (dom (ar.paths)) \u0026 (forall dr in set (dom ((ar.paths)(pid).used)) \u0026 (((ar.paths)(pid).used)(dr) \u003d\u003e (((ar.paths)(pid).tc) in set (dom (ar.trackcs)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 703:56: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, pid:DEFAULT`Path_id \u0026 (((aid in set (dom (ln.areas))) and pre_Del_Path((ln.areas)(aid), pid)) \u003d\u003e (aid in set (dom (ln.areas)))))","type compatibility obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 579:31: (forall ln:DEFAULT`Line, con:DEFAULT`Connect, r:DEFAULT`Remark_Connect \u0026 (((forall c in set (dom (ln.connect)) \u0026 ((c inter con) \u003d {})) and ((forall n in set con \u0026 Area_Joint_Exists((ln.areas), n)) and (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (Direction_for_Area_Joint(((ln.areas)((n1.aid)).paths), (n1.no), ((ln.areas)((n2.aid)).paths), (n2.no), (r.chng_direction)) and let tc1:DEFAULT`TrackC \u003d ((ln.areas)((n1.aid)).trackcs)((n1.tcid)), tc2:DEFAULT`TrackC \u003d ((ln.areas)((n2.aid)).trackcs)((n2.tcid)) in (Joint_Compatible((tc1.joints)((n1.no)), (tc2.joints)((n2.no)), r) and Is_wf_adjacent_signal(tc1, (n1.no), tc2, (n2.no), (r.chng_direction)))))))) \u003d\u003e inv_Connect_map(((ln.connect) ++ {con |-\u003e r}))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 119:36: (forall atcA1:DEFAULT`ATC, atcB1:DEFAULT`ATC, rm1:DEFAULT`Remark, atcA2:DEFAULT`ATC, atcB2:DEFAULT`ATC, rm2:DEFAULT`Remark, dir_chng:bool \u0026 (Remark_Compatible(rm1, rm2, dir_chng) \u003d\u003e (((not dir_chng) \u003d\u003e ((((atcA1.used) \u003c\u003e (atcA2.used)) \u003d (rm1.atc_terminal)(\u003cADIR\u003e)) and (((atcB1.used) \u003c\u003e (atcB2.used)) \u003d (rm1.atc_terminal)(\u003cBDIR\u003e)))) \u003d\u003e (dir_chng \u003d\u003e (\u003cADIR\u003e in set (dom (rm1.atc_terminal)))))))","legal function application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 749:26: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, pid:DEFAULT`Path_id, kind:DEFAULT`Cond_Kind, start:nat, endp:nat \u0026 (((aid in set (dom (ln.areas))) and pre_Del_Condition((ln.areas)(aid), pid, kind, start, endp)) \u003d\u003e pre_Del_Condition((ln.areas)(aid), pid, kind, start, endp)))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 264:9: (forall trackcs:DEFAULT`TrackC_map, paths:DEFAULT`Path_map, r:DEFAULT`Route \u0026 (Path_Exists(paths, (r.paths), (r.dr)) \u003d\u003e (forall pid in set (elems (r.paths)) \u0026 (((paths(pid).tc) in set (dom trackcs)) \u003d\u003e ((paths(pid).tc) in set (dom trackcs))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 379:5: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, path:DEFAULT`Path \u0026 (((pid not in set (dom (ar.paths))) and (Path_within_TrackC((ar.trackcs), path) and (Direction_Correct((ar.trackcs), path) and (forall p in set (rng (ar.paths)) \u0026 (Not_Same_Path(p, path) and Not_Start_and_End(p, path)))))) \u003d\u003e let RESULT \u003d mu(ar, paths |-\u003e ((ar.paths) ++ {pid |-\u003e path})) in ((pid in set (dom (RESULT.paths))) \u003d\u003e (((RESULT.paths) \u003d ((ar.paths) ++ {pid |-\u003e path})) \u003d\u003e (pid in set (dom (RESULT.paths)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 449:26: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, kind:DEFAULT`Cond_Kind, start:nat, endp:nat \u0026 ((pid in set (dom (ar.paths))) \u003d\u003e (pid in set (dom (ar.paths)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 350:20: (forall ar:DEFAULT`Area, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id \u0026 ((tcid in set (dom (ar.trackcs))) \u003d\u003e (tcid in set (dom (ar.trackcs)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 812:17: (forall ar:DEFAULT`Area \u0026 (forall pid in set (dom (ar.paths)) \u0026 (forall dr in set (dom ((ar.paths)(pid).used)) \u0026 (pid in set (dom (ar.paths))))))","type compatibility obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 600:9: (forall ln:DEFAULT`Line, n:DEFAULT`Area_Joint \u0026 ((exists c in set (dom (ln.connect)) \u0026 (n in set c)) \u003d\u003e inv_Connect_map({c |-\u003e (ln.connect)(c) | c in set (dom (ln.connect)) \u0026 (n not in set c)})))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 658:9: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id, j:DEFAULT`Joint \u0026 (((aid in set (dom (ln.areas))) and (pre_Add_Joint((ln.areas)(aid), tcid, jid, j) and (forall c in set (dom (ln.connect)) \u0026 (forall n in set c \u0026 (((n.aid) \u003d aid) \u003d\u003e ((n.no) \u003c\u003e jid)))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Add_Joint((ln.areas)(aid), tcid, jid, j)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e ((tcid in set (dom ((RESULT.areas)(aid).trackcs))) \u003d\u003e ((jid in set (dom (((RESULT.areas)(aid).trackcs)(tcid).joints))) \u003d\u003e (((dom (RESULT.areas)) \u003d (dom (ln.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e (((dom ((RESULT.areas)(aid).trackcs)) \u003d (dom ((ln.areas)(aid).trackcs))) \u003d\u003e ((({tcid} \u003c-: ((RESULT.areas)(aid).trackcs)) \u003d ({tcid} \u003c-: ((ln.areas)(aid).trackcs))) \u003d\u003e (((((RESULT.areas)(aid).trackcs)(tcid).joints) \u003d ((((ln.areas)(aid).trackcs)(tcid).joints) ++ {jid |-\u003e j})) \u003d\u003e (tcid in set (dom ((RESULT.areas)(aid).trackcs)))))))))))))","type compatibility obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 293:31: (forall ar:DEFAULT`Area, tcid:DEFAULT`TrackC_id, tc:DEFAULT`TrackC \u0026 (((tcid not in set (dom (ar.trackcs))) and (forall jid in set (dom (tc.joints)) \u0026 (Only_One_Next_TrackC((ar.trackcs), tcid, jid) and (forall tcid1 in set (dom (ar.trackcs)) \u0026 Joint_and_Next_TrackC(tc, (ar.trackcs)(tcid1), jid))))) \u003d\u003e inv_TrackC_map(((ar.trackcs) ++ {tcid |-\u003e tc}))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 336:5: (forall ar:DEFAULT`Area, tid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id, joint:DEFAULT`Joint \u0026 (((tid in set (dom (ar.trackcs))) and let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tid) in ((jid not in set (dom (tc.joints))) and (TD_Used_for_NonInsulated_TrackC((tc.td), (tc.atbt), ((rng (tc.joints)) union {joint})) and (Only_One_Next_TrackC((ar.trackcs), tid, jid) and (forall tid1 in set (dom (ar.trackcs)) \u0026 ((tid1 \u003c\u003e tid) \u003d\u003e Joint_and_Next_TrackC((ar.trackcs)(tid1), mu(tc, joints |-\u003e ((tc.joints) ++ {jid |-\u003e joint})), jid))))))) \u003d\u003e let RESULT \u003d let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tid) in mu(ar, trackcs |-\u003e ((ar.trackcs) ++ {tid |-\u003e mu(tc, joints |-\u003e ((tc.joints) ++ {jid |-\u003e joint}))})) in ((tid in set (dom (RESULT.trackcs))) \u003d\u003e ((jid in set (dom ((RESULT.trackcs)(tid).joints))) \u003d\u003e (((dom (RESULT.trackcs)) \u003d (dom (ar.trackcs))) \u003d\u003e ((({tid} \u003c-: (RESULT.trackcs)) \u003d ({tid} \u003c-: (ar.trackcs))) \u003d\u003e (((RESULT.trackcs)(tid) \u003d mu((ar.trackcs)(tid), joints |-\u003e (((ar.trackcs)(tid).joints) ++ {jid |-\u003e joint}))) \u003d\u003e (tid in set (dom (RESULT.trackcs))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 841:17: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall pid in set (dom (ar.paths)) \u0026 let p:DEFAULT`Path \u003d (ar.paths)(pid) in (forall dr in set (dom (p.used)) \u0026 ((p.used)(dr) \u003d\u003e ((not (mk_Area_Joint(aid, (p.tc), (p.endp)) in set (dunion (dom connect)))) \u003d\u003e ((not ((((ar.trackcs)((p.tc)).joints)((p.endp)).remark).line_terminal)) \u003d\u003e ((p.endp) in set (dom ((ar.trackcs)((p.tc)).joints)))))))))","function establishes postcondition obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 551:1: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, kind:DEFAULT`Area_Kind, max:DEFAULT`MaxSpeed \u0026 (pre_Add_Area(ln, aid, kind, max) \u003d\u003e post_Add_Area(ln, aid, kind, max, mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e mk_Area({|-\u003e}, {|-\u003e}, {|-\u003e}, kind, max)})))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 731:23: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, rid:DEFAULT`Route_id \u0026 ((aid in set (dom (ln.areas))) \u003d\u003e (aid in set (dom (ln.areas)))))","type compatibility obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 319:35: (forall ar:DEFAULT`Area, tid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id, joint:DEFAULT`Joint \u0026 (((tid in set (dom (ar.trackcs))) and let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tid) in ((jid not in set (dom (tc.joints))) and (TD_Used_for_NonInsulated_TrackC((tc.td), (tc.atbt), ((rng (tc.joints)) union {joint})) and (Only_One_Next_TrackC((ar.trackcs), tid, jid) and (forall tid1 in set (dom (ar.trackcs)) \u0026 ((tid1 \u003c\u003e tid) \u003d\u003e Joint_and_Next_TrackC((ar.trackcs)(tid1), mu(tc, joints |-\u003e ((tc.joints) ++ {jid |-\u003e joint})), jid))))))) \u003d\u003e let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tid) in inv_TrackC_map(((ar.trackcs) ++ {tid |-\u003e mu(tc, joints |-\u003e ((tc.joints) ++ {jid |-\u003e joint}))}))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 928:17: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 ((forall tcid in set (dom (ar.trackcs)) \u0026 (forall dr in set (dom ((ar.trackcs)(tcid).atc)) \u0026 ((((ar.trackcs)(tcid).atc)(dr).used) \u003d\u003e (exists1 rid in set (dom (ar.routes)) \u0026 ((((ar.routes)(rid).dr) \u003d dr) and (exists pid in set (elems ((ar.routes)(rid).paths)) \u0026 (((ar.paths)(pid).tc) \u003d tcid))))))) \u003d\u003e (forall r in set (rng (ar.routes)) \u0026 let p:DEFAULT`Path \u003d (ar.paths)((r.paths)((len (r.paths)))) in let jid:DEFAULT`Joint_id \u003d EndJoint(p, (r.dr)) in ((not (mk_Area_Joint(aid, (p.tc), jid) in set (dunion (dom connect)))) \u003d\u003e ((not ((((ar.trackcs)((p.tc)).joints)(jid).remark).line_terminal)) \u003d\u003e ((p.tc) in set (dom (ar.trackcs))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 73:53: (forall tcs:map (DEFAULT`TrackC_id) to (DEFAULT`TrackC) \u0026 (forall tid in set (dom tcs) \u0026 (forall jid in set (dom (tcs(tid).joints)) \u0026 (Only_One_Next_TrackC(tcs, tid, jid) \u003d\u003e (forall tid2 in set (dom tcs) \u0026 ((tid \u003c\u003e tid2) \u003d\u003e (tid2 in set (dom tcs))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 301:5: (forall ar:DEFAULT`Area, tcid:DEFAULT`TrackC_id, tc:DEFAULT`TrackC \u0026 (((tcid not in set (dom (ar.trackcs))) and (forall jid in set (dom (tc.joints)) \u0026 (Only_One_Next_TrackC((ar.trackcs), tcid, jid) and (forall tcid1 in set (dom (ar.trackcs)) \u0026 Joint_and_Next_TrackC(tc, (ar.trackcs)(tcid1), jid))))) \u003d\u003e let RESULT \u003d mu(ar, trackcs |-\u003e ((ar.trackcs) ++ {tcid |-\u003e tc})) in ((tcid in set (dom (RESULT.trackcs))) \u003d\u003e (((RESULT.trackcs) \u003d ((ar.trackcs) ++ {tcid |-\u003e tc})) \u003d\u003e (tcid in set (dom (RESULT.trackcs)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 70:35: (forall tcs:map (DEFAULT`TrackC_id) to (DEFAULT`TrackC) \u0026 (forall tid in set (dom tcs) \u0026 (tid in set (dom tcs))))","function establishes postcondition obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 682:1: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, pid:DEFAULT`Path_id, p:DEFAULT`Path \u0026 (pre_Line_Add_Path(ln, aid, pid, p) \u003d\u003e post_Line_Add_Path(ln, aid, pid, p, mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Add_Path((ln.areas)(aid), pid, p)})))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 656:9: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id, j:DEFAULT`Joint \u0026 (((aid in set (dom (ln.areas))) and (pre_Add_Joint((ln.areas)(aid), tcid, jid, j) and (forall c in set (dom (ln.connect)) \u0026 (forall n in set c \u0026 (((n.aid) \u003d aid) \u003d\u003e ((n.no) \u003c\u003e jid)))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Add_Joint((ln.areas)(aid), tcid, jid, j)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e ((tcid in set (dom ((RESULT.areas)(aid).trackcs))) \u003d\u003e ((jid in set (dom (((RESULT.areas)(aid).trackcs)(tcid).joints))) \u003d\u003e (((dom (RESULT.areas)) \u003d (dom (ln.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e (((dom ((RESULT.areas)(aid).trackcs)) \u003d (dom ((ln.areas)(aid).trackcs))) \u003d\u003e ((({tcid} \u003c-: ((RESULT.areas)(aid).trackcs)) \u003d ({tcid} \u003c-: ((ln.areas)(aid).trackcs))) \u003d\u003e (aid in set (dom (RESULT.areas))))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 947:18: (forall ln:DEFAULT`Line \u0026 (forall con in set (dom (ln.connect)) \u0026 (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (forall dr in set {\u003cADIR\u003e, \u003cBDIR\u003e} \u0026 (((card {p | p in set (rng ((ln.areas)((n1.aid)).paths)) \u0026 ((p.used)(dr) and (EndJoint(p, dr) \u003d (n1.no)))}) \u003e 1) \u003d\u003e ((n1.tcid) in set (dom ((ln.areas)((n1.aid)).trackcs)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 360:38: (forall ar:DEFAULT`Area, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id \u0026 (((tcid in set (dom (ar.trackcs))) and ((jid in set (dom ((ar.trackcs)(tcid).joints))) and (((card (dom ((ar.trackcs)(tcid).joints))) \u003e 2) and (forall path in set (rng (ar.paths)) \u0026 (((path.tc) \u003c\u003e tcid) or ((jid \u003c\u003e (path.start)) and (jid \u003c\u003e (path.endp)))))))) \u003d\u003e let RESULT \u003d let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tcid) in mu(ar, trackcs |-\u003e ((ar.trackcs) ++ {tcid |-\u003e mu(tc, joints |-\u003e ({jid} \u003c-: (tc.joints)))})) in ((tcid in set (dom (RESULT.trackcs))) \u003d\u003e (((dom (RESULT.trackcs)) \u003d (dom (ar.trackcs))) \u003d\u003e ((({tcid} \u003c-: (RESULT.trackcs)) \u003d ({tcid} \u003c-: (ar.trackcs))) \u003d\u003e ((jid not in set (dom ((RESULT.trackcs)(tcid).joints))) \u003d\u003e (tcid in set (dom (ar.trackcs)))))))))","legal function application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 664:26: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id \u0026 (((aid in set (dom (ln.areas))) and (pre_Del_Joint((ln.areas)(aid), tcid, jid) and (forall c in set (dom (ln.connect)) \u0026 (forall aj in set c \u0026 ((((aj.aid) \u003d aid) and ((aj.tcid) \u003d tcid)) \u003d\u003e ((aj.no) \u003c\u003e jid)))))) \u003d\u003e pre_Del_Joint((ln.areas)(aid), tcid, jid)))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 563:9: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, area:DEFAULT`Area \u0026 (((aid in set (dom (ln.areas))) and inv_Line(mk_Line(((ln.areas) ++ {aid |-\u003e area}), (ln.connect)))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e area})) in (aid in set (dom (RESULT.areas)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 654:20: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id, j:DEFAULT`Joint \u0026 (((aid in set (dom (ln.areas))) and (pre_Add_Joint((ln.areas)(aid), tcid, jid, j) and (forall c in set (dom (ln.connect)) \u0026 (forall n in set c \u0026 (((n.aid) \u003d aid) \u003d\u003e ((n.no) \u003c\u003e jid)))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Add_Joint((ln.areas)(aid), tcid, jid, j)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e ((tcid in set (dom ((RESULT.areas)(aid).trackcs))) \u003d\u003e ((jid in set (dom (((RESULT.areas)(aid).trackcs)(tcid).joints))) \u003d\u003e (((dom (RESULT.areas)) \u003d (dom (ln.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e (((dom ((RESULT.areas)(aid).trackcs)) \u003d (dom ((ln.areas)(aid).trackcs))) \u003d\u003e (aid in set (dom (RESULT.areas)))))))))))","function establishes postcondition obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 597:1: (forall ln:DEFAULT`Line, n:DEFAULT`Area_Joint \u0026 (pre_Del_Connect(ln, n) \u003d\u003e post_Del_Connect(ln, n, mu(ln, connect |-\u003e {c |-\u003e (ln.connect)(c) | c in set (dom (ln.connect)) \u0026 (n not in set c)}))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 457:35: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, kind:DEFAULT`Cond_Kind, start:nat, endp:nat \u0026 (((pid in set (dom (ar.paths))) and (exists c in set ((ar.paths)(pid).condition) \u0026 (((c.kind) \u003d kind) and (((c.start) \u003d start) and ((c.endp) \u003d endp))))) \u003d\u003e let RESULT \u003d let p:DEFAULT`Path \u003d mu((ar.paths)(pid), condition |-\u003e {l | l in set ((ar.paths)(pid).condition) \u0026 (not (((l.kind) \u003d kind) and (((l.start) \u003d start) and ((l.endp) \u003d endp))))}) in mu(ar, paths |-\u003e ((ar.paths) ++ {pid |-\u003e p})) in ((pid in set (dom (RESULT.paths))) \u003d\u003e (((dom (RESULT.paths)) \u003d (dom (ar.paths))) \u003d\u003e ((({pid} \u003c-: (RESULT.paths)) \u003d ({pid} \u003c-: (ar.paths))) \u003d\u003e (((RESULT.paths)(pid) \u003d mu((ar.paths)(pid), condition |-\u003e {l | l in set ((ar.paths)(pid).condition) \u0026 (not (((l.kind) \u003d kind) and (((l.start) \u003d start) and ((l.endp) \u003d endp))))})) \u003d\u003e (pid in set (dom (ar.paths)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 645:23: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id, j:DEFAULT`Joint \u0026 ((aid in set (dom (ln.areas))) \u003d\u003e (aid in set (dom (ln.areas)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 944:17: (forall ln:DEFAULT`Line \u0026 (forall con in set (dom (ln.connect)) \u0026 (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (forall dr in set {\u003cADIR\u003e, \u003cBDIR\u003e} \u0026 (forall p in set (rng ((ln.areas)((n1.aid)).paths)) \u0026 (dr in set (dom (p.used)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 628:37: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id \u0026 (((aid in set (dom (ln.areas))) and (pre_Del_TrackC((ln.areas)(aid), tcid) and (forall c in set (dom (ln.connect)) \u0026 (forall aj in set c \u0026 (((aj.aid) \u003d aid) \u003d\u003e ((aj.tcid) \u003c\u003e tcid)))))) \u003d\u003e (aid in set (dom (ln.areas)))))","legal function application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 742:34: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, pid:DEFAULT`Path_id, con:DEFAULT`Condition \u0026 (((aid in set (dom (ln.areas))) and pre_Add_Condition((ln.areas)(aid), pid, con)) \u003d\u003e pre_Add_Condition((ln.areas)(aid), pid, con)))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 179:42: (forall ps:map (DEFAULT`Path_id) to (DEFAULT`Path) \u0026 (forall pid1, pid2 in set (dom ps) \u0026 ((pid1 \u003c\u003e pid2) \u003d\u003e (pid2 in set (dom ps)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 827:34: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall pid in set (dom (ar.paths)) \u0026 let p:DEFAULT`Path \u003d (ar.paths)(pid) in (forall dr in set (dom (p.used)) \u0026 ((p.used)(dr) \u003d\u003e ((not (mk_Area_Joint(aid, (p.tc), (p.start)) in set (dunion (dom connect)))) \u003d\u003e ((not ((((ar.trackcs)((p.tc)).joints)((p.start)).remark).line_terminal)) \u003d\u003e ((not ((((ar.trackcs)((p.tc)).joints)((p.start)).remark).atc_terminal)(dr)) \u003d\u003e (forall pid1 in set (dom (ar.paths)) \u0026 (pid1 in set (dom (ar.paths)))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 346:14: (forall ar:DEFAULT`Area, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id \u0026 (((tcid in set (dom (ar.trackcs))) and ((jid in set (dom ((ar.trackcs)(tcid).joints))) and (((card (dom ((ar.trackcs)(tcid).joints))) \u003e 2) and (forall path in set (rng (ar.paths)) \u0026 (((path.tc) \u003c\u003e tcid) or ((jid \u003c\u003e (path.start)) and (jid \u003c\u003e (path.endp)))))))) \u003d\u003e (tcid in set (dom (ar.trackcs)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 460:36: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, kind:DEFAULT`Cond_Kind, start:nat, endp:nat \u0026 (((pid in set (dom (ar.paths))) and (exists c in set ((ar.paths)(pid).condition) \u0026 (((c.kind) \u003d kind) and (((c.start) \u003d start) and ((c.endp) \u003d endp))))) \u003d\u003e let RESULT \u003d let p:DEFAULT`Path \u003d mu((ar.paths)(pid), condition |-\u003e {l | l in set ((ar.paths)(pid).condition) \u0026 (not (((l.kind) \u003d kind) and (((l.start) \u003d start) and ((l.endp) \u003d endp))))}) in mu(ar, paths |-\u003e ((ar.paths) ++ {pid |-\u003e p})) in ((pid in set (dom (RESULT.paths))) \u003d\u003e (((dom (RESULT.paths)) \u003d (dom (ar.paths))) \u003d\u003e ((({pid} \u003c-: (RESULT.paths)) \u003d ({pid} \u003c-: (ar.paths))) \u003d\u003e (((RESULT.paths)(pid) \u003d mu((ar.paths)(pid), condition |-\u003e {l | l in set ((ar.paths)(pid).condition) \u0026 (not (((l.kind) \u003d kind) and (((l.start) \u003d start) and ((l.endp) \u003d endp))))})) \u003d\u003e ((((RESULT.paths)(pid).start) \u003d ((ar.paths)(pid).start)) \u003d\u003e ((((RESULT.paths)(pid).endp) \u003d ((ar.paths)(pid).endp)) \u003d\u003e ((((RESULT.paths)(pid).tc) \u003d ((ar.paths)(pid).tc)) \u003d\u003e (pid in set (dom (ar.paths))))))))))))","function establishes postcondition obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 714:1: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, rid:DEFAULT`Route_id, r:DEFAULT`Route \u0026 (pre_Line_Add_Route(ln, aid, rid, r) \u003d\u003e post_Line_Add_Route(ln, aid, rid, r, mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Add_Route((ln.areas)(aid), rid, r)})))))","legal function application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 877:17: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall rid in set (dom (ar.routes)) \u0026 let r:DEFAULT`Route \u003d (ar.routes)(rid) in let pid:DEFAULT`Path_id \u003d (r.paths)((len (r.paths))) in let jid:DEFAULT`Joint_id \u003d EndJoint((ar.paths)(pid), (r.dr)), tcid:DEFAULT`TrackC_id \u003d ((ar.paths)(pid).tc) in ((not (mk_Area_Joint(aid, tcid, jid) in set (dunion (dom connect)))) \u003d\u003e ((not ((((ar.trackcs)(tcid).joints)(jid).remark).line_terminal)) \u003d\u003e ((not ((((ar.trackcs)(tcid).joints)(jid).remark).atc_terminal)((r.dr))) \u003d\u003e ((not Following_Route_Exists((ar.routes), rid)) \u003d\u003e pre_Following_Path_Unique((ar.paths), pid, (r.dr))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 110:10: (forall rm1:DEFAULT`Remark, rm2:DEFAULT`Remark, dir_chng:bool \u0026 (((not dir_chng) \u003d\u003e ((rm1.atc_terminal) \u003d (rm2.atc_terminal))) \u003d\u003e (dir_chng \u003d\u003e (((rm1.atc_terminal)(\u003cADIR\u003e) \u003d (rm2.atc_terminal)(\u003cBDIR\u003e)) \u003d\u003e (\u003cBDIR\u003e in set (dom (rm1.atc_terminal)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 918:9: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall tcid in set (dom (ar.trackcs)) \u0026 (forall dr in set (dom ((ar.trackcs)(tcid).atc)) \u0026 (dr in set (dom ((ar.trackcs)(tcid).atc))))))","type compatibility obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 691:43: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, pid:DEFAULT`Path_id, p:DEFAULT`Path \u0026 ((aid in set (dom (ln.areas))) \u003d\u003e (pre_Add_Path((ln.areas)(aid), pid, p) \u003d\u003e (forall c in set (dom (ln.connect)) \u0026 (forall n1, n2 in set c \u0026 (((n1 \u003c\u003e n2) and ((n1.aid) \u003d aid)) \u003d\u003e inv_Path_map({pid |-\u003e p})))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 419:20: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, con:DEFAULT`Condition \u0026 (((pid in set (dom (ar.paths))) and let p:DEFAULT`Path \u003d (ar.paths)(pid) in (((((ar.trackcs)((p.tc)).joints)((p.start)).position) \u003c\u003d (con.start)) and (((con.endp) \u003c\u003d (((ar.trackcs)((p.tc)).joints)((p.endp)).position)) and (forall c in set (p.condition) \u0026 Condition_not_Conflict(c, con))))) \u003d\u003e (pid in set (dom (ar.paths)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 653:45: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id, j:DEFAULT`Joint \u0026 (((aid in set (dom (ln.areas))) and (pre_Add_Joint((ln.areas)(aid), tcid, jid, j) and (forall c in set (dom (ln.connect)) \u0026 (forall n in set c \u0026 (((n.aid) \u003d aid) \u003d\u003e ((n.no) \u003c\u003e jid)))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Add_Joint((ln.areas)(aid), tcid, jid, j)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e ((tcid in set (dom ((RESULT.areas)(aid).trackcs))) \u003d\u003e ((jid in set (dom (((RESULT.areas)(aid).trackcs)(tcid).joints))) \u003d\u003e (((dom (RESULT.areas)) \u003d (dom (ln.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e (aid in set (dom (ln.areas))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 751:27: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, pid:DEFAULT`Path_id, kind:DEFAULT`Cond_Kind, start:nat, endp:nat \u0026 ((aid in set (dom (ln.areas))) \u003d\u003e (aid in set (dom (ln.areas)))))","legal function application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 643:26: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id, j:DEFAULT`Joint \u0026 (((aid in set (dom (ln.areas))) and (pre_Add_Joint((ln.areas)(aid), tcid, jid, j) and (forall c in set (dom (ln.connect)) \u0026 (forall n in set c \u0026 (((n.aid) \u003d aid) \u003d\u003e ((n.no) \u003c\u003e jid)))))) \u003d\u003e pre_Add_Joint((ln.areas)(aid), tcid, jid, j)))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 318:14: (forall ar:DEFAULT`Area, tid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id, joint:DEFAULT`Joint \u0026 (((tid in set (dom (ar.trackcs))) and let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tid) in ((jid not in set (dom (tc.joints))) and (TD_Used_for_NonInsulated_TrackC((tc.td), (tc.atbt), ((rng (tc.joints)) union {joint})) and (Only_One_Next_TrackC((ar.trackcs), tid, jid) and (forall tid1 in set (dom (ar.trackcs)) \u0026 ((tid1 \u003c\u003e tid) \u003d\u003e Joint_and_Next_TrackC((ar.trackcs)(tid1), mu(tc, joints |-\u003e ((tc.joints) ++ {jid |-\u003e joint})), jid))))))) \u003d\u003e (tid in set (dom (ar.trackcs)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 676:36: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id \u0026 (((aid in set (dom (ln.areas))) and (pre_Del_Joint((ln.areas)(aid), tcid, jid) and (forall c in set (dom (ln.connect)) \u0026 (forall aj in set c \u0026 ((((aj.aid) \u003d aid) and ((aj.tcid) \u003d tcid)) \u003d\u003e ((aj.no) \u003c\u003e jid)))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Del_Joint((ln.areas)(aid), tcid, jid)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e ((tcid in set (dom ((RESULT.areas)(aid).trackcs))) \u003d\u003e ((jid not in set (dom (((RESULT.areas)(aid).trackcs)(tcid).joints))) \u003d\u003e (((dom (RESULT.areas)) \u003d (dom (ln.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e (((dom ((RESULT.areas)(aid).trackcs)) \u003d (dom ((ln.areas)(aid).trackcs))) \u003d\u003e (aid in set (dom (ln.areas)))))))))))","function establishes postcondition obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 344:1: (forall ar:DEFAULT`Area, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id \u0026 (pre_Del_Joint(ar, tcid, jid) \u003d\u003e post_Del_Joint(ar, tcid, jid, let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tcid) in mu(ar, trackcs |-\u003e ((ar.trackcs) ++ {tcid |-\u003e mu(tc, joints |-\u003e ({jid} \u003c-: (tc.joints)))})))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 637:29: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id \u0026 (((aid in set (dom (ln.areas))) and (pre_Del_TrackC((ln.areas)(aid), tcid) and (forall c in set (dom (ln.connect)) \u0026 (forall aj in set c \u0026 (((aj.aid) \u003d aid) \u003d\u003e ((aj.tcid) \u003c\u003e tcid)))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Del_TrackC((ln.areas)(aid), tcid)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e (((dom (ln.areas)) \u003d (dom (RESULT.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e ((((RESULT.areas)(aid).trackcs) \u003d ({tcid} \u003c-: ((ln.areas)(aid).trackcs))) \u003d\u003e (aid in set (dom (RESULT.areas)))))))))","type invariant satisfiable obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 150:1: (exists con:DEFAULT`Condition \u0026 ((con.start) \u003c (con.endp)))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 692:51: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, pid:DEFAULT`Path_id, p:DEFAULT`Path \u0026 ((aid in set (dom (ln.areas))) \u003d\u003e (pre_Add_Path((ln.areas)(aid), pid, p) \u003d\u003e (forall c in set (dom (ln.connect)) \u0026 (forall n1, n2 in set c \u0026 (((n1 \u003c\u003e n2) and ((n1.aid) \u003d aid)) \u003d\u003e (c in set (dom (ln.connect)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 678:27: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id \u0026 (((aid in set (dom (ln.areas))) and (pre_Del_Joint((ln.areas)(aid), tcid, jid) and (forall c in set (dom (ln.connect)) \u0026 (forall aj in set c \u0026 ((((aj.aid) \u003d aid) and ((aj.tcid) \u003d tcid)) \u003d\u003e ((aj.no) \u003c\u003e jid)))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Del_Joint((ln.areas)(aid), tcid, jid)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e ((tcid in set (dom ((RESULT.areas)(aid).trackcs))) \u003d\u003e ((jid not in set (dom (((RESULT.areas)(aid).trackcs)(tcid).joints))) \u003d\u003e (((dom (RESULT.areas)) \u003d (dom (ln.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e (((dom ((RESULT.areas)(aid).trackcs)) \u003d (dom ((ln.areas)(aid).trackcs))) \u003d\u003e ((({tcid} \u003c-: ((RESULT.areas)(aid).trackcs)) \u003d ({tcid} \u003c-: ((ln.areas)(aid).trackcs))) \u003d\u003e (aid in set (dom (ln.areas))))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 109:10: (forall rm1:DEFAULT`Remark, rm2:DEFAULT`Remark, dir_chng:bool \u0026 (((not dir_chng) \u003d\u003e ((rm1.atc_terminal) \u003d (rm2.atc_terminal))) \u003d\u003e (dir_chng \u003d\u003e (\u003cADIR\u003e in set (dom (rm1.atc_terminal))))))","function establishes postcondition obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 558:1: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, area:DEFAULT`Area \u0026 (pre_Change_Area(ln, aid, area) \u003d\u003e post_Change_Area(ln, aid, area, mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e area})))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 724:9: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, rid:DEFAULT`Route_id, r:DEFAULT`Route \u0026 (((aid in set (dom (ln.areas))) and pre_Add_Route((ln.areas)(aid), rid, r)) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Add_Route((ln.areas)(aid), rid, r)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e ((rid in set (dom ((RESULT.areas)(aid).routes))) \u003d\u003e (((dom (RESULT.areas)) \u003d (dom (ln.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e ((((RESULT.areas)(aid).routes) \u003d (((ln.areas)(aid).routes) ++ {rid |-\u003e r})) \u003d\u003e (rid in set (dom ((RESULT.areas)(aid).routes))))))))))","type compatibility obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 553:54: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, kind:DEFAULT`Area_Kind, max:DEFAULT`MaxSpeed \u0026 ((aid not in set (dom (ln.areas))) \u003d\u003e inv_Path_map({|-\u003e})))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 322:14: (forall ar:DEFAULT`Area, tid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id, joint:DEFAULT`Joint \u0026 ((tid in set (dom (ar.trackcs))) \u003d\u003e (tid in set (dom (ar.trackcs)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 489:27: (forall mk_Line(areas, connect):DEFAULT`Line \u0026 (forall c in set (dom connect) \u0026 ((forall n in set c \u0026 Area_Joint_Exists(areas, n)) \u003d\u003e (forall n1, n2 in set c \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (Direction_for_Area_Joint((areas((n1.aid)).paths), (n1.no), (areas((n2.aid)).paths), (n2.no), (connect(c).chng_direction)) \u003d\u003e ((n1.aid) in set (dom areas))))))))","function establishes postcondition obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 855:1: (forall path:DEFAULT`Path, dr:DEFAULT`Direction \u0026 post_EndJoint(path, dr, (if (dr \u003d \u003cADIR\u003e)\nthen (path.endp)\nelse (path.start))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 278:48: (forall paths:DEFAULT`Path_map, route:seq of (DEFAULT`Path_id), dr:DEFAULT`Direction \u0026 (Path_Exists(paths, route, dr) \u003d\u003e (forall i in set (inds route) \u0026 (((i + 1) in set (inds route)) \u003d\u003e ((dr \u003d \u003cADIR\u003e) \u003d\u003e (route((i + 1)) in set (dom paths)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 964:10: (forall ln:DEFAULT`Line \u0026 (forall con in set (dom (ln.connect)) \u0026 (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (forall dr in set {\u003cADIR\u003e, \u003cBDIR\u003e} \u0026 ((exists p in set (rng ((ln.areas)((n1.aid)).paths)) \u0026 ((p.used)(dr) and (EndJoint(p, dr) \u003d (n1.no)))) \u003d\u003e ((n1.no) in set (dom (((ln.areas)((n1.aid)).trackcs)((n1.tcid)).joints)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 677:9: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id \u0026 (((aid in set (dom (ln.areas))) and (pre_Del_Joint((ln.areas)(aid), tcid, jid) and (forall c in set (dom (ln.connect)) \u0026 (forall aj in set c \u0026 ((((aj.aid) \u003d aid) and ((aj.tcid) \u003d tcid)) \u003d\u003e ((aj.no) \u003c\u003e jid)))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Del_Joint((ln.areas)(aid), tcid, jid)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e ((tcid in set (dom ((RESULT.areas)(aid).trackcs))) \u003d\u003e ((jid not in set (dom (((RESULT.areas)(aid).trackcs)(tcid).joints))) \u003d\u003e (((dom (RESULT.areas)) \u003d (dom (ln.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e (((dom ((RESULT.areas)(aid).trackcs)) \u003d (dom ((ln.areas)(aid).trackcs))) \u003d\u003e ((({tcid} \u003c-: ((RESULT.areas)(aid).trackcs)) \u003d ({tcid} \u003c-: ((ln.areas)(aid).trackcs))) \u003d\u003e (aid in set (dom (RESULT.areas))))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 587:23: (forall ln:DEFAULT`Line, con:DEFAULT`Connect, r:DEFAULT`Remark_Connect \u0026 ((forall c in set (dom (ln.connect)) \u0026 ((c inter con) \u003d {})) \u003d\u003e ((forall n in set con \u0026 Area_Joint_Exists((ln.areas), n)) \u003d\u003e (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (Direction_for_Area_Joint(((ln.areas)((n1.aid)).paths), (n1.no), ((ln.areas)((n2.aid)).paths), (n2.no), (r.chng_direction)) \u003d\u003e ((n2.aid) in set (dom (ln.areas)))))))))","type compatibility obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 553:47: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, kind:DEFAULT`Area_Kind, max:DEFAULT`MaxSpeed \u0026 ((aid not in set (dom (ln.areas))) \u003d\u003e inv_TrackC_map({|-\u003e})))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 978:17: (forall ln:DEFAULT`Line \u0026 (forall con in set (dom (ln.connect)) \u0026 (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (forall dr in set {\u003cADIR\u003e, \u003cBDIR\u003e} \u0026 (forall p in set (rng ((ln.areas)((n1.aid)).paths)) \u0026 (dr in set (dom (p.used)))))))))","function establishes postcondition obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 606:1: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, tc:DEFAULT`TrackC \u0026 (pre_Line_Add_TrackC(ln, aid, tcid, tc) \u003d\u003e post_Line_Add_TrackC(ln, aid, tcid, tc, mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Add_TrackC((ln.areas)(aid), tcid, tc)})))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 529:13: (forall areas:DEFAULT`Area_map, n:DEFAULT`Area_Joint \u0026 (((n.aid) in set (dom areas)) \u003d\u003e (((n.tcid) in set (dom (areas((n.aid)).trackcs))) \u003d\u003e (((n.no) in set (dom ((areas((n.aid)).trackcs)((n.tcid)).joints))) \u003d\u003e ((n.tcid) in set (dom (areas((n.aid)).trackcs)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 103:17: (forall tc1:DEFAULT`TrackC, jid1:DEFAULT`Joint_id, tc2:DEFAULT`TrackC, jid2:DEFAULT`Joint_id, dir_chng:bool \u0026 ((jid1 in set (dom (tc1.joints))) \u003d\u003e ((jid2 in set (dom (tc2.joints))) \u003d\u003e (Remark_Compatible(((tc1.joints)(jid1).remark), ((tc2.joints)(jid2).remark), dir_chng) \u003d\u003e (ATC_Terminal_and_ATC_Used((tc1.atc)(\u003cADIR\u003e), (tc2.atc)(\u003cBDIR\u003e), ((tc1.joints)(jid1).remark), (tc2.atc)(\u003cADIR\u003e), (tc2.atc)(\u003cBDIR\u003e), ((tc2.joints)(jid2).remark), dir_chng) \u003d\u003e (jid1 in set (dom (tc1.joints))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 705:22: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, pid:DEFAULT`Path_id \u0026 ((aid in set (dom (ln.areas))) \u003d\u003e (aid in set (dom (ln.areas)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 917:30: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall tcid in set (dom (ar.trackcs)) \u0026 (tcid in set (dom (ar.trackcs)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 180:46: (forall ps:map (DEFAULT`Path_id) to (DEFAULT`Path) \u0026 (forall pid1, pid2 in set (dom ps) \u0026 ((pid1 \u003c\u003e pid2) \u003d\u003e (Not_Same_Path(ps(pid1), ps(pid2)) \u003d\u003e (pid2 in set (dom ps))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 436:9: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, con:DEFAULT`Condition \u0026 (((pid in set (dom (ar.paths))) and let p:DEFAULT`Path \u003d (ar.paths)(pid) in (((((ar.trackcs)((p.tc)).joints)((p.start)).position) \u003c\u003d (con.start)) and (((con.endp) \u003c\u003d (((ar.trackcs)((p.tc)).joints)((p.endp)).position)) and (forall c in set (p.condition) \u0026 Condition_not_Conflict(c, con))))) \u003d\u003e let RESULT \u003d let p:DEFAULT`Path \u003d mu((ar.paths)(pid), condition |-\u003e (((ar.paths)(pid).condition) union {con})) in mu(ar, paths |-\u003e ((ar.paths) ++ {pid |-\u003e p})) in ((pid in set (dom (RESULT.paths))) \u003d\u003e (((dom (RESULT.paths)) \u003d (dom (ar.paths))) \u003d\u003e ((({pid} \u003c-: (RESULT.paths)) \u003d ({pid} \u003c-: (ar.paths))) \u003d\u003e (((RESULT.paths)(pid) \u003d mu((ar.paths)(pid), condition |-\u003e (((ar.paths)(pid).condition) union {con}))) \u003d\u003e ((((RESULT.paths)(pid).start) \u003d ((ar.paths)(pid).start)) \u003d\u003e ((((RESULT.paths)(pid).endp) \u003d ((ar.paths)(pid).endp)) \u003d\u003e ((((RESULT.paths)(pid).tc) \u003d ((ar.paths)(pid).tc)) \u003d\u003e (pid in set (dom (RESULT.paths))))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 433:9: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, con:DEFAULT`Condition \u0026 (((pid in set (dom (ar.paths))) and let p:DEFAULT`Path \u003d (ar.paths)(pid) in (((((ar.trackcs)((p.tc)).joints)((p.start)).position) \u003c\u003d (con.start)) and (((con.endp) \u003c\u003d (((ar.trackcs)((p.tc)).joints)((p.endp)).position)) and (forall c in set (p.condition) \u0026 Condition_not_Conflict(c, con))))) \u003d\u003e let RESULT \u003d let p:DEFAULT`Path \u003d mu((ar.paths)(pid), condition |-\u003e (((ar.paths)(pid).condition) union {con})) in mu(ar, paths |-\u003e ((ar.paths) ++ {pid |-\u003e p})) in ((pid in set (dom (RESULT.paths))) \u003d\u003e (((dom (RESULT.paths)) \u003d (dom (ar.paths))) \u003d\u003e ((({pid} \u003c-: (RESULT.paths)) \u003d ({pid} \u003c-: (ar.paths))) \u003d\u003e (((RESULT.paths)(pid) \u003d mu((ar.paths)(pid), condition |-\u003e (((ar.paths)(pid).condition) union {con}))) \u003d\u003e (pid in set (dom (RESULT.paths)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 454:9: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, kind:DEFAULT`Cond_Kind, start:nat, endp:nat \u0026 (((pid in set (dom (ar.paths))) and (exists c in set ((ar.paths)(pid).condition) \u0026 (((c.kind) \u003d kind) and (((c.start) \u003d start) and ((c.endp) \u003d endp))))) \u003d\u003e let RESULT \u003d let p:DEFAULT`Path \u003d mu((ar.paths)(pid), condition |-\u003e {l | l in set ((ar.paths)(pid).condition) \u0026 (not (((l.kind) \u003d kind) and (((l.start) \u003d start) and ((l.endp) \u003d endp))))}) in mu(ar, paths |-\u003e ((ar.paths) ++ {pid |-\u003e p})) in ((pid in set (dom (RESULT.paths))) \u003d\u003e (((dom (RESULT.paths)) \u003d (dom (ar.paths))) \u003d\u003e ((({pid} \u003c-: (RESULT.paths)) \u003d ({pid} \u003c-: (ar.paths))) \u003d\u003e (pid in set (dom (RESULT.paths))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 278:25: (forall paths:DEFAULT`Path_map, route:seq of (DEFAULT`Path_id), dr:DEFAULT`Direction \u0026 (Path_Exists(paths, route, dr) \u003d\u003e (forall i in set (inds route) \u0026 (((i + 1) in set (inds route)) \u003d\u003e ((dr \u003d \u003cADIR\u003e) \u003d\u003e (route(i) in set (dom paths)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 653:13: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id, j:DEFAULT`Joint \u0026 (((aid in set (dom (ln.areas))) and (pre_Add_Joint((ln.areas)(aid), tcid, jid, j) and (forall c in set (dom (ln.connect)) \u0026 (forall n in set c \u0026 (((n.aid) \u003d aid) \u003d\u003e ((n.no) \u003c\u003e jid)))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Add_Joint((ln.areas)(aid), tcid, jid, j)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e ((tcid in set (dom ((RESULT.areas)(aid).trackcs))) \u003d\u003e ((jid in set (dom (((RESULT.areas)(aid).trackcs)(tcid).joints))) \u003d\u003e (((dom (RESULT.areas)) \u003d (dom (ln.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e (aid in set (dom (RESULT.areas))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 622:9: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, tc:DEFAULT`TrackC \u0026 (((aid in set (dom (ln.areas))) and (pre_Add_TrackC((ln.areas)(aid), tcid, tc) and (forall jid in set (dom (tc.joints)) \u0026 (forall c in set (dom (ln.connect)) \u0026 (forall n in set c \u0026 (((n.aid) \u003d aid) \u003d\u003e ((n.no) \u003c\u003e jid))))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Add_TrackC((ln.areas)(aid), tcid, tc)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e (((dom (ln.areas)) \u003d (dom (RESULT.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e ((tcid in set (dom ((RESULT.areas)(aid).trackcs))) \u003d\u003e ((((RESULT.areas)(aid).trackcs) \u003d (((ln.areas)(aid).trackcs) ++ {tcid |-\u003e tc})) \u003d\u003e (aid in set (dom (RESULT.areas))))))))))","legal function application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 221:9: (forall mk_Area(trackcs, paths, routes, -, -):DEFAULT`Area \u0026 (forall p in set (rng paths) \u0026 (Path_within_TrackC(trackcs, p) \u003d\u003e pre_Direction_Correct(trackcs, p))))","function establishes postcondition obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 567:1: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id \u0026 (pre_Del_Area(ln, aid) \u003d\u003e post_Del_Area(ln, aid, mu(ln, areas |-\u003e ({aid} \u003c-: (ln.areas))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 459:32: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, kind:DEFAULT`Cond_Kind, start:nat, endp:nat \u0026 (((pid in set (dom (ar.paths))) and (exists c in set ((ar.paths)(pid).condition) \u0026 (((c.kind) \u003d kind) and (((c.start) \u003d start) and ((c.endp) \u003d endp))))) \u003d\u003e let RESULT \u003d let p:DEFAULT`Path \u003d mu((ar.paths)(pid), condition |-\u003e {l | l in set ((ar.paths)(pid).condition) \u0026 (not (((l.kind) \u003d kind) and (((l.start) \u003d start) and ((l.endp) \u003d endp))))}) in mu(ar, paths |-\u003e ((ar.paths) ++ {pid |-\u003e p})) in ((pid in set (dom (RESULT.paths))) \u003d\u003e (((dom (RESULT.paths)) \u003d (dom (ar.paths))) \u003d\u003e ((({pid} \u003c-: (RESULT.paths)) \u003d ({pid} \u003c-: (ar.paths))) \u003d\u003e (((RESULT.paths)(pid) \u003d mu((ar.paths)(pid), condition |-\u003e {l | l in set ((ar.paths)(pid).condition) \u0026 (not (((l.kind) \u003d kind) and (((l.start) \u003d start) and ((l.endp) \u003d endp))))})) \u003d\u003e ((((RESULT.paths)(pid).start) \u003d ((ar.paths)(pid).start)) \u003d\u003e ((((RESULT.paths)(pid).endp) \u003d ((ar.paths)(pid).endp)) \u003d\u003e (pid in set (dom (ar.paths)))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 179:32: (forall ps:map (DEFAULT`Path_id) to (DEFAULT`Path) \u0026 (forall pid1, pid2 in set (dom ps) \u0026 ((pid1 \u003c\u003e pid2) \u003d\u003e (pid1 in set (dom ps)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 338:9: (forall ar:DEFAULT`Area, tid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id, joint:DEFAULT`Joint \u0026 (((tid in set (dom (ar.trackcs))) and let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tid) in ((jid not in set (dom (tc.joints))) and (TD_Used_for_NonInsulated_TrackC((tc.td), (tc.atbt), ((rng (tc.joints)) union {joint})) and (Only_One_Next_TrackC((ar.trackcs), tid, jid) and (forall tid1 in set (dom (ar.trackcs)) \u0026 ((tid1 \u003c\u003e tid) \u003d\u003e Joint_and_Next_TrackC((ar.trackcs)(tid1), mu(tc, joints |-\u003e ((tc.joints) ++ {jid |-\u003e joint})), jid))))))) \u003d\u003e let RESULT \u003d let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tid) in mu(ar, trackcs |-\u003e ((ar.trackcs) ++ {tid |-\u003e mu(tc, joints |-\u003e ((tc.joints) ++ {jid |-\u003e joint}))})) in ((tid in set (dom (RESULT.trackcs))) \u003d\u003e ((jid in set (dom ((RESULT.trackcs)(tid).joints))) \u003d\u003e (((dom (RESULT.trackcs)) \u003d (dom (ar.trackcs))) \u003d\u003e ((({tid} \u003c-: (RESULT.trackcs)) \u003d ({tid} \u003c-: (ar.trackcs))) \u003d\u003e (((RESULT.trackcs)(tid) \u003d mu((ar.trackcs)(tid), joints |-\u003e (((ar.trackcs)(tid).joints) ++ {jid |-\u003e joint}))) \u003d\u003e ((((RESULT.trackcs)(tid).joints)(jid) \u003d joint) \u003d\u003e ((((RESULT.trackcs)(tid).atc) \u003d ((ar.trackcs)(tid).atc)) \u003d\u003e (tid in set (dom (RESULT.trackcs))))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 928:17: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 ((forall tcid in set (dom (ar.trackcs)) \u0026 (forall dr in set (dom ((ar.trackcs)(tcid).atc)) \u0026 ((((ar.trackcs)(tcid).atc)(dr).used) \u003d\u003e (exists1 rid in set (dom (ar.routes)) \u0026 ((((ar.routes)(rid).dr) \u003d dr) and (exists pid in set (elems ((ar.routes)(rid).paths)) \u0026 (((ar.paths)(pid).tc) \u003d tcid))))))) \u003d\u003e (forall r in set (rng (ar.routes)) \u0026 let p:DEFAULT`Path \u003d (ar.paths)((r.paths)((len (r.paths)))) in let jid:DEFAULT`Joint_id \u003d EndJoint(p, (r.dr)) in ((not (mk_Area_Joint(aid, (p.tc), jid) in set (dunion (dom connect)))) \u003d\u003e ((not ((((ar.trackcs)((p.tc)).joints)(jid).remark).line_terminal)) \u003d\u003e ((r.dr) in set (dom ((((ar.trackcs)((p.tc)).joints)(jid).remark).atc_terminal))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 433:35: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, con:DEFAULT`Condition \u0026 (((pid in set (dom (ar.paths))) and let p:DEFAULT`Path \u003d (ar.paths)(pid) in (((((ar.trackcs)((p.tc)).joints)((p.start)).position) \u003c\u003d (con.start)) and (((con.endp) \u003c\u003d (((ar.trackcs)((p.tc)).joints)((p.endp)).position)) and (forall c in set (p.condition) \u0026 Condition_not_Conflict(c, con))))) \u003d\u003e let RESULT \u003d let p:DEFAULT`Path \u003d mu((ar.paths)(pid), condition |-\u003e (((ar.paths)(pid).condition) union {con})) in mu(ar, paths |-\u003e ((ar.paths) ++ {pid |-\u003e p})) in ((pid in set (dom (RESULT.paths))) \u003d\u003e (((dom (RESULT.paths)) \u003d (dom (ar.paths))) \u003d\u003e ((({pid} \u003c-: (RESULT.paths)) \u003d ({pid} \u003c-: (ar.paths))) \u003d\u003e (((RESULT.paths)(pid) \u003d mu((ar.paths)(pid), condition |-\u003e (((ar.paths)(pid).condition) union {con}))) \u003d\u003e (pid in set (dom (ar.paths)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 362:35: (forall ar:DEFAULT`Area, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id \u0026 (((tcid in set (dom (ar.trackcs))) and ((jid in set (dom ((ar.trackcs)(tcid).joints))) and (((card (dom ((ar.trackcs)(tcid).joints))) \u003e 2) and (forall path in set (rng (ar.paths)) \u0026 (((path.tc) \u003c\u003e tcid) or ((jid \u003c\u003e (path.start)) and (jid \u003c\u003e (path.endp)))))))) \u003d\u003e let RESULT \u003d let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tcid) in mu(ar, trackcs |-\u003e ((ar.trackcs) ++ {tcid |-\u003e mu(tc, joints |-\u003e ({jid} \u003c-: (tc.joints)))})) in ((tcid in set (dom (RESULT.trackcs))) \u003d\u003e (((dom (RESULT.trackcs)) \u003d (dom (ar.trackcs))) \u003d\u003e ((({tcid} \u003c-: (RESULT.trackcs)) \u003d ({tcid} \u003c-: (ar.trackcs))) \u003d\u003e ((jid not in set (dom ((RESULT.trackcs)(tcid).joints))) \u003d\u003e (((RESULT.trackcs)(tcid) \u003d mu((ar.trackcs)(tcid), joints |-\u003e ({jid} \u003c-: ((ar.trackcs)(tcid).joints)))) \u003d\u003e ((((RESULT.trackcs)(tcid).atc) \u003d ((ar.trackcs)(tcid).atc)) \u003d\u003e (tcid in set (dom (ar.trackcs)))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 643:36: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id, j:DEFAULT`Joint \u0026 (((aid in set (dom (ln.areas))) and (pre_Add_Joint((ln.areas)(aid), tcid, jid, j) and (forall c in set (dom (ln.connect)) \u0026 (forall n in set c \u0026 (((n.aid) \u003d aid) \u003d\u003e ((n.no) \u003c\u003e jid)))))) \u003d\u003e (aid in set (dom (ln.areas)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 425:29: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, con:DEFAULT`Condition \u0026 ((pid in set (dom (ar.paths))) \u003d\u003e let p:DEFAULT`Path \u003d (ar.paths)(pid) in (((((ar.trackcs)((p.tc)).joints)((p.start)).position) \u003c\u003d (con.start)) \u003d\u003e ((p.tc) in set (dom (ar.trackcs))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 99:48: (forall tc1:DEFAULT`TrackC, jid1:DEFAULT`Joint_id, tc2:DEFAULT`TrackC, jid2:DEFAULT`Joint_id, dir_chng:bool \u0026 ((jid1 in set (dom (tc1.joints))) \u003d\u003e ((jid2 in set (dom (tc2.joints))) \u003d\u003e (Remark_Compatible(((tc1.joints)(jid1).remark), ((tc2.joints)(jid2).remark), dir_chng) \u003d\u003e (\u003cBDIR\u003e in set (dom (tc2.atc)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 622:9: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, tc:DEFAULT`TrackC \u0026 (((aid in set (dom (ln.areas))) and (pre_Add_TrackC((ln.areas)(aid), tcid, tc) and (forall jid in set (dom (tc.joints)) \u0026 (forall c in set (dom (ln.connect)) \u0026 (forall n in set c \u0026 (((n.aid) \u003d aid) \u003d\u003e ((n.no) \u003c\u003e jid))))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Add_TrackC((ln.areas)(aid), tcid, tc)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e (((dom (ln.areas)) \u003d (dom (RESULT.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e ((tcid in set (dom ((RESULT.areas)(aid).trackcs))) \u003d\u003e ((((RESULT.areas)(aid).trackcs) \u003d (((ln.areas)(aid).trackcs) ++ {tcid |-\u003e tc})) \u003d\u003e (tcid in set (dom ((RESULT.areas)(aid).trackcs))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 649:25: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id, j:DEFAULT`Joint \u0026 (((aid in set (dom (ln.areas))) and (pre_Add_Joint((ln.areas)(aid), tcid, jid, j) and (forall c in set (dom (ln.connect)) \u0026 (forall n in set c \u0026 (((n.aid) \u003d aid) \u003d\u003e ((n.no) \u003c\u003e jid)))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Add_Joint((ln.areas)(aid), tcid, jid, j)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e (aid in set (dom (RESULT.areas))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 585:25: (forall ln:DEFAULT`Line, con:DEFAULT`Connect, r:DEFAULT`Remark_Connect \u0026 ((forall c in set (dom (ln.connect)) \u0026 ((c inter con) \u003d {})) \u003d\u003e ((forall n in set con \u0026 Area_Joint_Exists((ln.areas), n)) \u003d\u003e (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e ((n2.aid) in set (dom (ln.areas))))))))","legal function application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 628:26: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id \u0026 (((aid in set (dom (ln.areas))) and (pre_Del_TrackC((ln.areas)(aid), tcid) and (forall c in set (dom (ln.connect)) \u0026 (forall aj in set c \u0026 (((aj.aid) \u003d aid) \u003d\u003e ((aj.tcid) \u003c\u003e tcid)))))) \u003d\u003e pre_Del_TrackC((ln.areas)(aid), tcid)))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 609:37: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, tc:DEFAULT`TrackC \u0026 (((aid in set (dom (ln.areas))) and (pre_Add_TrackC((ln.areas)(aid), tcid, tc) and (forall jid in set (dom (tc.joints)) \u0026 (forall c in set (dom (ln.connect)) \u0026 (forall n in set c \u0026 (((n.aid) \u003d aid) \u003d\u003e ((n.no) \u003c\u003e jid))))))) \u003d\u003e (aid in set (dom (ln.areas)))))","legal function application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 401:5: (forall ar:DEFAULT`Area, rid:DEFAULT`Route_id, r:DEFAULT`Route \u0026 ((rid not in set (dom (ar.routes))) \u003d\u003e (Path_Exists((ar.paths), (r.paths), (r.dr)) \u003d\u003e (Exists_ATC_for_Route((ar.trackcs), (ar.paths), r) \u003d\u003e (Route_not_Circular((ar.paths), r) \u003d\u003e pre_Path_Connected((ar.paths), (r.paths), (r.dr)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 588:49: (forall ln:DEFAULT`Line, con:DEFAULT`Connect, r:DEFAULT`Remark_Connect \u0026 ((forall c in set (dom (ln.connect)) \u0026 ((c inter con) \u003d {})) \u003d\u003e ((forall n in set con \u0026 Area_Joint_Exists((ln.areas), n)) \u003d\u003e (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (Direction_for_Area_Joint(((ln.areas)((n1.aid)).paths), (n1.no), ((ln.areas)((n2.aid)).paths), (n2.no), (r.chng_direction)) \u003d\u003e let tc1:DEFAULT`TrackC \u003d ((ln.areas)((n1.aid)).trackcs)((n1.tcid)), tc2:DEFAULT`TrackC \u003d ((ln.areas)((n2.aid)).trackcs)((n2.tcid)) in ((n2.no) in set (dom (tc2.joints)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 742:48: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, pid:DEFAULT`Path_id, con:DEFAULT`Condition \u0026 (((aid in set (dom (ln.areas))) and pre_Add_Condition((ln.areas)(aid), pid, con)) \u003d\u003e (aid in set (dom (ln.areas)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 270:43: (forall paths:DEFAULT`Path_map, r:DEFAULT`Route \u0026 (Path_Exists(paths, (r.paths), (r.dr)) \u003d\u003e (forall i, j in set (inds (r.paths)) \u0026 ((i \u003c\u003e j) \u003d\u003e ((r.paths)(j) in set (dom paths))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 593:5: (forall ln:DEFAULT`Line, con:DEFAULT`Connect, r:DEFAULT`Remark_Connect \u0026 (((forall c in set (dom (ln.connect)) \u0026 ((c inter con) \u003d {})) and ((forall n in set con \u0026 Area_Joint_Exists((ln.areas), n)) and (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (Direction_for_Area_Joint(((ln.areas)((n1.aid)).paths), (n1.no), ((ln.areas)((n2.aid)).paths), (n2.no), (r.chng_direction)) and let tc1:DEFAULT`TrackC \u003d ((ln.areas)((n1.aid)).trackcs)((n1.tcid)), tc2:DEFAULT`TrackC \u003d ((ln.areas)((n2.aid)).trackcs)((n2.tcid)) in (Joint_Compatible((tc1.joints)((n1.no)), (tc2.joints)((n2.no)), r) and Is_wf_adjacent_signal(tc1, (n1.no), tc2, (n2.no), (r.chng_direction)))))))) \u003d\u003e let RESULT \u003d mu(ln, connect |-\u003e ((ln.connect) ++ {con |-\u003e r})) in ((con in set (dom (RESULT.connect))) \u003d\u003e (((RESULT.connect) \u003d ((ln.connect) ++ {con |-\u003e r})) \u003d\u003e (con in set (dom (RESULT.connect)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 720:24: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, rid:DEFAULT`Route_id, r:DEFAULT`Route \u0026 (((aid in set (dom (ln.areas))) and pre_Add_Route((ln.areas)(aid), rid, r)) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Add_Route((ln.areas)(aid), rid, r)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e (aid in set (dom (RESULT.areas))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 435:32: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, con:DEFAULT`Condition \u0026 (((pid in set (dom (ar.paths))) and let p:DEFAULT`Path \u003d (ar.paths)(pid) in (((((ar.trackcs)((p.tc)).joints)((p.start)).position) \u003c\u003d (con.start)) and (((con.endp) \u003c\u003d (((ar.trackcs)((p.tc)).joints)((p.endp)).position)) and (forall c in set (p.condition) \u0026 Condition_not_Conflict(c, con))))) \u003d\u003e let RESULT \u003d let p:DEFAULT`Path \u003d mu((ar.paths)(pid), condition |-\u003e (((ar.paths)(pid).condition) union {con})) in mu(ar, paths |-\u003e ((ar.paths) ++ {pid |-\u003e p})) in ((pid in set (dom (RESULT.paths))) \u003d\u003e (((dom (RESULT.paths)) \u003d (dom (ar.paths))) \u003d\u003e ((({pid} \u003c-: (RESULT.paths)) \u003d ({pid} \u003c-: (ar.paths))) \u003d\u003e (((RESULT.paths)(pid) \u003d mu((ar.paths)(pid), condition |-\u003e (((ar.paths)(pid).condition) union {con}))) \u003d\u003e ((((RESULT.paths)(pid).start) \u003d ((ar.paths)(pid).start)) \u003d\u003e ((((RESULT.paths)(pid).endp) \u003d ((ar.paths)(pid).endp)) \u003d\u003e (pid in set (dom (ar.paths)))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 620:9: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, tc:DEFAULT`TrackC \u0026 (((aid in set (dom (ln.areas))) and (pre_Add_TrackC((ln.areas)(aid), tcid, tc) and (forall jid in set (dom (tc.joints)) \u0026 (forall c in set (dom (ln.connect)) \u0026 (forall n in set c \u0026 (((n.aid) \u003d aid) \u003d\u003e ((n.no) \u003c\u003e jid))))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Add_TrackC((ln.areas)(aid), tcid, tc)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e (((dom (ln.areas)) \u003d (dom (RESULT.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e ((tcid in set (dom ((RESULT.areas)(aid).trackcs))) \u003d\u003e (aid in set (dom (RESULT.areas)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 424:17: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, con:DEFAULT`Condition \u0026 ((pid in set (dom (ar.paths))) \u003d\u003e let p:DEFAULT`Path \u003d (ar.paths)(pid) in ((p.tc) in set (dom (ar.trackcs)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 988:17: (forall ln:DEFAULT`Line \u0026 (forall con in set (dom (ln.connect)) \u0026 (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (forall dr in set {\u003cADIR\u003e, \u003cBDIR\u003e} \u0026 ((exists p in set (rng ((ln.areas)((n1.aid)).paths)) \u0026 ((p.used)(dr) and (StartJoint(p, dr) \u003d (n1.no)))) \u003d\u003e ((not (((((ln.areas)((n1.aid)).trackcs)((n1.tcid)).joints)((n1.no)).remark).atc_terminal)(dr)) \u003d\u003e (forall p2 in set (rng ((ln.areas)((n2.aid)).paths)) \u0026 let dr2:(\u003cADIR\u003e | \u003cBDIR\u003e) \u003d (if (not ((ln.connect)(con).chng_direction))\nthen dr\nelseif (dr \u003d \u003cADIR\u003e)\nthen \u003cBDIR\u003e\nelse \u003cADIR\u003e) in (dr2 in set (dom (p2.used)))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 922:25: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall tcid in set (dom (ar.trackcs)) \u0026 (forall dr in set (dom ((ar.trackcs)(tcid).atc)) \u0026 ((((ar.trackcs)(tcid).atc)(dr).used) \u003d\u003e (forall rid in set (dom (ar.routes)) \u0026 ((((ar.routes)(rid).dr) \u003d dr) \u003d\u003e (forall pid in set (elems ((ar.routes)(rid).paths)) \u0026 (pid in set (dom (ar.paths))))))))))","type invariant satisfiable obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 68:1: (exists tcs:DEFAULT`TrackC_map \u0026 (forall tid in set (dom tcs) \u0026 (forall jid in set (dom (tcs(tid).joints)) \u0026 (Only_One_Next_TrackC(tcs, tid, jid) and (forall tid2 in set (dom tcs) \u0026 ((tid \u003c\u003e tid2) \u003d\u003e Joint_and_Next_TrackC(tcs(tid), tcs(tid2), jid)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 331:20: (forall ar:DEFAULT`Area, tid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id, joint:DEFAULT`Joint \u0026 (((tid in set (dom (ar.trackcs))) and let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tid) in ((jid not in set (dom (tc.joints))) and (TD_Used_for_NonInsulated_TrackC((tc.td), (tc.atbt), ((rng (tc.joints)) union {joint})) and (Only_One_Next_TrackC((ar.trackcs), tid, jid) and (forall tid1 in set (dom (ar.trackcs)) \u0026 ((tid1 \u003c\u003e tid) \u003d\u003e Joint_and_Next_TrackC((ar.trackcs)(tid1), mu(tc, joints |-\u003e ((tc.joints) ++ {jid |-\u003e joint})), jid))))))) \u003d\u003e let RESULT \u003d let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tid) in mu(ar, trackcs |-\u003e ((ar.trackcs) ++ {tid |-\u003e mu(tc, joints |-\u003e ((tc.joints) ++ {jid |-\u003e joint}))})) in ((tid in set (dom (RESULT.trackcs))) \u003d\u003e (tid in set (dom (RESULT.trackcs))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 871:28: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall rid in set (dom (ar.routes)) \u0026 let r:DEFAULT`Route \u003d (ar.routes)(rid) in let pid:DEFAULT`Path_id \u003d (r.paths)((len (r.paths))) in (pid in set (dom (ar.paths)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 361:32: (forall ar:DEFAULT`Area, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id \u0026 (((tcid in set (dom (ar.trackcs))) and ((jid in set (dom ((ar.trackcs)(tcid).joints))) and (((card (dom ((ar.trackcs)(tcid).joints))) \u003e 2) and (forall path in set (rng (ar.paths)) \u0026 (((path.tc) \u003c\u003e tcid) or ((jid \u003c\u003e (path.start)) and (jid \u003c\u003e (path.endp)))))))) \u003d\u003e let RESULT \u003d let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tcid) in mu(ar, trackcs |-\u003e ((ar.trackcs) ++ {tcid |-\u003e mu(tc, joints |-\u003e ({jid} \u003c-: (tc.joints)))})) in ((tcid in set (dom (RESULT.trackcs))) \u003d\u003e (((dom (RESULT.trackcs)) \u003d (dom (ar.trackcs))) \u003d\u003e ((({tcid} \u003c-: (RESULT.trackcs)) \u003d ({tcid} \u003c-: (ar.trackcs))) \u003d\u003e ((jid not in set (dom ((RESULT.trackcs)(tcid).joints))) \u003d\u003e (((RESULT.trackcs)(tcid) \u003d mu((ar.trackcs)(tcid), joints |-\u003e ({jid} \u003c-: ((ar.trackcs)(tcid).joints)))) \u003d\u003e (tcid in set (dom (ar.trackcs))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 328:31: (forall ar:DEFAULT`Area, tid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id, joint:DEFAULT`Joint \u0026 ((tid in set (dom (ar.trackcs))) \u003d\u003e let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tid) in ((jid not in set (dom (tc.joints))) \u003d\u003e (TD_Used_for_NonInsulated_TrackC((tc.td), (tc.atbt), ((rng (tc.joints)) union {joint})) \u003d\u003e (Only_One_Next_TrackC((ar.trackcs), tid, jid) \u003d\u003e (forall tid1 in set (dom (ar.trackcs)) \u0026 ((tid1 \u003c\u003e tid) \u003d\u003e (tid1 in set (dom (ar.trackcs))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 874:17: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall rid in set (dom (ar.routes)) \u0026 let r:DEFAULT`Route \u003d (ar.routes)(rid) in let pid:DEFAULT`Path_id \u003d (r.paths)((len (r.paths))) in let jid:DEFAULT`Joint_id \u003d EndJoint((ar.paths)(pid), (r.dr)), tcid:DEFAULT`TrackC_id \u003d ((ar.paths)(pid).tc) in ((not (mk_Area_Joint(aid, tcid, jid) in set (dunion (dom connect)))) \u003d\u003e (tcid in set (dom (ar.trackcs))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 339:36: (forall ar:DEFAULT`Area, tid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id, joint:DEFAULT`Joint \u0026 (((tid in set (dom (ar.trackcs))) and let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tid) in ((jid not in set (dom (tc.joints))) and (TD_Used_for_NonInsulated_TrackC((tc.td), (tc.atbt), ((rng (tc.joints)) union {joint})) and (Only_One_Next_TrackC((ar.trackcs), tid, jid) and (forall tid1 in set (dom (ar.trackcs)) \u0026 ((tid1 \u003c\u003e tid) \u003d\u003e Joint_and_Next_TrackC((ar.trackcs)(tid1), mu(tc, joints |-\u003e ((tc.joints) ++ {jid |-\u003e joint})), jid))))))) \u003d\u003e let RESULT \u003d let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tid) in mu(ar, trackcs |-\u003e ((ar.trackcs) ++ {tid |-\u003e mu(tc, joints |-\u003e ((tc.joints) ++ {jid |-\u003e joint}))})) in ((tid in set (dom (RESULT.trackcs))) \u003d\u003e ((jid in set (dom ((RESULT.trackcs)(tid).joints))) \u003d\u003e (((dom (RESULT.trackcs)) \u003d (dom (ar.trackcs))) \u003d\u003e ((({tid} \u003c-: (RESULT.trackcs)) \u003d ({tid} \u003c-: (ar.trackcs))) \u003d\u003e (((RESULT.trackcs)(tid) \u003d mu((ar.trackcs)(tid), joints |-\u003e (((ar.trackcs)(tid).joints) ++ {jid |-\u003e joint}))) \u003d\u003e ((((RESULT.trackcs)(tid).joints)(jid) \u003d joint) \u003d\u003e ((((RESULT.trackcs)(tid).atc) \u003d ((ar.trackcs)(tid).atc)) \u003d\u003e ((((RESULT.trackcs)(tid).td) \u003d ((ar.trackcs)(tid).td)) \u003d\u003e (tid in set (dom (ar.trackcs)))))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 905:17: (forall paths:DEFAULT`Path_map, pid:DEFAULT`Path_id, dr:DEFAULT`Direction \u0026 ((pid in set (dom paths)) \u003d\u003e (forall pid1 in set (dom paths) \u0026 (((paths(pid1).tc) \u003c\u003e (paths(pid).tc)) \u003d\u003e (dr in set (dom (paths(pid1).used)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 977:30: (forall ln:DEFAULT`Line \u0026 (forall con in set (dom (ln.connect)) \u0026 (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (forall dr in set {\u003cADIR\u003e, \u003cBDIR\u003e} \u0026 ((n1.aid) in set (dom (ln.areas))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 180:36: (forall ps:map (DEFAULT`Path_id) to (DEFAULT`Path) \u0026 (forall pid1, pid2 in set (dom ps) \u0026 ((pid1 \u003c\u003e pid2) \u003d\u003e (Not_Same_Path(ps(pid1), ps(pid2)) \u003d\u003e (pid1 in set (dom ps))))))","type invariant satisfiable obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 177:1: (exists ps:DEFAULT`Path_map \u0026 (forall pid1, pid2 in set (dom ps) \u0026 ((pid1 \u003c\u003e pid2) \u003d\u003e (Not_Same_Path(ps(pid1), ps(pid2)) and Not_Start_and_End(ps(pid1), ps(pid2))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 244:18: (forall trackcs:DEFAULT`TrackC_map, p:DEFAULT`Path \u0026 (Path_within_TrackC(trackcs, p) \u003d\u003e ((p.start) in set (dom (trackcs((p.tc)).joints)))))","function establishes postcondition obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 727:1: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, rid:DEFAULT`Route_id \u0026 (pre_Line_Del_Route(ln, aid, rid) \u003d\u003e post_Line_Del_Route(ln, aid, rid, mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Del_Route((ln.areas)(aid), rid)})))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 889:25: (forall routes:DEFAULT`Route_map, rid:DEFAULT`Route_id \u0026 ((rid in set (dom routes)) \u003d\u003e (forall rid1 in set (dom routes) \u0026 (rid in set (dom routes)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 494:17: (forall mk_Line(areas, connect):DEFAULT`Line \u0026 (forall c in set (dom connect) \u0026 ((forall n in set c \u0026 Area_Joint_Exists(areas, n)) \u003d\u003e (forall n1, n2 in set c \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (Direction_for_Area_Joint((areas((n1.aid)).paths), (n1.no), (areas((n2.aid)).paths), (n2.no), (connect(c).chng_direction)) \u003d\u003e let tc1:DEFAULT`TrackC \u003d (areas((n1.aid)).trackcs)((n1.tcid)), tc2:DEFAULT`TrackC \u003d (areas((n2.aid)).trackcs)((n2.tcid)) in (Joint_Compatible((tc1.joints)((n1.no)), (tc2.joints)((n2.no)), connect(c)) \u003d\u003e (c in set (dom connect)))))))))","legal sequence application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 924:34: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 ((forall tcid in set (dom (ar.trackcs)) \u0026 (forall dr in set (dom ((ar.trackcs)(tcid).atc)) \u0026 ((((ar.trackcs)(tcid).atc)(dr).used) \u003d\u003e (exists1 rid in set (dom (ar.routes)) \u0026 ((((ar.routes)(rid).dr) \u003d dr) and (exists pid in set (elems ((ar.routes)(rid).paths)) \u0026 (((ar.paths)(pid).tc) \u003d tcid))))))) \u003d\u003e (forall r in set (rng (ar.routes)) \u0026 ((len (r.paths)) in set (inds (r.paths))))))","type invariant satisfiable obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 138:1: (exists p:DEFAULT`Path \u0026 (((p.start) \u003c\u003e (p.endp)) and (((dom (p.used)) \u003d {\u003cADIR\u003e, \u003cBDIR\u003e}) and ((exists dr in set (dom (p.used)) \u0026 (p.used)(dr)) and (forall c1, c2 in set (p.condition) \u0026 Condition_not_Conflict(c1, c2))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 656:9: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id, j:DEFAULT`Joint \u0026 (((aid in set (dom (ln.areas))) and (pre_Add_Joint((ln.areas)(aid), tcid, jid, j) and (forall c in set (dom (ln.connect)) \u0026 (forall n in set c \u0026 (((n.aid) \u003d aid) \u003d\u003e ((n.no) \u003c\u003e jid)))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Add_Joint((ln.areas)(aid), tcid, jid, j)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e ((tcid in set (dom ((RESULT.areas)(aid).trackcs))) \u003d\u003e ((jid in set (dom (((RESULT.areas)(aid).trackcs)(tcid).joints))) \u003d\u003e (((dom (RESULT.areas)) \u003d (dom (ln.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e (((dom ((RESULT.areas)(aid).trackcs)) \u003d (dom ((ln.areas)(aid).trackcs))) \u003d\u003e ((({tcid} \u003c-: ((RESULT.areas)(aid).trackcs)) \u003d ({tcid} \u003c-: ((ln.areas)(aid).trackcs))) \u003d\u003e (tcid in set (dom ((RESULT.areas)(aid).trackcs))))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 735:28: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, rid:DEFAULT`Route_id \u0026 (((aid in set (dom (ln.areas))) and pre_Del_Route((ln.areas)(aid), rid)) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Del_Route((ln.areas)(aid), rid)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e (((dom (RESULT.areas)) \u003d (dom (ln.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e (aid in set (dom (RESULT.areas))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 298:35: (forall ar:DEFAULT`Area, tcid:DEFAULT`TrackC_id, tc:DEFAULT`TrackC \u0026 ((tcid not in set (dom (ar.trackcs))) \u003d\u003e (forall jid in set (dom (tc.joints)) \u0026 (Only_One_Next_TrackC((ar.trackcs), tcid, jid) \u003d\u003e (forall tcid1 in set (dom (ar.trackcs)) \u0026 (tcid1 in set (dom (ar.trackcs))))))))","legal sequence application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 892:25: (forall routes:DEFAULT`Route_map, rid:DEFAULT`Route_id \u0026 ((rid in set (dom routes)) \u003d\u003e (forall rid1 in set (dom routes) \u0026 let r:DEFAULT`Route \u003d routes(rid), r1:DEFAULT`Route \u003d routes(rid1) in (((r1.dr) \u003d (r.dr)) \u003d\u003e (forall i in set (inds (r1.paths)) \u0026 (i in set (inds (r1.paths))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 918:9: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall tcid in set (dom (ar.trackcs)) \u0026 (forall dr in set (dom ((ar.trackcs)(tcid).atc)) \u0026 (tcid in set (dom (ar.trackcs))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 492:17: (forall mk_Line(areas, connect):DEFAULT`Line \u0026 (forall c in set (dom connect) \u0026 ((forall n in set c \u0026 Area_Joint_Exists(areas, n)) \u003d\u003e (forall n1, n2 in set c \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (Direction_for_Area_Joint((areas((n1.aid)).paths), (n1.no), (areas((n2.aid)).paths), (n2.no), (connect(c).chng_direction)) \u003d\u003e let tc1:DEFAULT`TrackC \u003d (areas((n1.aid)).trackcs)((n1.tcid)), tc2:DEFAULT`TrackC \u003d (areas((n2.aid)).trackcs)((n2.tcid)) in (c in set (dom connect))))))))","legal function application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 226:9: (forall mk_Area(trackcs, paths, routes, -, -):DEFAULT`Area \u0026 ((forall p in set (rng paths) \u0026 (Path_within_TrackC(trackcs, p) and Direction_Correct(trackcs, p))) \u003d\u003e (forall r in set (rng routes) \u0026 (Path_Exists(paths, (r.paths), (r.dr)) \u003d\u003e (Exists_ATC_for_Route(trackcs, paths, r) \u003d\u003e (Route_not_Circular(paths, r) \u003d\u003e pre_Path_Connected(paths, (r.paths), (r.dr))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 687:22: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, pid:DEFAULT`Path_id, p:DEFAULT`Path \u0026 ((aid in set (dom (ln.areas))) \u003d\u003e (aid in set (dom (ln.areas)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 763:52: (forall ln:DEFAULT`Line \u0026 (forall aid in set (dom (ln.areas)) \u0026 (aid in set (dom (ln.areas)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 434:9: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, con:DEFAULT`Condition \u0026 (((pid in set (dom (ar.paths))) and let p:DEFAULT`Path \u003d (ar.paths)(pid) in (((((ar.trackcs)((p.tc)).joints)((p.start)).position) \u003c\u003d (con.start)) and (((con.endp) \u003c\u003d (((ar.trackcs)((p.tc)).joints)((p.endp)).position)) and (forall c in set (p.condition) \u0026 Condition_not_Conflict(c, con))))) \u003d\u003e let RESULT \u003d let p:DEFAULT`Path \u003d mu((ar.paths)(pid), condition |-\u003e (((ar.paths)(pid).condition) union {con})) in mu(ar, paths |-\u003e ((ar.paths) ++ {pid |-\u003e p})) in ((pid in set (dom (RESULT.paths))) \u003d\u003e (((dom (RESULT.paths)) \u003d (dom (ar.paths))) \u003d\u003e ((({pid} \u003c-: (RESULT.paths)) \u003d ({pid} \u003c-: (ar.paths))) \u003d\u003e (((RESULT.paths)(pid) \u003d mu((ar.paths)(pid), condition |-\u003e (((ar.paths)(pid).condition) union {con}))) \u003d\u003e ((((RESULT.paths)(pid).start) \u003d ((ar.paths)(pid).start)) \u003d\u003e (pid in set (dom (RESULT.paths))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 359:35: (forall ar:DEFAULT`Area, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id \u0026 (((tcid in set (dom (ar.trackcs))) and ((jid in set (dom ((ar.trackcs)(tcid).joints))) and (((card (dom ((ar.trackcs)(tcid).joints))) \u003e 2) and (forall path in set (rng (ar.paths)) \u0026 (((path.tc) \u003c\u003e tcid) or ((jid \u003c\u003e (path.start)) and (jid \u003c\u003e (path.endp)))))))) \u003d\u003e let RESULT \u003d let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tcid) in mu(ar, trackcs |-\u003e ((ar.trackcs) ++ {tcid |-\u003e mu(tc, joints |-\u003e ({jid} \u003c-: (tc.joints)))})) in ((tcid in set (dom (RESULT.trackcs))) \u003d\u003e (((dom (RESULT.trackcs)) \u003d (dom (ar.trackcs))) \u003d\u003e ((({tcid} \u003c-: (RESULT.trackcs)) \u003d ({tcid} \u003c-: (ar.trackcs))) \u003d\u003e ((jid not in set (dom ((RESULT.trackcs)(tcid).joints))) \u003d\u003e (tcid in set (dom (ar.trackcs)))))))))","function establishes postcondition obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 661:1: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id \u0026 (pre_Line_Del_Joint(ln, aid, tcid, jid) \u003d\u003e post_Line_Del_Joint(ln, aid, tcid, jid, mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Del_Joint((ln.areas)(aid), tcid, jid)})))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 457:9: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, kind:DEFAULT`Cond_Kind, start:nat, endp:nat \u0026 (((pid in set (dom (ar.paths))) and (exists c in set ((ar.paths)(pid).condition) \u0026 (((c.kind) \u003d kind) and (((c.start) \u003d start) and ((c.endp) \u003d endp))))) \u003d\u003e let RESULT \u003d let p:DEFAULT`Path \u003d mu((ar.paths)(pid), condition |-\u003e {l | l in set ((ar.paths)(pid).condition) \u0026 (not (((l.kind) \u003d kind) and (((l.start) \u003d start) and ((l.endp) \u003d endp))))}) in mu(ar, paths |-\u003e ((ar.paths) ++ {pid |-\u003e p})) in ((pid in set (dom (RESULT.paths))) \u003d\u003e (((dom (RESULT.paths)) \u003d (dom (ar.paths))) \u003d\u003e ((({pid} \u003c-: (RESULT.paths)) \u003d ({pid} \u003c-: (ar.paths))) \u003d\u003e (((RESULT.paths)(pid) \u003d mu((ar.paths)(pid), condition |-\u003e {l | l in set ((ar.paths)(pid).condition) \u0026 (not (((l.kind) \u003d kind) and (((l.start) \u003d start) and ((l.endp) \u003d endp))))})) \u003d\u003e (pid in set (dom (RESULT.paths)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 364:49: (forall ar:DEFAULT`Area, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id \u0026 (((tcid in set (dom (ar.trackcs))) and ((jid in set (dom ((ar.trackcs)(tcid).joints))) and (((card (dom ((ar.trackcs)(tcid).joints))) \u003e 2) and (forall path in set (rng (ar.paths)) \u0026 (((path.tc) \u003c\u003e tcid) or ((jid \u003c\u003e (path.start)) and (jid \u003c\u003e (path.endp)))))))) \u003d\u003e let RESULT \u003d let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tcid) in mu(ar, trackcs |-\u003e ((ar.trackcs) ++ {tcid |-\u003e mu(tc, joints |-\u003e ({jid} \u003c-: (tc.joints)))})) in ((tcid in set (dom (RESULT.trackcs))) \u003d\u003e (((dom (RESULT.trackcs)) \u003d (dom (ar.trackcs))) \u003d\u003e ((({tcid} \u003c-: (RESULT.trackcs)) \u003d ({tcid} \u003c-: (ar.trackcs))) \u003d\u003e ((jid not in set (dom ((RESULT.trackcs)(tcid).joints))) \u003d\u003e (((RESULT.trackcs)(tcid) \u003d mu((ar.trackcs)(tcid), joints |-\u003e ({jid} \u003c-: ((ar.trackcs)(tcid).joints)))) \u003d\u003e ((((RESULT.trackcs)(tcid).atc) \u003d ((ar.trackcs)(tcid).atc)) \u003d\u003e ((((RESULT.trackcs)(tcid).td) \u003d ((ar.trackcs)(tcid).td)) \u003d\u003e ((((RESULT.trackcs)(tcid).atbt) \u003d ((ar.trackcs)(tcid).atbt)) \u003d\u003e (tcid in set (dom (ar.trackcs)))))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 658:9: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id, j:DEFAULT`Joint \u0026 (((aid in set (dom (ln.areas))) and (pre_Add_Joint((ln.areas)(aid), tcid, jid, j) and (forall c in set (dom (ln.connect)) \u0026 (forall n in set c \u0026 (((n.aid) \u003d aid) \u003d\u003e ((n.no) \u003c\u003e jid)))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Add_Joint((ln.areas)(aid), tcid, jid, j)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e ((tcid in set (dom ((RESULT.areas)(aid).trackcs))) \u003d\u003e ((jid in set (dom (((RESULT.areas)(aid).trackcs)(tcid).joints))) \u003d\u003e (((dom (RESULT.areas)) \u003d (dom (ln.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e (((dom ((RESULT.areas)(aid).trackcs)) \u003d (dom ((ln.areas)(aid).trackcs))) \u003d\u003e ((({tcid} \u003c-: ((RESULT.areas)(aid).trackcs)) \u003d ({tcid} \u003c-: ((ln.areas)(aid).trackcs))) \u003d\u003e (((((RESULT.areas)(aid).trackcs)(tcid).joints) \u003d ((((ln.areas)(aid).trackcs)(tcid).joints) ++ {jid |-\u003e j})) \u003d\u003e (jid in set (dom (((RESULT.areas)(aid).trackcs)(tcid).joints)))))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 980:10: (forall ln:DEFAULT`Line \u0026 (forall con in set (dom (ln.connect)) \u0026 (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (forall dr in set {\u003cADIR\u003e, \u003cBDIR\u003e} \u0026 ((exists p in set (rng ((ln.areas)((n1.aid)).paths)) \u0026 ((p.used)(dr) and (StartJoint(p, dr) \u003d (n1.no)))) \u003d\u003e ((n1.aid) in set (dom (ln.areas)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 146:41: (forall p:DEFAULT`Path \u0026 (((p.start) \u003c\u003e (p.endp)) \u003d\u003e (((dom (p.used)) \u003d {\u003cADIR\u003e, \u003cBDIR\u003e}) \u003d\u003e (forall dr in set (dom (p.used)) \u0026 (dr in set (dom (p.used)))))))","function establishes postcondition obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 849:1: (forall path:DEFAULT`Path, dr:DEFAULT`Direction \u0026 post_StartJoint(path, dr, (if (dr \u003d \u003cADIR\u003e)\nthen (path.start)\nelse (path.endp))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 337:31: (forall ar:DEFAULT`Area, tid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id, joint:DEFAULT`Joint \u0026 (((tid in set (dom (ar.trackcs))) and let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tid) in ((jid not in set (dom (tc.joints))) and (TD_Used_for_NonInsulated_TrackC((tc.td), (tc.atbt), ((rng (tc.joints)) union {joint})) and (Only_One_Next_TrackC((ar.trackcs), tid, jid) and (forall tid1 in set (dom (ar.trackcs)) \u0026 ((tid1 \u003c\u003e tid) \u003d\u003e Joint_and_Next_TrackC((ar.trackcs)(tid1), mu(tc, joints |-\u003e ((tc.joints) ++ {jid |-\u003e joint})), jid))))))) \u003d\u003e let RESULT \u003d let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tid) in mu(ar, trackcs |-\u003e ((ar.trackcs) ++ {tid |-\u003e mu(tc, joints |-\u003e ((tc.joints) ++ {jid |-\u003e joint}))})) in ((tid in set (dom (RESULT.trackcs))) \u003d\u003e ((jid in set (dom ((RESULT.trackcs)(tid).joints))) \u003d\u003e (((dom (RESULT.trackcs)) \u003d (dom (ar.trackcs))) \u003d\u003e ((({tid} \u003c-: (RESULT.trackcs)) \u003d ({tid} \u003c-: (ar.trackcs))) \u003d\u003e (((RESULT.trackcs)(tid) \u003d mu((ar.trackcs)(tid), joints |-\u003e (((ar.trackcs)(tid).joints) ++ {jid |-\u003e joint}))) \u003d\u003e ((((RESULT.trackcs)(tid).joints)(jid) \u003d joint) \u003d\u003e (tid in set (dom (ar.trackcs)))))))))))","legal function application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 374:5: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, path:DEFAULT`Path \u0026 ((pid not in set (dom (ar.paths))) \u003d\u003e (Path_within_TrackC((ar.trackcs), path) \u003d\u003e pre_Direction_Correct((ar.trackcs), path))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 490:27: (forall mk_Line(areas, connect):DEFAULT`Line \u0026 (forall c in set (dom connect) \u0026 ((forall n in set c \u0026 Area_Joint_Exists(areas, n)) \u003d\u003e (forall n1, n2 in set c \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (Direction_for_Area_Joint((areas((n1.aid)).paths), (n1.no), (areas((n2.aid)).paths), (n2.no), (connect(c).chng_direction)) \u003d\u003e ((n2.aid) in set (dom areas))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 716:57: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, rid:DEFAULT`Route_id, r:DEFAULT`Route \u0026 (((aid in set (dom (ln.areas))) and pre_Add_Route((ln.areas)(aid), rid, r)) \u003d\u003e (aid in set (dom (ln.areas)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 927:17: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 ((forall tcid in set (dom (ar.trackcs)) \u0026 (forall dr in set (dom ((ar.trackcs)(tcid).atc)) \u0026 ((((ar.trackcs)(tcid).atc)(dr).used) \u003d\u003e (exists1 rid in set (dom (ar.routes)) \u0026 ((((ar.routes)(rid).dr) \u003d dr) and (exists pid in set (elems ((ar.routes)(rid).paths)) \u0026 (((ar.paths)(pid).tc) \u003d tcid))))))) \u003d\u003e (forall r in set (rng (ar.routes)) \u0026 let p:DEFAULT`Path \u003d (ar.paths)((r.paths)((len (r.paths)))) in let jid:DEFAULT`Joint_id \u003d EndJoint(p, (r.dr)) in ((not (mk_Area_Joint(aid, (p.tc), jid) in set (dunion (dom connect)))) \u003d\u003e (jid in set (dom ((ar.trackcs)((p.tc)).joints)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 245:16: (forall trackcs:DEFAULT`TrackC_map, p:DEFAULT`Path \u0026 (Path_within_TrackC(trackcs, p) \u003d\u003e ((p.tc) in set (dom trackcs))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 811:30: (forall ar:DEFAULT`Area \u0026 (forall pid in set (dom (ar.paths)) \u0026 (pid in set (dom (ar.paths)))))","legal sequence application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 270:49: (forall paths:DEFAULT`Path_map, r:DEFAULT`Route \u0026 (Path_Exists(paths, (r.paths), (r.dr)) \u003d\u003e (forall i, j in set (inds (r.paths)) \u0026 ((i \u003c\u003e j) \u003d\u003e (j in set (inds (r.paths)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 803:17: (forall trackcs:DEFAULT`TrackC_map, paths:DEFAULT`Path_map \u0026 (forall tid in set (dom trackcs) \u0026 (forall dr in set (dom (trackcs(tid).atc)) \u0026 (tid in set (dom trackcs)))))","function establishes postcondition obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 384:1: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id \u0026 (pre_Del_Path(ar, pid) \u003d\u003e post_Del_Path(ar, pid, mu(ar, paths |-\u003e ({pid} \u003c-: (ar.paths))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 927:17: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 ((forall tcid in set (dom (ar.trackcs)) \u0026 (forall dr in set (dom ((ar.trackcs)(tcid).atc)) \u0026 ((((ar.trackcs)(tcid).atc)(dr).used) \u003d\u003e (exists1 rid in set (dom (ar.routes)) \u0026 ((((ar.routes)(rid).dr) \u003d dr) and (exists pid in set (elems ((ar.routes)(rid).paths)) \u0026 (((ar.paths)(pid).tc) \u003d tcid))))))) \u003d\u003e (forall r in set (rng (ar.routes)) \u0026 let p:DEFAULT`Path \u003d (ar.paths)((r.paths)((len (r.paths)))) in let jid:DEFAULT`Joint_id \u003d EndJoint(p, (r.dr)) in ((not (mk_Area_Joint(aid, (p.tc), jid) in set (dunion (dom connect)))) \u003d\u003e ((p.tc) in set (dom (ar.trackcs)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 280:25: (forall paths:DEFAULT`Path_map, route:seq of (DEFAULT`Path_id), dr:DEFAULT`Direction \u0026 (Path_Exists(paths, route, dr) \u003d\u003e (forall i in set (inds route) \u0026 (((i + 1) in set (inds route)) \u003d\u003e (((dr \u003d \u003cADIR\u003e) \u003d\u003e ((paths(route(i)).endp) \u003d (paths(route((i + 1))).start))) \u003d\u003e ((dr \u003d \u003cBDIR\u003e) \u003d\u003e (route(i) in set (dom paths))))))))","function establishes postcondition obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 394:1: (forall ar:DEFAULT`Area, rid:DEFAULT`Route_id, r:DEFAULT`Route \u0026 (pre_Add_Route(ar, rid, r) \u003d\u003e post_Add_Route(ar, rid, r, mu(ar, routes |-\u003e ((ar.routes) ++ {rid |-\u003e r})))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 264:9: (forall trackcs:DEFAULT`TrackC_map, paths:DEFAULT`Path_map, r:DEFAULT`Route \u0026 (Path_Exists(paths, (r.paths), (r.dr)) \u003d\u003e (forall pid in set (elems (r.paths)) \u0026 (((paths(pid).tc) in set (dom trackcs)) \u003d\u003e ((r.dr) in set (dom (trackcs((paths(pid).tc)).atc)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 103:48: (forall tc1:DEFAULT`TrackC, jid1:DEFAULT`Joint_id, tc2:DEFAULT`TrackC, jid2:DEFAULT`Joint_id, dir_chng:bool \u0026 ((jid1 in set (dom (tc1.joints))) \u003d\u003e ((jid2 in set (dom (tc2.joints))) \u003d\u003e (Remark_Compatible(((tc1.joints)(jid1).remark), ((tc2.joints)(jid2).remark), dir_chng) \u003d\u003e (ATC_Terminal_and_ATC_Used((tc1.atc)(\u003cADIR\u003e), (tc2.atc)(\u003cBDIR\u003e), ((tc1.joints)(jid1).remark), (tc2.atc)(\u003cADIR\u003e), (tc2.atc)(\u003cBDIR\u003e), ((tc2.joints)(jid2).remark), dir_chng) \u003d\u003e (((tc1.joints)(jid1).insulated) \u003d\u003e (jid2 in set (dom (tc2.joints)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 85:28: (forall tc1:DEFAULT`TrackC, tc2:DEFAULT`TrackC, jid:DEFAULT`Joint_id \u0026 (((jid in set (dom (tc1.joints))) and (jid in set (dom (tc2.joints)))) \u003d\u003e (jid in set (dom (tc2.joints)))))","function establishes postcondition obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 625:1: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id \u0026 (pre_Line_Del_TrackC(ln, aid, tcid) \u003d\u003e post_Line_Del_TrackC(ln, aid, tcid, mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Del_TrackC((ln.areas)(aid), tcid)})))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 527:27: (forall areas:DEFAULT`Area_map, n:DEFAULT`Area_Joint \u0026 (((n.aid) in set (dom areas)) \u003d\u003e ((n.aid) in set (dom areas))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 943:32: (forall ln:DEFAULT`Line \u0026 (forall con in set (dom (ln.connect)) \u0026 (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (forall dr in set {\u003cADIR\u003e, \u003cBDIR\u003e} \u0026 ((n1.aid) in set (dom (ln.areas))))))))","legal sequence application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 892:39: (forall routes:DEFAULT`Route_map, rid:DEFAULT`Route_id \u0026 ((rid in set (dom routes)) \u003d\u003e (forall rid1 in set (dom routes) \u0026 let r:DEFAULT`Route \u003d routes(rid), r1:DEFAULT`Route \u003d routes(rid1) in (((r1.dr) \u003d (r.dr)) \u003d\u003e (forall i in set (inds (r1.paths)) \u0026 ((len (r.paths)) in set (inds (r.paths))))))))","type invariant satisfiable obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 516:1: (exists con:DEFAULT`Connect_map \u0026 (forall a1, a2 in set (dom con) \u0026 ((a1 \u003c\u003e a2) \u003d\u003e ((a1 inter a2) \u003d {}))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 529:13: (forall areas:DEFAULT`Area_map, n:DEFAULT`Area_Joint \u0026 (((n.aid) in set (dom areas)) \u003d\u003e (((n.tcid) in set (dom (areas((n.aid)).trackcs))) \u003d\u003e (((n.no) in set (dom ((areas((n.aid)).trackcs)((n.tcid)).joints))) \u003d\u003e ((n.aid) in set (dom areas))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 964:10: (forall ln:DEFAULT`Line \u0026 (forall con in set (dom (ln.connect)) \u0026 (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (forall dr in set {\u003cADIR\u003e, \u003cBDIR\u003e} \u0026 ((exists p in set (rng ((ln.areas)((n1.aid)).paths)) \u0026 ((p.used)(dr) and (EndJoint(p, dr) \u003d (n1.no)))) \u003d\u003e (dr in set (dom (((((ln.areas)((n1.aid)).trackcs)((n1.tcid)).joints)((n1.no)).remark).atc_terminal)))))))))","legal sequence application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 278:31: (forall paths:DEFAULT`Path_map, route:seq of (DEFAULT`Path_id), dr:DEFAULT`Direction \u0026 (Path_Exists(paths, route, dr) \u003d\u003e (forall i in set (inds route) \u0026 (((i + 1) in set (inds route)) \u003d\u003e ((dr \u003d \u003cADIR\u003e) \u003d\u003e (i in set (inds route)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 280:49: (forall paths:DEFAULT`Path_map, route:seq of (DEFAULT`Path_id), dr:DEFAULT`Direction \u0026 (Path_Exists(paths, route, dr) \u003d\u003e (forall i in set (inds route) \u0026 (((i + 1) in set (inds route)) \u003d\u003e (((dr \u003d \u003cADIR\u003e) \u003d\u003e ((paths(route(i)).endp) \u003d (paths(route((i + 1))).start))) \u003d\u003e ((dr \u003d \u003cBDIR\u003e) \u003d\u003e (route((i + 1)) in set (dom paths))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 528:25: (forall areas:DEFAULT`Area_map, n:DEFAULT`Area_Joint \u0026 (((n.aid) in set (dom areas)) \u003d\u003e (((n.tcid) in set (dom (areas((n.aid)).trackcs))) \u003d\u003e ((n.tcid) in set (dom (areas((n.aid)).trackcs))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 334:34: (forall ar:DEFAULT`Area, tid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id, joint:DEFAULT`Joint \u0026 (((tid in set (dom (ar.trackcs))) and let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tid) in ((jid not in set (dom (tc.joints))) and (TD_Used_for_NonInsulated_TrackC((tc.td), (tc.atbt), ((rng (tc.joints)) union {joint})) and (Only_One_Next_TrackC((ar.trackcs), tid, jid) and (forall tid1 in set (dom (ar.trackcs)) \u0026 ((tid1 \u003c\u003e tid) \u003d\u003e Joint_and_Next_TrackC((ar.trackcs)(tid1), mu(tc, joints |-\u003e ((tc.joints) ++ {jid |-\u003e joint})), jid))))))) \u003d\u003e let RESULT \u003d let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tid) in mu(ar, trackcs |-\u003e ((ar.trackcs) ++ {tid |-\u003e mu(tc, joints |-\u003e ((tc.joints) ++ {jid |-\u003e joint}))})) in ((tid in set (dom (RESULT.trackcs))) \u003d\u003e ((jid in set (dom ((RESULT.trackcs)(tid).joints))) \u003d\u003e (((dom (RESULT.trackcs)) \u003d (dom (ar.trackcs))) \u003d\u003e ((({tid} \u003c-: (RESULT.trackcs)) \u003d ({tid} \u003c-: (ar.trackcs))) \u003d\u003e (tid in set (dom (ar.trackcs)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 657:17: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id, j:DEFAULT`Joint \u0026 (((aid in set (dom (ln.areas))) and (pre_Add_Joint((ln.areas)(aid), tcid, jid, j) and (forall c in set (dom (ln.connect)) \u0026 (forall n in set c \u0026 (((n.aid) \u003d aid) \u003d\u003e ((n.no) \u003c\u003e jid)))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Add_Joint((ln.areas)(aid), tcid, jid, j)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e ((tcid in set (dom ((RESULT.areas)(aid).trackcs))) \u003d\u003e ((jid in set (dom (((RESULT.areas)(aid).trackcs)(tcid).joints))) \u003d\u003e (((dom (RESULT.areas)) \u003d (dom (ln.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e (((dom ((RESULT.areas)(aid).trackcs)) \u003d (dom ((ln.areas)(aid).trackcs))) \u003d\u003e ((({tcid} \u003c-: ((RESULT.areas)(aid).trackcs)) \u003d ({tcid} \u003c-: ((ln.areas)(aid).trackcs))) \u003d\u003e (aid in set (dom (ln.areas))))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 362:9: (forall ar:DEFAULT`Area, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id \u0026 (((tcid in set (dom (ar.trackcs))) and ((jid in set (dom ((ar.trackcs)(tcid).joints))) and (((card (dom ((ar.trackcs)(tcid).joints))) \u003e 2) and (forall path in set (rng (ar.paths)) \u0026 (((path.tc) \u003c\u003e tcid) or ((jid \u003c\u003e (path.start)) and (jid \u003c\u003e (path.endp)))))))) \u003d\u003e let RESULT \u003d let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tcid) in mu(ar, trackcs |-\u003e ((ar.trackcs) ++ {tcid |-\u003e mu(tc, joints |-\u003e ({jid} \u003c-: (tc.joints)))})) in ((tcid in set (dom (RESULT.trackcs))) \u003d\u003e (((dom (RESULT.trackcs)) \u003d (dom (ar.trackcs))) \u003d\u003e ((({tcid} \u003c-: (RESULT.trackcs)) \u003d ({tcid} \u003c-: (ar.trackcs))) \u003d\u003e ((jid not in set (dom ((RESULT.trackcs)(tcid).joints))) \u003d\u003e (((RESULT.trackcs)(tcid) \u003d mu((ar.trackcs)(tcid), joints |-\u003e ({jid} \u003c-: ((ar.trackcs)(tcid).joints)))) \u003d\u003e ((((RESULT.trackcs)(tcid).atc) \u003d ((ar.trackcs)(tcid).atc)) \u003d\u003e (tcid in set (dom (RESULT.trackcs)))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 487:42: (forall mk_Line(areas, connect):DEFAULT`Line \u0026 (forall c in set (dom connect) \u0026 ((forall n in set c \u0026 Area_Joint_Exists(areas, n)) \u003d\u003e (forall n1, n2 in set c \u0026 ((n1 \u003c\u003e n2) \u003d\u003e ((n1.aid) in set (dom areas)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 920:25: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall tcid in set (dom (ar.trackcs)) \u0026 (forall dr in set (dom ((ar.trackcs)(tcid).atc)) \u0026 ((((ar.trackcs)(tcid).atc)(dr).used) \u003d\u003e (forall rid in set (dom (ar.routes)) \u0026 (rid in set (dom (ar.routes))))))))","function establishes postcondition obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 369:1: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, path:DEFAULT`Path \u0026 (pre_Add_Path(ar, pid, path) \u003d\u003e post_Add_Path(ar, pid, path, mu(ar, paths |-\u003e ((ar.paths) ++ {pid |-\u003e path})))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 120:40: (forall atcA1:DEFAULT`ATC, atcB1:DEFAULT`ATC, rm1:DEFAULT`Remark, atcA2:DEFAULT`ATC, atcB2:DEFAULT`ATC, rm2:DEFAULT`Remark, dir_chng:bool \u0026 (Remark_Compatible(rm1, rm2, dir_chng) \u003d\u003e (((not dir_chng) \u003d\u003e ((((atcA1.used) \u003c\u003e (atcA2.used)) \u003d (rm1.atc_terminal)(\u003cADIR\u003e)) and (((atcB1.used) \u003c\u003e (atcB2.used)) \u003d (rm1.atc_terminal)(\u003cBDIR\u003e)))) \u003d\u003e (dir_chng \u003d\u003e ((((atcA1.used) \u003c\u003e (atcB2.used)) \u003d (rm1.atc_terminal)(\u003cADIR\u003e)) \u003d\u003e (\u003cBDIR\u003e in set (dom (rm1.atc_terminal))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 621:17: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, tc:DEFAULT`TrackC \u0026 (((aid in set (dom (ln.areas))) and (pre_Add_TrackC((ln.areas)(aid), tcid, tc) and (forall jid in set (dom (tc.joints)) \u0026 (forall c in set (dom (ln.connect)) \u0026 (forall n in set c \u0026 (((n.aid) \u003d aid) \u003d\u003e ((n.no) \u003c\u003e jid))))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Add_TrackC((ln.areas)(aid), tcid, tc)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e (((dom (ln.areas)) \u003d (dom (RESULT.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e ((tcid in set (dom ((RESULT.areas)(aid).trackcs))) \u003d\u003e (aid in set (dom (ln.areas)))))))))","legal function application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 399:9: (forall ar:DEFAULT`Area, rid:DEFAULT`Route_id, r:DEFAULT`Route \u0026 ((rid not in set (dom (ar.routes))) \u003d\u003e (Path_Exists((ar.paths), (r.paths), (r.dr)) \u003d\u003e pre_Exists_ATC_for_Route((ar.trackcs), (ar.paths), r))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 256:17: (forall paths:DEFAULT`Path_map, route:seq of (DEFAULT`Path_id), dr:DEFAULT`Direction \u0026 (forall pid in set (elems route) \u0026 ((pid in set (dom paths)) \u003d\u003e (pid in set (dom paths)))))","function establishes postcondition obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 408:1: (forall ar:DEFAULT`Area, rid:DEFAULT`Route_id \u0026 (pre_Del_Route(ar, rid) \u003d\u003e post_Del_Route(ar, rid, mu(ar, routes |-\u003e ({rid} \u003c-: (ar.routes))))))","legal sequence application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 280:31: (forall paths:DEFAULT`Path_map, route:seq of (DEFAULT`Path_id), dr:DEFAULT`Direction \u0026 (Path_Exists(paths, route, dr) \u003d\u003e (forall i in set (inds route) \u0026 (((i + 1) in set (inds route)) \u003d\u003e (((dr \u003d \u003cADIR\u003e) \u003d\u003e ((paths(route(i)).endp) \u003d (paths(route((i + 1))).start))) \u003d\u003e ((dr \u003d \u003cBDIR\u003e) \u003d\u003e (i in set (inds route))))))))","legal function application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 729:47: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, rid:DEFAULT`Route_id \u0026 (((aid in set (dom (ln.areas))) and pre_Del_Route((ln.areas)(aid), rid)) \u003d\u003e pre_Del_Route((ln.areas)(aid), rid)))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 982:31: (forall ln:DEFAULT`Line \u0026 (forall con in set (dom (ln.connect)) \u0026 (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (forall dr in set {\u003cADIR\u003e, \u003cBDIR\u003e} \u0026 ((exists p in set (rng ((ln.areas)((n1.aid)).paths)) \u0026 ((p.used)(dr) and (StartJoint(p, dr) \u003d (n1.no)))) \u003d\u003e ((not (((((ln.areas)((n1.aid)).trackcs)((n1.tcid)).joints)((n1.no)).remark).atc_terminal)(dr)) \u003d\u003e ((n2.aid) in set (dom (ln.areas))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 983:34: (forall ln:DEFAULT`Line \u0026 (forall con in set (dom (ln.connect)) \u0026 (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (forall dr in set {\u003cADIR\u003e, \u003cBDIR\u003e} \u0026 ((exists p in set (rng ((ln.areas)((n1.aid)).paths)) \u0026 ((p.used)(dr) and (StartJoint(p, dr) \u003d (n1.no)))) \u003d\u003e ((not (((((ln.areas)((n1.aid)).trackcs)((n1.tcid)).joints)((n1.no)).remark).atc_terminal)(dr)) \u003d\u003e (forall p2 in set (rng ((ln.areas)((n2.aid)).paths)) \u0026 (con in set (dom (ln.connect)))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 875:17: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall rid in set (dom (ar.routes)) \u0026 let r:DEFAULT`Route \u003d (ar.routes)(rid) in let pid:DEFAULT`Path_id \u003d (r.paths)((len (r.paths))) in let jid:DEFAULT`Joint_id \u003d EndJoint((ar.paths)(pid), (r.dr)), tcid:DEFAULT`TrackC_id \u003d ((ar.paths)(pid).tc) in ((not (mk_Area_Joint(aid, tcid, jid) in set (dunion (dom connect)))) \u003d\u003e ((not ((((ar.trackcs)(tcid).joints)(jid).remark).line_terminal)) \u003d\u003e (jid in set (dom ((ar.trackcs)(tcid).joints)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 85:10: (forall tc1:DEFAULT`TrackC, tc2:DEFAULT`TrackC, jid:DEFAULT`Joint_id \u0026 (((jid in set (dom (tc1.joints))) and (jid in set (dom (tc2.joints)))) \u003d\u003e (jid in set (dom (tc1.joints)))))","legal function application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 716:47: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, rid:DEFAULT`Route_id, r:DEFAULT`Route \u0026 (((aid in set (dom (ln.areas))) and pre_Add_Route((ln.areas)(aid), rid, r)) \u003d\u003e pre_Add_Route((ln.areas)(aid), rid, r)))","function establishes postcondition obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 442:1: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, kind:DEFAULT`Cond_Kind, start:nat, endp:nat \u0026 (pre_Del_Condition(ar, pid, kind, start, endp) \u003d\u003e post_Del_Condition(ar, pid, kind, start, endp, let p:DEFAULT`Path \u003d mu((ar.paths)(pid), condition |-\u003e {l | l in set ((ar.paths)(pid).condition) \u0026 (not (((l.kind) \u003d kind) and (((l.start) \u003d start) and ((l.endp) \u003d endp))))}) in mu(ar, paths |-\u003e ((ar.paths) ++ {pid |-\u003e p})))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 458:9: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, kind:DEFAULT`Cond_Kind, start:nat, endp:nat \u0026 (((pid in set (dom (ar.paths))) and (exists c in set ((ar.paths)(pid).condition) \u0026 (((c.kind) \u003d kind) and (((c.start) \u003d start) and ((c.endp) \u003d endp))))) \u003d\u003e let RESULT \u003d let p:DEFAULT`Path \u003d mu((ar.paths)(pid), condition |-\u003e {l | l in set ((ar.paths)(pid).condition) \u0026 (not (((l.kind) \u003d kind) and (((l.start) \u003d start) and ((l.endp) \u003d endp))))}) in mu(ar, paths |-\u003e ((ar.paths) ++ {pid |-\u003e p})) in ((pid in set (dom (RESULT.paths))) \u003d\u003e (((dom (RESULT.paths)) \u003d (dom (ar.paths))) \u003d\u003e ((({pid} \u003c-: (RESULT.paths)) \u003d ({pid} \u003c-: (ar.paths))) \u003d\u003e (((RESULT.paths)(pid) \u003d mu((ar.paths)(pid), condition |-\u003e {l | l in set ((ar.paths)(pid).condition) \u0026 (not (((l.kind) \u003d kind) and (((l.start) \u003d start) and ((l.endp) \u003d endp))))})) \u003d\u003e ((((RESULT.paths)(pid).start) \u003d ((ar.paths)(pid).start)) \u003d\u003e (pid in set (dom (RESULT.paths))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 674:13: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id \u0026 (((aid in set (dom (ln.areas))) and (pre_Del_Joint((ln.areas)(aid), tcid, jid) and (forall c in set (dom (ln.connect)) \u0026 (forall aj in set c \u0026 ((((aj.aid) \u003d aid) and ((aj.tcid) \u003d tcid)) \u003d\u003e ((aj.no) \u003c\u003e jid)))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Del_Joint((ln.areas)(aid), tcid, jid)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e ((tcid in set (dom ((RESULT.areas)(aid).trackcs))) \u003d\u003e ((jid not in set (dom (((RESULT.areas)(aid).trackcs)(tcid).joints))) \u003d\u003e (((dom (RESULT.areas)) \u003d (dom (ln.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e (aid in set (dom (RESULT.areas))))))))))","type invariant satisfiable obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 511:1: (exists con:DEFAULT`Connect \u0026 (((card con) \u003d 2) and (forall a1, a2 in set con \u0026 ((a1 \u003c\u003e a2) \u003d\u003e ((a1.aid) \u003c\u003e (a2.aid))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 256:17: (forall paths:DEFAULT`Path_map, route:seq of (DEFAULT`Path_id), dr:DEFAULT`Direction \u0026 (forall pid in set (elems route) \u0026 ((pid in set (dom paths)) \u003d\u003e (dr in set (dom (paths(pid).used))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 947:18: (forall ln:DEFAULT`Line \u0026 (forall con in set (dom (ln.connect)) \u0026 (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (forall dr in set {\u003cADIR\u003e, \u003cBDIR\u003e} \u0026 (((card {p | p in set (rng ((ln.areas)((n1.aid)).paths)) \u0026 ((p.used)(dr) and (EndJoint(p, dr) \u003d (n1.no)))}) \u003e 1) \u003d\u003e ((n1.no) in set (dom (((ln.areas)((n1.aid)).trackcs)((n1.tcid)).joints)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 237:23: (forall trackcs:DEFAULT`TrackC_map, p:DEFAULT`Path \u0026 (((p.tc) in set (dom trackcs)) \u003d\u003e (((p.start) in set (dom (trackcs((p.tc)).joints))) \u003d\u003e ((p.tc) in set (dom trackcs)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 338:34: (forall ar:DEFAULT`Area, tid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id, joint:DEFAULT`Joint \u0026 (((tid in set (dom (ar.trackcs))) and let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tid) in ((jid not in set (dom (tc.joints))) and (TD_Used_for_NonInsulated_TrackC((tc.td), (tc.atbt), ((rng (tc.joints)) union {joint})) and (Only_One_Next_TrackC((ar.trackcs), tid, jid) and (forall tid1 in set (dom (ar.trackcs)) \u0026 ((tid1 \u003c\u003e tid) \u003d\u003e Joint_and_Next_TrackC((ar.trackcs)(tid1), mu(tc, joints |-\u003e ((tc.joints) ++ {jid |-\u003e joint})), jid))))))) \u003d\u003e let RESULT \u003d let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tid) in mu(ar, trackcs |-\u003e ((ar.trackcs) ++ {tid |-\u003e mu(tc, joints |-\u003e ((tc.joints) ++ {jid |-\u003e joint}))})) in ((tid in set (dom (RESULT.trackcs))) \u003d\u003e ((jid in set (dom ((RESULT.trackcs)(tid).joints))) \u003d\u003e (((dom (RESULT.trackcs)) \u003d (dom (ar.trackcs))) \u003d\u003e ((({tid} \u003c-: (RESULT.trackcs)) \u003d ({tid} \u003c-: (ar.trackcs))) \u003d\u003e (((RESULT.trackcs)(tid) \u003d mu((ar.trackcs)(tid), joints |-\u003e (((ar.trackcs)(tid).joints) ++ {jid |-\u003e joint}))) \u003d\u003e ((((RESULT.trackcs)(tid).joints)(jid) \u003d joint) \u003d\u003e ((((RESULT.trackcs)(tid).atc) \u003d ((ar.trackcs)(tid).atc)) \u003d\u003e (tid in set (dom (ar.trackcs))))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 335:28: (forall ar:DEFAULT`Area, tid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id, joint:DEFAULT`Joint \u0026 (((tid in set (dom (ar.trackcs))) and let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tid) in ((jid not in set (dom (tc.joints))) and (TD_Used_for_NonInsulated_TrackC((tc.td), (tc.atbt), ((rng (tc.joints)) union {joint})) and (Only_One_Next_TrackC((ar.trackcs), tid, jid) and (forall tid1 in set (dom (ar.trackcs)) \u0026 ((tid1 \u003c\u003e tid) \u003d\u003e Joint_and_Next_TrackC((ar.trackcs)(tid1), mu(tc, joints |-\u003e ((tc.joints) ++ {jid |-\u003e joint})), jid))))))) \u003d\u003e let RESULT \u003d let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tid) in mu(ar, trackcs |-\u003e ((ar.trackcs) ++ {tid |-\u003e mu(tc, joints |-\u003e ((tc.joints) ++ {jid |-\u003e joint}))})) in ((tid in set (dom (RESULT.trackcs))) \u003d\u003e ((jid in set (dom ((RESULT.trackcs)(tid).joints))) \u003d\u003e (((dom (RESULT.trackcs)) \u003d (dom (ar.trackcs))) \u003d\u003e ((({tid} \u003c-: (RESULT.trackcs)) \u003d ({tid} \u003c-: (ar.trackcs))) \u003d\u003e (tid in set (dom (ar.trackcs)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 80:48: (forall tcs:map (DEFAULT`TrackC_id) to (DEFAULT`TrackC), tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id \u0026 (forall tid in set (dom tcs) \u0026 ((tid \u003c\u003e tcid) \u003d\u003e (tid in set (dom tcs)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 431:32: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, con:DEFAULT`Condition \u0026 (((pid in set (dom (ar.paths))) and let p:DEFAULT`Path \u003d (ar.paths)(pid) in (((((ar.trackcs)((p.tc)).joints)((p.start)).position) \u003c\u003d (con.start)) and (((con.endp) \u003c\u003d (((ar.trackcs)((p.tc)).joints)((p.endp)).position)) and (forall c in set (p.condition) \u0026 Condition_not_Conflict(c, con))))) \u003d\u003e let RESULT \u003d let p:DEFAULT`Path \u003d mu((ar.paths)(pid), condition |-\u003e (((ar.paths)(pid).condition) union {con})) in mu(ar, paths |-\u003e ((ar.paths) ++ {pid |-\u003e p})) in ((pid in set (dom (RESULT.paths))) \u003d\u003e (((dom (RESULT.paths)) \u003d (dom (ar.paths))) \u003d\u003e ((({pid} \u003c-: (RESULT.paths)) \u003d ({pid} \u003c-: (ar.paths))) \u003d\u003e (pid in set (dom (ar.paths))))))))","type invariant satisfiable obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 40:1: (exists rm:DEFAULT`Remark \u0026 ((dom (rm.atc_terminal)) \u003d {\u003cADIR\u003e, \u003cBDIR\u003e}))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 444:20: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, kind:DEFAULT`Cond_Kind, start:nat, endp:nat \u0026 (((pid in set (dom (ar.paths))) and (exists c in set ((ar.paths)(pid).condition) \u0026 (((c.kind) \u003d kind) and (((c.start) \u003d start) and ((c.endp) \u003d endp))))) \u003d\u003e (pid in set (dom (ar.paths)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 611:24: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, tc:DEFAULT`TrackC \u0026 ((aid in set (dom (ln.areas))) \u003d\u003e (aid in set (dom (ln.areas)))))","type compatibility obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 421:35: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, con:DEFAULT`Condition \u0026 (((pid in set (dom (ar.paths))) and let p:DEFAULT`Path \u003d (ar.paths)(pid) in (((((ar.trackcs)((p.tc)).joints)((p.start)).position) \u003c\u003d (con.start)) and (((con.endp) \u003c\u003d (((ar.trackcs)((p.tc)).joints)((p.endp)).position)) and (forall c in set (p.condition) \u0026 Condition_not_Conflict(c, con))))) \u003d\u003e let p:DEFAULT`Path \u003d mu((ar.paths)(pid), condition |-\u003e (((ar.paths)(pid).condition) union {con})) in inv_Path_map(((ar.paths) ++ {pid |-\u003e p}))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 110:37: (forall rm1:DEFAULT`Remark, rm2:DEFAULT`Remark, dir_chng:bool \u0026 (((not dir_chng) \u003d\u003e ((rm1.atc_terminal) \u003d (rm2.atc_terminal))) \u003d\u003e (dir_chng \u003d\u003e (((rm1.atc_terminal)(\u003cADIR\u003e) \u003d (rm2.atc_terminal)(\u003cBDIR\u003e)) \u003d\u003e (\u003cADIR\u003e in set (dom (rm2.atc_terminal)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 904:35: (forall paths:DEFAULT`Path_map, pid:DEFAULT`Path_id, dr:DEFAULT`Direction \u0026 ((pid in set (dom paths)) \u003d\u003e (forall pid1 in set (dom paths) \u0026 (pid in set (dom paths)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 424:17: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, con:DEFAULT`Condition \u0026 ((pid in set (dom (ar.paths))) \u003d\u003e let p:DEFAULT`Path \u003d (ar.paths)(pid) in ((p.start) in set (dom ((ar.trackcs)((p.tc)).joints)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 685:35: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, pid:DEFAULT`Path_id, p:DEFAULT`Path \u0026 (((aid in set (dom (ln.areas))) and (pre_Add_Path((ln.areas)(aid), pid, p) and (forall c in set (dom (ln.connect)) \u0026 (forall n1, n2 in set c \u0026 (((n1 \u003c\u003e n2) and ((n1.aid) \u003d aid)) \u003d\u003e Direction_for_Area_Joint({pid |-\u003e p}, (n1.no), ((ln.areas)((n2.aid)).paths), (n2.no), ((ln.connect)(c).chng_direction))))))) \u003d\u003e (aid in set (dom (ln.areas)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 636:9: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id \u0026 (((aid in set (dom (ln.areas))) and (pre_Del_TrackC((ln.areas)(aid), tcid) and (forall c in set (dom (ln.connect)) \u0026 (forall aj in set c \u0026 (((aj.aid) \u003d aid) \u003d\u003e ((aj.tcid) \u003c\u003e tcid)))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Del_TrackC((ln.areas)(aid), tcid)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e (((dom (ln.areas)) \u003d (dom (RESULT.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e (aid in set (dom (RESULT.areas))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 980:10: (forall ln:DEFAULT`Line \u0026 (forall con in set (dom (ln.connect)) \u0026 (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (forall dr in set {\u003cADIR\u003e, \u003cBDIR\u003e} \u0026 ((exists p in set (rng ((ln.areas)((n1.aid)).paths)) \u0026 ((p.used)(dr) and (StartJoint(p, dr) \u003d (n1.no)))) \u003d\u003e (dr in set (dom (((((ln.areas)((n1.aid)).trackcs)((n1.tcid)).joints)((n1.no)).remark).atc_terminal)))))))))","legal sequence application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 869:27: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall rid in set (dom (ar.routes)) \u0026 let r:DEFAULT`Route \u003d (ar.routes)(rid) in ((len (r.paths)) in set (inds (r.paths)))))","legal function application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 876:17: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall rid in set (dom (ar.routes)) \u0026 let r:DEFAULT`Route \u003d (ar.routes)(rid) in let pid:DEFAULT`Path_id \u003d (r.paths)((len (r.paths))) in let jid:DEFAULT`Joint_id \u003d EndJoint((ar.paths)(pid), (r.dr)), tcid:DEFAULT`TrackC_id \u003d ((ar.paths)(pid).tc) in ((not (mk_Area_Joint(aid, tcid, jid) in set (dunion (dom connect)))) \u003d\u003e ((not ((((ar.trackcs)(tcid).joints)(jid).remark).line_terminal)) \u003d\u003e ((not ((((ar.trackcs)(tcid).joints)(jid).remark).atc_terminal)((r.dr))) \u003d\u003e pre_Following_Route_Exists((ar.routes), rid))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 359:9: (forall ar:DEFAULT`Area, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id \u0026 (((tcid in set (dom (ar.trackcs))) and ((jid in set (dom ((ar.trackcs)(tcid).joints))) and (((card (dom ((ar.trackcs)(tcid).joints))) \u003e 2) and (forall path in set (rng (ar.paths)) \u0026 (((path.tc) \u003c\u003e tcid) or ((jid \u003c\u003e (path.start)) and (jid \u003c\u003e (path.endp)))))))) \u003d\u003e let RESULT \u003d let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tcid) in mu(ar, trackcs |-\u003e ((ar.trackcs) ++ {tcid |-\u003e mu(tc, joints |-\u003e ({jid} \u003c-: (tc.joints)))})) in ((tcid in set (dom (RESULT.trackcs))) \u003d\u003e (((dom (RESULT.trackcs)) \u003d (dom (ar.trackcs))) \u003d\u003e ((({tcid} \u003c-: (RESULT.trackcs)) \u003d ({tcid} \u003c-: (ar.trackcs))) \u003d\u003e ((jid not in set (dom ((RESULT.trackcs)(tcid).joints))) \u003d\u003e (tcid in set (dom (RESULT.trackcs)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 363:9: (forall ar:DEFAULT`Area, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id \u0026 (((tcid in set (dom (ar.trackcs))) and ((jid in set (dom ((ar.trackcs)(tcid).joints))) and (((card (dom ((ar.trackcs)(tcid).joints))) \u003e 2) and (forall path in set (rng (ar.paths)) \u0026 (((path.tc) \u003c\u003e tcid) or ((jid \u003c\u003e (path.start)) and (jid \u003c\u003e (path.endp)))))))) \u003d\u003e let RESULT \u003d let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tcid) in mu(ar, trackcs |-\u003e ((ar.trackcs) ++ {tcid |-\u003e mu(tc, joints |-\u003e ({jid} \u003c-: (tc.joints)))})) in ((tcid in set (dom (RESULT.trackcs))) \u003d\u003e (((dom (RESULT.trackcs)) \u003d (dom (ar.trackcs))) \u003d\u003e ((({tcid} \u003c-: (RESULT.trackcs)) \u003d ({tcid} \u003c-: (ar.trackcs))) \u003d\u003e ((jid not in set (dom ((RESULT.trackcs)(tcid).joints))) \u003d\u003e (((RESULT.trackcs)(tcid) \u003d mu((ar.trackcs)(tcid), joints |-\u003e ({jid} \u003c-: ((ar.trackcs)(tcid).joints)))) \u003d\u003e ((((RESULT.trackcs)(tcid).atc) \u003d ((ar.trackcs)(tcid).atc)) \u003d\u003e ((((RESULT.trackcs)(tcid).td) \u003d ((ar.trackcs)(tcid).td)) \u003d\u003e (tcid in set (dom (RESULT.trackcs))))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 531:37: (forall areas:DEFAULT`Area_map, n:DEFAULT`Area_Joint \u0026 (((n.aid) in set (dom areas)) \u003d\u003e (((n.tcid) in set (dom (areas((n.aid)).trackcs))) \u003d\u003e (((n.no) in set (dom ((areas((n.aid)).trackcs)((n.tcid)).joints))) \u003d\u003e ((not ((((areas((n.aid)).trackcs)((n.tcid)).joints)((n.no)).remark).line_terminal)) \u003d\u003e (forall tcid in set (dom (areas((n.aid)).trackcs)) \u0026 (((n.tcid) \u003c\u003e tcid) \u003d\u003e (tcid in set (dom (areas((n.aid)).trackcs))))))))))","function establishes postcondition obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 640:1: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id, j:DEFAULT`Joint \u0026 (pre_Line_Add_Joint(ln, aid, tcid, jid, j) \u003d\u003e post_Line_Add_Joint(ln, aid, tcid, jid, j, mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Add_Joint((ln.areas)(aid), tcid, jid, j)})))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 25:17: (forall tc:DEFAULT`TrackC \u0026 (((card (dom (tc.joints))) \u003e 1) \u003d\u003e (((dom (tc.atc)) \u003d {\u003cADIR\u003e, \u003cBDIR\u003e}) \u003d\u003e (TD_Used_for_NonInsulated_TrackC((tc.td), (tc.atbt), (rng (tc.joints))) \u003d\u003e ((((tc.atc)(\u003cADIR\u003e).used) and ((tc.atc)(\u003cBDIR\u003e).used)) \u003d\u003e (\u003cADIR\u003e in set (dom (tc.atc))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 825:17: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall pid in set (dom (ar.paths)) \u0026 let p:DEFAULT`Path \u003d (ar.paths)(pid) in (forall dr in set (dom (p.used)) \u0026 ((p.used)(dr) \u003d\u003e ((not (mk_Area_Joint(aid, (p.tc), (p.start)) in set (dunion (dom connect)))) \u003d\u003e ((not ((((ar.trackcs)((p.tc)).joints)((p.start)).remark).line_terminal)) \u003d\u003e ((p.tc) in set (dom (ar.trackcs)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 947:18: (forall ln:DEFAULT`Line \u0026 (forall con in set (dom (ln.connect)) \u0026 (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (forall dr in set {\u003cADIR\u003e, \u003cBDIR\u003e} \u0026 (((card {p | p in set (rng ((ln.areas)((n1.aid)).paths)) \u0026 ((p.used)(dr) and (EndJoint(p, dr) \u003d (n1.no)))}) \u003e 1) \u003d\u003e ((n1.aid) in set (dom (ln.areas)))))))))","legal sequence application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 278:54: (forall paths:DEFAULT`Path_map, route:seq of (DEFAULT`Path_id), dr:DEFAULT`Direction \u0026 (Path_Exists(paths, route, dr) \u003d\u003e (forall i in set (inds route) \u0026 (((i + 1) in set (inds route)) \u003d\u003e ((dr \u003d \u003cADIR\u003e) \u003d\u003e ((i + 1) in set (inds route)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 671:28: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id \u0026 (((aid in set (dom (ln.areas))) and (pre_Del_Joint((ln.areas)(aid), tcid, jid) and (forall c in set (dom (ln.connect)) \u0026 (forall aj in set c \u0026 ((((aj.aid) \u003d aid) and ((aj.tcid) \u003d tcid)) \u003d\u003e ((aj.no) \u003c\u003e jid)))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Del_Joint((ln.areas)(aid), tcid, jid)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e ((tcid in set (dom ((RESULT.areas)(aid).trackcs))) \u003d\u003e (tcid in set (dom ((RESULT.areas)(aid).trackcs)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 841:17: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall pid in set (dom (ar.paths)) \u0026 let p:DEFAULT`Path \u003d (ar.paths)(pid) in (forall dr in set (dom (p.used)) \u0026 ((p.used)(dr) \u003d\u003e ((not (mk_Area_Joint(aid, (p.tc), (p.endp)) in set (dunion (dom connect)))) \u003d\u003e ((not ((((ar.trackcs)((p.tc)).joints)((p.endp)).remark).line_terminal)) \u003d\u003e (dr in set (dom ((((ar.trackcs)((p.tc)).joints)((p.endp)).remark).atc_terminal)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 841:17: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall pid in set (dom (ar.paths)) \u0026 let p:DEFAULT`Path \u003d (ar.paths)(pid) in (forall dr in set (dom (p.used)) \u0026 ((p.used)(dr) \u003d\u003e ((not (mk_Area_Joint(aid, (p.tc), (p.endp)) in set (dunion (dom connect)))) \u003d\u003e ((not ((((ar.trackcs)((p.tc)).joints)((p.endp)).remark).line_terminal)) \u003d\u003e ((p.tc) in set (dom (ar.trackcs)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 870:37: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall rid in set (dom (ar.routes)) \u0026 let r:DEFAULT`Route \u003d (ar.routes)(rid) in let pid:DEFAULT`Path_id \u003d (r.paths)((len (r.paths))) in (pid in set (dom (ar.paths)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 921:49: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall tcid in set (dom (ar.trackcs)) \u0026 (forall dr in set (dom ((ar.trackcs)(tcid).atc)) \u0026 ((((ar.trackcs)(tcid).atc)(dr).used) \u003d\u003e (forall rid in set (dom (ar.routes)) \u0026 ((((ar.routes)(rid).dr) \u003d dr) \u003d\u003e (rid in set (dom (ar.routes)))))))))","type compatibility obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 347:35: (forall ar:DEFAULT`Area, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id \u0026 (((tcid in set (dom (ar.trackcs))) and ((jid in set (dom ((ar.trackcs)(tcid).joints))) and (((card (dom ((ar.trackcs)(tcid).joints))) \u003e 2) and (forall path in set (rng (ar.paths)) \u0026 (((path.tc) \u003c\u003e tcid) or ((jid \u003c\u003e (path.start)) and (jid \u003c\u003e (path.endp)))))))) \u003d\u003e let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tcid) in inv_TrackC_map(((ar.trackcs) ++ {tcid |-\u003e mu(tc, joints |-\u003e ({jid} \u003c-: (tc.joints)))}))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 100:10: (forall tc1:DEFAULT`TrackC, jid1:DEFAULT`Joint_id, tc2:DEFAULT`TrackC, jid2:DEFAULT`Joint_id, dir_chng:bool \u0026 ((jid1 in set (dom (tc1.joints))) \u003d\u003e ((jid2 in set (dom (tc2.joints))) \u003d\u003e (Remark_Compatible(((tc1.joints)(jid1).remark), ((tc2.joints)(jid2).remark), dir_chng) \u003d\u003e (jid1 in set (dom (tc1.joints)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 488:49: (forall mk_Line(areas, connect):DEFAULT`Line \u0026 (forall c in set (dom connect) \u0026 ((forall n in set c \u0026 Area_Joint_Exists(areas, n)) \u003d\u003e (forall n1, n2 in set c \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (c in set (dom connect)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 336:5: (forall ar:DEFAULT`Area, tid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id, joint:DEFAULT`Joint \u0026 (((tid in set (dom (ar.trackcs))) and let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tid) in ((jid not in set (dom (tc.joints))) and (TD_Used_for_NonInsulated_TrackC((tc.td), (tc.atbt), ((rng (tc.joints)) union {joint})) and (Only_One_Next_TrackC((ar.trackcs), tid, jid) and (forall tid1 in set (dom (ar.trackcs)) \u0026 ((tid1 \u003c\u003e tid) \u003d\u003e Joint_and_Next_TrackC((ar.trackcs)(tid1), mu(tc, joints |-\u003e ((tc.joints) ++ {jid |-\u003e joint})), jid))))))) \u003d\u003e let RESULT \u003d let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tid) in mu(ar, trackcs |-\u003e ((ar.trackcs) ++ {tid |-\u003e mu(tc, joints |-\u003e ((tc.joints) ++ {jid |-\u003e joint}))})) in ((tid in set (dom (RESULT.trackcs))) \u003d\u003e ((jid in set (dom ((RESULT.trackcs)(tid).joints))) \u003d\u003e (((dom (RESULT.trackcs)) \u003d (dom (ar.trackcs))) \u003d\u003e ((({tid} \u003c-: (RESULT.trackcs)) \u003d ({tid} \u003c-: (ar.trackcs))) \u003d\u003e (((RESULT.trackcs)(tid) \u003d mu((ar.trackcs)(tid), joints |-\u003e (((ar.trackcs)(tid).joints) ++ {jid |-\u003e joint}))) \u003d\u003e (jid in set (dom ((RESULT.trackcs)(tid).joints))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 86:14: (forall tc1:DEFAULT`TrackC, tc2:DEFAULT`TrackC, jid:DEFAULT`Joint_id \u0026 (((jid in set (dom (tc1.joints))) and (jid in set (dom (tc2.joints)))) \u003d\u003e (((tc1.joints)(jid) \u003d (tc2.joints)(jid)) \u003d\u003e (jid in set (dom (tc1.joints))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 245:16: (forall trackcs:DEFAULT`TrackC_map, p:DEFAULT`Path \u0026 (Path_within_TrackC(trackcs, p) \u003d\u003e ((p.endp) in set (dom (trackcs((p.tc)).joints)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 671:28: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id \u0026 (((aid in set (dom (ln.areas))) and (pre_Del_Joint((ln.areas)(aid), tcid, jid) and (forall c in set (dom (ln.connect)) \u0026 (forall aj in set c \u0026 ((((aj.aid) \u003d aid) and ((aj.tcid) \u003d tcid)) \u003d\u003e ((aj.no) \u003c\u003e jid)))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Del_Joint((ln.areas)(aid), tcid, jid)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e ((tcid in set (dom ((RESULT.areas)(aid).trackcs))) \u003d\u003e (aid in set (dom (RESULT.areas)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 657:17: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id, j:DEFAULT`Joint \u0026 (((aid in set (dom (ln.areas))) and (pre_Add_Joint((ln.areas)(aid), tcid, jid, j) and (forall c in set (dom (ln.connect)) \u0026 (forall n in set c \u0026 (((n.aid) \u003d aid) \u003d\u003e ((n.no) \u003c\u003e jid)))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Add_Joint((ln.areas)(aid), tcid, jid, j)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e ((tcid in set (dom ((RESULT.areas)(aid).trackcs))) \u003d\u003e ((jid in set (dom (((RESULT.areas)(aid).trackcs)(tcid).joints))) \u003d\u003e (((dom (RESULT.areas)) \u003d (dom (ln.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e (((dom ((RESULT.areas)(aid).trackcs)) \u003d (dom ((ln.areas)(aid).trackcs))) \u003d\u003e ((({tcid} \u003c-: ((RESULT.areas)(aid).trackcs)) \u003d ({tcid} \u003c-: ((ln.areas)(aid).trackcs))) \u003d\u003e (tcid in set (dom ((ln.areas)(aid).trackcs))))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 813:28: (forall ar:DEFAULT`Area \u0026 (forall pid in set (dom (ar.paths)) \u0026 (forall dr in set (dom ((ar.paths)(pid).used)) \u0026 (((ar.paths)(pid).used)(dr) \u003d\u003e (pid in set (dom (ar.paths)))))))","type invariant satisfiable obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 212:1: (exists mk_Area(trackcs, paths, routes, -, -):DEFAULT`Area \u0026 ((forall p in set (rng paths) \u0026 (Path_within_TrackC(trackcs, p) and Direction_Correct(trackcs, p))) and (forall r in set (rng routes) \u0026 (Path_Exists(paths, (r.paths), (r.dr)) and (Exists_ATC_for_Route(trackcs, paths, r) and (Route_not_Circular(paths, r) and Path_Connected(paths, (r.paths), (r.dr))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 425:29: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, con:DEFAULT`Condition \u0026 ((pid in set (dom (ar.paths))) \u003d\u003e let p:DEFAULT`Path \u003d (ar.paths)(pid) in (((((ar.trackcs)((p.tc)).joints)((p.start)).position) \u003c\u003d (con.start)) \u003d\u003e ((p.endp) in set (dom ((ar.trackcs)((p.tc)).joints))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 964:10: (forall ln:DEFAULT`Line \u0026 (forall con in set (dom (ln.connect)) \u0026 (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (forall dr in set {\u003cADIR\u003e, \u003cBDIR\u003e} \u0026 ((exists p in set (rng ((ln.areas)((n1.aid)).paths)) \u0026 ((p.used)(dr) and (EndJoint(p, dr) \u003d (n1.no)))) \u003d\u003e ((n1.tcid) in set (dom ((ln.areas)((n1.aid)).trackcs)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 73:43: (forall tcs:map (DEFAULT`TrackC_id) to (DEFAULT`TrackC) \u0026 (forall tid in set (dom tcs) \u0026 (forall jid in set (dom (tcs(tid).joints)) \u0026 (Only_One_Next_TrackC(tcs, tid, jid) \u003d\u003e (forall tid2 in set (dom tcs) \u0026 ((tid \u003c\u003e tid2) \u003d\u003e (tid in set (dom tcs))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 101:10: (forall tc1:DEFAULT`TrackC, jid1:DEFAULT`Joint_id, tc2:DEFAULT`TrackC, jid2:DEFAULT`Joint_id, dir_chng:bool \u0026 ((jid1 in set (dom (tc1.joints))) \u003d\u003e ((jid2 in set (dom (tc2.joints))) \u003d\u003e (Remark_Compatible(((tc1.joints)(jid1).remark), ((tc2.joints)(jid2).remark), dir_chng) \u003d\u003e (jid2 in set (dom (tc2.joints)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 458:34: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, kind:DEFAULT`Cond_Kind, start:nat, endp:nat \u0026 (((pid in set (dom (ar.paths))) and (exists c in set ((ar.paths)(pid).condition) \u0026 (((c.kind) \u003d kind) and (((c.start) \u003d start) and ((c.endp) \u003d endp))))) \u003d\u003e let RESULT \u003d let p:DEFAULT`Path \u003d mu((ar.paths)(pid), condition |-\u003e {l | l in set ((ar.paths)(pid).condition) \u0026 (not (((l.kind) \u003d kind) and (((l.start) \u003d start) and ((l.endp) \u003d endp))))}) in mu(ar, paths |-\u003e ((ar.paths) ++ {pid |-\u003e p})) in ((pid in set (dom (RESULT.paths))) \u003d\u003e (((dom (RESULT.paths)) \u003d (dom (ar.paths))) \u003d\u003e ((({pid} \u003c-: (RESULT.paths)) \u003d ({pid} \u003c-: (ar.paths))) \u003d\u003e (((RESULT.paths)(pid) \u003d mu((ar.paths)(pid), condition |-\u003e {l | l in set ((ar.paths)(pid).condition) \u0026 (not (((l.kind) \u003d kind) and (((l.start) \u003d start) and ((l.endp) \u003d endp))))})) \u003d\u003e ((((RESULT.paths)(pid).start) \u003d ((ar.paths)(pid).start)) \u003d\u003e (pid in set (dom (ar.paths))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 906:55: (forall paths:DEFAULT`Path_map, pid:DEFAULT`Path_id, dr:DEFAULT`Direction \u0026 ((pid in set (dom paths)) \u003d\u003e (forall pid1 in set (dom paths) \u0026 (((paths(pid1).tc) \u003c\u003e (paths(pid).tc)) \u003d\u003e ((paths(pid1).used)(dr) \u003d\u003e (pid1 in set (dom paths)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 116:36: (forall atcA1:DEFAULT`ATC, atcB1:DEFAULT`ATC, rm1:DEFAULT`Remark, atcA2:DEFAULT`ATC, atcB2:DEFAULT`ATC, rm2:DEFAULT`Remark, dir_chng:bool \u0026 (Remark_Compatible(rm1, rm2, dir_chng) \u003d\u003e ((not dir_chng) \u003d\u003e (\u003cADIR\u003e in set (dom (rm1.atc_terminal))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 531:37: (forall areas:DEFAULT`Area_map, n:DEFAULT`Area_Joint \u0026 (((n.aid) in set (dom areas)) \u003d\u003e (((n.tcid) in set (dom (areas((n.aid)).trackcs))) \u003d\u003e (((n.no) in set (dom ((areas((n.aid)).trackcs)((n.tcid)).joints))) \u003d\u003e ((not ((((areas((n.aid)).trackcs)((n.tcid)).joints)((n.no)).remark).line_terminal)) \u003d\u003e (forall tcid in set (dom (areas((n.aid)).trackcs)) \u0026 (((n.tcid) \u003c\u003e tcid) \u003d\u003e ((n.aid) in set (dom areas)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 404:5: (forall ar:DEFAULT`Area, rid:DEFAULT`Route_id, r:DEFAULT`Route \u0026 (((rid not in set (dom (ar.routes))) and (Path_Exists((ar.paths), (r.paths), (r.dr)) and (Exists_ATC_for_Route((ar.trackcs), (ar.paths), r) and (Route_not_Circular((ar.paths), r) and Path_Connected((ar.paths), (r.paths), (r.dr)))))) \u003d\u003e let RESULT \u003d mu(ar, routes |-\u003e ((ar.routes) ++ {rid |-\u003e r})) in ((rid in set (dom (RESULT.routes))) \u003d\u003e (((RESULT.routes) \u003d ((ar.routes) ++ {rid |-\u003e r})) \u003d\u003e (rid in set (dom (RESULT.routes)))))))","legal sequence application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 280:55: (forall paths:DEFAULT`Path_map, route:seq of (DEFAULT`Path_id), dr:DEFAULT`Direction \u0026 (Path_Exists(paths, route, dr) \u003d\u003e (forall i in set (inds route) \u0026 (((i + 1) in set (inds route)) \u003d\u003e (((dr \u003d \u003cADIR\u003e) \u003d\u003e ((paths(route(i)).endp) \u003d (paths(route((i + 1))).start))) \u003d\u003e ((dr \u003d \u003cBDIR\u003e) \u003d\u003e ((i + 1) in set (inds route))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 434:34: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, con:DEFAULT`Condition \u0026 (((pid in set (dom (ar.paths))) and let p:DEFAULT`Path \u003d (ar.paths)(pid) in (((((ar.trackcs)((p.tc)).joints)((p.start)).position) \u003c\u003d (con.start)) and (((con.endp) \u003c\u003d (((ar.trackcs)((p.tc)).joints)((p.endp)).position)) and (forall c in set (p.condition) \u0026 Condition_not_Conflict(c, con))))) \u003d\u003e let RESULT \u003d let p:DEFAULT`Path \u003d mu((ar.paths)(pid), condition |-\u003e (((ar.paths)(pid).condition) union {con})) in mu(ar, paths |-\u003e ((ar.paths) ++ {pid |-\u003e p})) in ((pid in set (dom (RESULT.paths))) \u003d\u003e (((dom (RESULT.paths)) \u003d (dom (ar.paths))) \u003d\u003e ((({pid} \u003c-: (RESULT.paths)) \u003d ({pid} \u003c-: (ar.paths))) \u003d\u003e (((RESULT.paths)(pid) \u003d mu((ar.paths)(pid), condition |-\u003e (((ar.paths)(pid).condition) union {con}))) \u003d\u003e ((((RESULT.paths)(pid).start) \u003d ((ar.paths)(pid).start)) \u003d\u003e (pid in set (dom (ar.paths))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 664:36: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id \u0026 (((aid in set (dom (ln.areas))) and (pre_Del_Joint((ln.areas)(aid), tcid, jid) and (forall c in set (dom (ln.connect)) \u0026 (forall aj in set c \u0026 ((((aj.aid) \u003d aid) and ((aj.tcid) \u003d tcid)) \u003d\u003e ((aj.no) \u003c\u003e jid)))))) \u003d\u003e (aid in set (dom (ln.areas)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 906:26: (forall paths:DEFAULT`Path_map, pid:DEFAULT`Path_id, dr:DEFAULT`Direction \u0026 ((pid in set (dom paths)) \u003d\u003e (forall pid1 in set (dom paths) \u0026 (((paths(pid1).tc) \u003c\u003e (paths(pid).tc)) \u003d\u003e ((paths(pid1).used)(dr) \u003d\u003e (pid in set (dom paths)))))))","legal function application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 400:5: (forall ar:DEFAULT`Area, rid:DEFAULT`Route_id, r:DEFAULT`Route \u0026 ((rid not in set (dom (ar.routes))) \u003d\u003e (Path_Exists((ar.paths), (r.paths), (r.dr)) \u003d\u003e (Exists_ATC_for_Route((ar.trackcs), (ar.paths), r) \u003d\u003e pre_Route_not_Circular((ar.paths), r)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 530:32: (forall areas:DEFAULT`Area_map, n:DEFAULT`Area_Joint \u0026 (((n.aid) in set (dom areas)) \u003d\u003e (((n.tcid) in set (dom (areas((n.aid)).trackcs))) \u003d\u003e (((n.no) in set (dom ((areas((n.aid)).trackcs)((n.tcid)).joints))) \u003d\u003e ((not ((((areas((n.aid)).trackcs)((n.tcid)).joints)((n.no)).remark).line_terminal)) \u003d\u003e ((n.aid) in set (dom areas)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 432:33: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, con:DEFAULT`Condition \u0026 (((pid in set (dom (ar.paths))) and let p:DEFAULT`Path \u003d (ar.paths)(pid) in (((((ar.trackcs)((p.tc)).joints)((p.start)).position) \u003c\u003d (con.start)) and (((con.endp) \u003c\u003d (((ar.trackcs)((p.tc)).joints)((p.endp)).position)) and (forall c in set (p.condition) \u0026 Condition_not_Conflict(c, con))))) \u003d\u003e let RESULT \u003d let p:DEFAULT`Path \u003d mu((ar.paths)(pid), condition |-\u003e (((ar.paths)(pid).condition) union {con})) in mu(ar, paths |-\u003e ((ar.paths) ++ {pid |-\u003e p})) in ((pid in set (dom (RESULT.paths))) \u003d\u003e (((dom (RESULT.paths)) \u003d (dom (ar.paths))) \u003d\u003e ((({pid} \u003c-: (RESULT.paths)) \u003d ({pid} \u003c-: (ar.paths))) \u003d\u003e (pid in set (dom (ar.paths))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 875:17: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall rid in set (dom (ar.routes)) \u0026 let r:DEFAULT`Route \u003d (ar.routes)(rid) in let pid:DEFAULT`Path_id \u003d (r.paths)((len (r.paths))) in let jid:DEFAULT`Joint_id \u003d EndJoint((ar.paths)(pid), (r.dr)), tcid:DEFAULT`TrackC_id \u003d ((ar.paths)(pid).tc) in ((not (mk_Area_Joint(aid, tcid, jid) in set (dunion (dom connect)))) \u003d\u003e ((not ((((ar.trackcs)(tcid).joints)(jid).remark).line_terminal)) \u003d\u003e (tcid in set (dom (ar.trackcs)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 924:25: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 ((forall tcid in set (dom (ar.trackcs)) \u0026 (forall dr in set (dom ((ar.trackcs)(tcid).atc)) \u0026 ((((ar.trackcs)(tcid).atc)(dr).used) \u003d\u003e (exists1 rid in set (dom (ar.routes)) \u0026 ((((ar.routes)(rid).dr) \u003d dr) and (exists pid in set (elems ((ar.routes)(rid).paths)) \u0026 (((ar.paths)(pid).tc) \u003d tcid))))))) \u003d\u003e (forall r in set (rng (ar.routes)) \u0026 ((r.paths)((len (r.paths))) in set (dom (ar.paths))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 109:37: (forall rm1:DEFAULT`Remark, rm2:DEFAULT`Remark, dir_chng:bool \u0026 (((not dir_chng) \u003d\u003e ((rm1.atc_terminal) \u003d (rm2.atc_terminal))) \u003d\u003e (dir_chng \u003d\u003e (\u003cBDIR\u003e in set (dom (rm2.atc_terminal))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 905:17: (forall paths:DEFAULT`Path_map, pid:DEFAULT`Path_id, dr:DEFAULT`Direction \u0026 ((pid in set (dom paths)) \u003d\u003e (forall pid1 in set (dom paths) \u0026 (((paths(pid1).tc) \u003c\u003e (paths(pid).tc)) \u003d\u003e (pid1 in set (dom paths))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 969:18: (forall ln:DEFAULT`Line \u0026 (forall con in set (dom (ln.connect)) \u0026 (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (forall dr in set {\u003cADIR\u003e, \u003cBDIR\u003e} \u0026 ((exists p in set (rng ((ln.areas)((n1.aid)).paths)) \u0026 ((p.used)(dr) and (EndJoint(p, dr) \u003d (n1.no)))) \u003d\u003e ((not (((((ln.areas)((n1.aid)).trackcs)((n1.tcid)).joints)((n1.no)).remark).atc_terminal)(dr)) \u003d\u003e (forall p2 in set (rng ((ln.areas)((n2.aid)).paths)) \u0026 let dr2:(\u003cADIR\u003e | \u003cBDIR\u003e) \u003d (if (not ((ln.connect)(con).chng_direction))\nthen dr\nelse (if (dr \u003d \u003cADIR\u003e)\nthen \u003cBDIR\u003e\nelse \u003cADIR\u003e)) in (dr2 in set (dom (p2.used)))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 455:30: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, kind:DEFAULT`Cond_Kind, start:nat, endp:nat \u0026 (((pid in set (dom (ar.paths))) and (exists c in set ((ar.paths)(pid).condition) \u0026 (((c.kind) \u003d kind) and (((c.start) \u003d start) and ((c.endp) \u003d endp))))) \u003d\u003e let RESULT \u003d let p:DEFAULT`Path \u003d mu((ar.paths)(pid), condition |-\u003e {l | l in set ((ar.paths)(pid).condition) \u0026 (not (((l.kind) \u003d kind) and (((l.start) \u003d start) and ((l.endp) \u003d endp))))}) in mu(ar, paths |-\u003e ((ar.paths) ++ {pid |-\u003e p})) in ((pid in set (dom (RESULT.paths))) \u003d\u003e (((dom (RESULT.paths)) \u003d (dom (ar.paths))) \u003d\u003e ((({pid} \u003c-: (RESULT.paths)) \u003d ({pid} \u003c-: (ar.paths))) \u003d\u003e (pid in set (dom (ar.paths))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 729:57: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, rid:DEFAULT`Route_id \u0026 (((aid in set (dom (ln.areas))) and pre_Del_Route((ln.areas)(aid), rid)) \u003d\u003e (aid in set (dom (ln.areas)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 431:9: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, con:DEFAULT`Condition \u0026 (((pid in set (dom (ar.paths))) and let p:DEFAULT`Path \u003d (ar.paths)(pid) in (((((ar.trackcs)((p.tc)).joints)((p.start)).position) \u003c\u003d (con.start)) and (((con.endp) \u003c\u003d (((ar.trackcs)((p.tc)).joints)((p.endp)).position)) and (forall c in set (p.condition) \u0026 Condition_not_Conflict(c, con))))) \u003d\u003e let RESULT \u003d let p:DEFAULT`Path \u003d mu((ar.paths)(pid), condition |-\u003e (((ar.paths)(pid).condition) union {con})) in mu(ar, paths |-\u003e ((ar.paths) ++ {pid |-\u003e p})) in ((pid in set (dom (RESULT.paths))) \u003d\u003e (((dom (RESULT.paths)) \u003d (dom (ar.paths))) \u003d\u003e ((({pid} \u003c-: (RESULT.paths)) \u003d ({pid} \u003c-: (ar.paths))) \u003d\u003e (pid in set (dom (RESULT.paths))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 697:9: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, pid:DEFAULT`Path_id, p:DEFAULT`Path \u0026 (((aid in set (dom (ln.areas))) and (pre_Add_Path((ln.areas)(aid), pid, p) and (forall c in set (dom (ln.connect)) \u0026 (forall n1, n2 in set c \u0026 (((n1 \u003c\u003e n2) and ((n1.aid) \u003d aid)) \u003d\u003e Direction_for_Area_Joint({pid |-\u003e p}, (n1.no), ((ln.areas)((n2.aid)).paths), (n2.no), ((ln.connect)(c).chng_direction))))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Add_Path((ln.areas)(aid), pid, p)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e ((pid in set (dom ((RESULT.areas)(aid).paths))) \u003d\u003e (((dom (RESULT.areas)) \u003d (dom (ln.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e (aid in set (dom (RESULT.areas)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 962:17: (forall ln:DEFAULT`Line \u0026 (forall con in set (dom (ln.connect)) \u0026 (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (forall dr in set {\u003cADIR\u003e, \u003cBDIR\u003e} \u0026 (forall p in set (rng ((ln.areas)((n1.aid)).paths)) \u0026 (dr in set (dom (p.used)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 694:24: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, pid:DEFAULT`Path_id, p:DEFAULT`Path \u0026 (((aid in set (dom (ln.areas))) and (pre_Add_Path((ln.areas)(aid), pid, p) and (forall c in set (dom (ln.connect)) \u0026 (forall n1, n2 in set c \u0026 (((n1 \u003c\u003e n2) and ((n1.aid) \u003d aid)) \u003d\u003e Direction_for_Area_Joint({pid |-\u003e p}, (n1.no), ((ln.areas)((n2.aid)).paths), (n2.no), ((ln.connect)(c).chng_direction))))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Add_Path((ln.areas)(aid), pid, p)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e (aid in set (dom (RESULT.areas))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 744:27: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, pid:DEFAULT`Path_id, con:DEFAULT`Condition \u0026 ((aid in set (dom (ln.areas))) \u003d\u003e (aid in set (dom (ln.areas)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 874:17: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall rid in set (dom (ar.routes)) \u0026 let r:DEFAULT`Route \u003d (ar.routes)(rid) in let pid:DEFAULT`Path_id \u003d (r.paths)((len (r.paths))) in let jid:DEFAULT`Joint_id \u003d EndJoint((ar.paths)(pid), (r.dr)), tcid:DEFAULT`TrackC_id \u003d ((ar.paths)(pid).tc) in ((not (mk_Area_Joint(aid, tcid, jid) in set (dunion (dom connect)))) \u003d\u003e (jid in set (dom ((ar.trackcs)(tcid).joints))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 24:6: (forall tc:DEFAULT`TrackC \u0026 (((card (dom (tc.joints))) \u003e 1) \u003d\u003e (((dom (tc.atc)) \u003d {\u003cADIR\u003e, \u003cBDIR\u003e}) \u003d\u003e (TD_Used_for_NonInsulated_TrackC((tc.td), (tc.atbt), (rng (tc.joints))) \u003d\u003e (\u003cADIR\u003e in set (dom (tc.atc)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 782:18: (forall trackcs:DEFAULT`TrackC_map, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall tid in set (dom trackcs) \u0026 (tid in set (dom trackcs))))","legal function application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 225:9: (forall mk_Area(trackcs, paths, routes, -, -):DEFAULT`Area \u0026 ((forall p in set (rng paths) \u0026 (Path_within_TrackC(trackcs, p) and Direction_Correct(trackcs, p))) \u003d\u003e (forall r in set (rng routes) \u0026 (Path_Exists(paths, (r.paths), (r.dr)) \u003d\u003e (Exists_ATC_for_Route(trackcs, paths, r) \u003d\u003e pre_Route_not_Circular(paths, r))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 813:17: (forall ar:DEFAULT`Area \u0026 (forall pid in set (dom (ar.paths)) \u0026 (forall dr in set (dom ((ar.paths)(pid).used)) \u0026 (((ar.paths)(pid).used)(dr) \u003d\u003e (dr in set (dom ((ar.trackcs)(((ar.paths)(pid).tc)).atc)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 724:9: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, rid:DEFAULT`Route_id, r:DEFAULT`Route \u0026 (((aid in set (dom (ln.areas))) and pre_Add_Route((ln.areas)(aid), rid, r)) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Add_Route((ln.areas)(aid), rid, r)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e ((rid in set (dom ((RESULT.areas)(aid).routes))) \u003d\u003e (((dom (RESULT.areas)) \u003d (dom (ln.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e ((((RESULT.areas)(aid).routes) \u003d (((ln.areas)(aid).routes) ++ {rid |-\u003e r})) \u003d\u003e (aid in set (dom (RESULT.areas))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 361:5: (forall ar:DEFAULT`Area, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id \u0026 (((tcid in set (dom (ar.trackcs))) and ((jid in set (dom ((ar.trackcs)(tcid).joints))) and (((card (dom ((ar.trackcs)(tcid).joints))) \u003e 2) and (forall path in set (rng (ar.paths)) \u0026 (((path.tc) \u003c\u003e tcid) or ((jid \u003c\u003e (path.start)) and (jid \u003c\u003e (path.endp)))))))) \u003d\u003e let RESULT \u003d let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tcid) in mu(ar, trackcs |-\u003e ((ar.trackcs) ++ {tcid |-\u003e mu(tc, joints |-\u003e ({jid} \u003c-: (tc.joints)))})) in ((tcid in set (dom (RESULT.trackcs))) \u003d\u003e (((dom (RESULT.trackcs)) \u003d (dom (ar.trackcs))) \u003d\u003e ((({tcid} \u003c-: (RESULT.trackcs)) \u003d ({tcid} \u003c-: (ar.trackcs))) \u003d\u003e ((jid not in set (dom ((RESULT.trackcs)(tcid).joints))) \u003d\u003e (((RESULT.trackcs)(tcid) \u003d mu((ar.trackcs)(tcid), joints |-\u003e ({jid} \u003c-: ((ar.trackcs)(tcid).joints)))) \u003d\u003e (tcid in set (dom (RESULT.trackcs))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 588:30: (forall ln:DEFAULT`Line, con:DEFAULT`Connect, r:DEFAULT`Remark_Connect \u0026 ((forall c in set (dom (ln.connect)) \u0026 ((c inter con) \u003d {})) \u003d\u003e ((forall n in set con \u0026 Area_Joint_Exists((ln.areas), n)) \u003d\u003e (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (Direction_for_Area_Joint(((ln.areas)((n1.aid)).paths), (n1.no), ((ln.areas)((n2.aid)).paths), (n2.no), (r.chng_direction)) \u003d\u003e let tc1:DEFAULT`TrackC \u003d ((ln.areas)((n1.aid)).trackcs)((n1.tcid)), tc2:DEFAULT`TrackC \u003d ((ln.areas)((n2.aid)).trackcs)((n2.tcid)) in ((n1.no) in set (dom (tc1.joints)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 803:17: (forall trackcs:DEFAULT`TrackC_map, paths:DEFAULT`Path_map \u0026 (forall tid in set (dom trackcs) \u0026 (forall dr in set (dom (trackcs(tid).atc)) \u0026 (dr in set (dom (trackcs(tid).atc))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 964:10: (forall ln:DEFAULT`Line \u0026 (forall con in set (dom (ln.connect)) \u0026 (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (forall dr in set {\u003cADIR\u003e, \u003cBDIR\u003e} \u0026 ((exists p in set (rng ((ln.areas)((n1.aid)).paths)) \u0026 ((p.used)(dr) and (EndJoint(p, dr) \u003d (n1.no)))) \u003d\u003e ((n1.aid) in set (dom (ln.areas)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 904:17: (forall paths:DEFAULT`Path_map, pid:DEFAULT`Path_id, dr:DEFAULT`Direction \u0026 ((pid in set (dom paths)) \u003d\u003e (forall pid1 in set (dom paths) \u0026 (pid1 in set (dom paths)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 454:32: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, kind:DEFAULT`Cond_Kind, start:nat, endp:nat \u0026 (((pid in set (dom (ar.paths))) and (exists c in set ((ar.paths)(pid).condition) \u0026 (((c.kind) \u003d kind) and (((c.start) \u003d start) and ((c.endp) \u003d endp))))) \u003d\u003e let RESULT \u003d let p:DEFAULT`Path \u003d mu((ar.paths)(pid), condition |-\u003e {l | l in set ((ar.paths)(pid).condition) \u0026 (not (((l.kind) \u003d kind) and (((l.start) \u003d start) and ((l.endp) \u003d endp))))}) in mu(ar, paths |-\u003e ((ar.paths) ++ {pid |-\u003e p})) in ((pid in set (dom (RESULT.paths))) \u003d\u003e (((dom (RESULT.paths)) \u003d (dom (ar.paths))) \u003d\u003e ((({pid} \u003c-: (RESULT.paths)) \u003d ({pid} \u003c-: (ar.paths))) \u003d\u003e (pid in set (dom (ar.paths))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 586:23: (forall ln:DEFAULT`Line, con:DEFAULT`Connect, r:DEFAULT`Remark_Connect \u0026 ((forall c in set (dom (ln.connect)) \u0026 ((c inter con) \u003d {})) \u003d\u003e ((forall n in set con \u0026 Area_Joint_Exists((ln.areas), n)) \u003d\u003e (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (Direction_for_Area_Joint(((ln.areas)((n1.aid)).paths), (n1.no), ((ln.areas)((n2.aid)).paths), (n2.no), (r.chng_direction)) \u003d\u003e ((n1.aid) in set (dom (ln.areas)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 675:20: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id \u0026 (((aid in set (dom (ln.areas))) and (pre_Del_Joint((ln.areas)(aid), tcid, jid) and (forall c in set (dom (ln.connect)) \u0026 (forall aj in set c \u0026 ((((aj.aid) \u003d aid) and ((aj.tcid) \u003d tcid)) \u003d\u003e ((aj.no) \u003c\u003e jid)))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Del_Joint((ln.areas)(aid), tcid, jid)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e ((tcid in set (dom ((RESULT.areas)(aid).trackcs))) \u003d\u003e ((jid not in set (dom (((RESULT.areas)(aid).trackcs)(tcid).joints))) \u003d\u003e (((dom (RESULT.areas)) \u003d (dom (ln.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e (((dom ((RESULT.areas)(aid).trackcs)) \u003d (dom ((ln.areas)(aid).trackcs))) \u003d\u003e (aid in set (dom (RESULT.areas)))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 822:17: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall pid in set (dom (ar.paths)) \u0026 let p:DEFAULT`Path \u003d (ar.paths)(pid) in (forall dr in set (dom (p.used)) \u0026 (dr in set (dom (p.used))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 793:31: (forall trackcs:DEFAULT`TrackC_map, paths:DEFAULT`Path_map \u0026 (forall tid in set (dom trackcs) \u0026 (tid in set (dom trackcs))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 829:25: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall pid in set (dom (ar.paths)) \u0026 let p:DEFAULT`Path \u003d (ar.paths)(pid) in (forall dr in set (dom (p.used)) \u0026 ((p.used)(dr) \u003d\u003e ((not (mk_Area_Joint(aid, (p.tc), (p.start)) in set (dunion (dom connect)))) \u003d\u003e ((not ((((ar.trackcs)((p.tc)).joints)((p.start)).remark).line_terminal)) \u003d\u003e ((not ((((ar.trackcs)((p.tc)).joints)((p.start)).remark).atc_terminal)(dr)) \u003d\u003e (forall pid1 in set (dom (ar.paths)) \u0026 let p1:DEFAULT`Path \u003d (ar.paths)(pid1) in (((p1.tc) \u003c\u003e (p.tc)) \u003d\u003e (dr in set (dom (p1.used))))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 845:25: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall pid in set (dom (ar.paths)) \u0026 let p:DEFAULT`Path \u003d (ar.paths)(pid) in (forall dr in set (dom (p.used)) \u0026 ((p.used)(dr) \u003d\u003e ((not (mk_Area_Joint(aid, (p.tc), (p.endp)) in set (dunion (dom connect)))) \u003d\u003e ((not ((((ar.trackcs)((p.tc)).joints)((p.endp)).remark).line_terminal)) \u003d\u003e ((not ((((ar.trackcs)((p.tc)).joints)((p.endp)).remark).atc_terminal)(dr)) \u003d\u003e (forall pid1 in set (dom (ar.paths)) \u0026 let p1:DEFAULT`Path \u003d (ar.paths)(pid1) in (((p1.tc) \u003c\u003e (p.tc)) \u003d\u003e (dr in set (dom (p1.used))))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 868:25: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall rid in set (dom (ar.routes)) \u0026 (rid in set (dom (ar.routes)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 364:9: (forall ar:DEFAULT`Area, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id \u0026 (((tcid in set (dom (ar.trackcs))) and ((jid in set (dom ((ar.trackcs)(tcid).joints))) and (((card (dom ((ar.trackcs)(tcid).joints))) \u003e 2) and (forall path in set (rng (ar.paths)) \u0026 (((path.tc) \u003c\u003e tcid) or ((jid \u003c\u003e (path.start)) and (jid \u003c\u003e (path.endp)))))))) \u003d\u003e let RESULT \u003d let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tcid) in mu(ar, trackcs |-\u003e ((ar.trackcs) ++ {tcid |-\u003e mu(tc, joints |-\u003e ({jid} \u003c-: (tc.joints)))})) in ((tcid in set (dom (RESULT.trackcs))) \u003d\u003e (((dom (RESULT.trackcs)) \u003d (dom (ar.trackcs))) \u003d\u003e ((({tcid} \u003c-: (RESULT.trackcs)) \u003d ({tcid} \u003c-: (ar.trackcs))) \u003d\u003e ((jid not in set (dom ((RESULT.trackcs)(tcid).joints))) \u003d\u003e (((RESULT.trackcs)(tcid) \u003d mu((ar.trackcs)(tcid), joints |-\u003e ({jid} \u003c-: ((ar.trackcs)(tcid).joints)))) \u003d\u003e ((((RESULT.trackcs)(tcid).atc) \u003d ((ar.trackcs)(tcid).atc)) \u003d\u003e ((((RESULT.trackcs)(tcid).td) \u003d ((ar.trackcs)(tcid).td)) \u003d\u003e ((((RESULT.trackcs)(tcid).atbt) \u003d ((ar.trackcs)(tcid).atbt)) \u003d\u003e (tcid in set (dom (RESULT.trackcs)))))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 698:9: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, pid:DEFAULT`Path_id, p:DEFAULT`Path \u0026 (((aid in set (dom (ln.areas))) and (pre_Add_Path((ln.areas)(aid), pid, p) and (forall c in set (dom (ln.connect)) \u0026 (forall n1, n2 in set c \u0026 (((n1 \u003c\u003e n2) and ((n1.aid) \u003d aid)) \u003d\u003e Direction_for_Area_Joint({pid |-\u003e p}, (n1.no), ((ln.areas)((n2.aid)).paths), (n2.no), ((ln.connect)(c).chng_direction))))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Add_Path((ln.areas)(aid), pid, p)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e ((pid in set (dom ((RESULT.areas)(aid).paths))) \u003d\u003e (((dom (RESULT.areas)) \u003d (dom (ln.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e ((((RESULT.areas)(aid).paths) \u003d (((ln.areas)(aid).paths) ++ {pid |-\u003e p})) \u003d\u003e (aid in set (dom (RESULT.areas))))))))))","legal function application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 224:9: (forall mk_Area(trackcs, paths, routes, -, -):DEFAULT`Area \u0026 ((forall p in set (rng paths) \u0026 (Path_within_TrackC(trackcs, p) and Direction_Correct(trackcs, p))) \u003d\u003e (forall r in set (rng routes) \u0026 (Path_Exists(paths, (r.paths), (r.dr)) \u003d\u003e pre_Exists_ATC_for_Route(trackcs, paths, r)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 460:9: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, kind:DEFAULT`Cond_Kind, start:nat, endp:nat \u0026 (((pid in set (dom (ar.paths))) and (exists c in set ((ar.paths)(pid).condition) \u0026 (((c.kind) \u003d kind) and (((c.start) \u003d start) and ((c.endp) \u003d endp))))) \u003d\u003e let RESULT \u003d let p:DEFAULT`Path \u003d mu((ar.paths)(pid), condition |-\u003e {l | l in set ((ar.paths)(pid).condition) \u0026 (not (((l.kind) \u003d kind) and (((l.start) \u003d start) and ((l.endp) \u003d endp))))}) in mu(ar, paths |-\u003e ((ar.paths) ++ {pid |-\u003e p})) in ((pid in set (dom (RESULT.paths))) \u003d\u003e (((dom (RESULT.paths)) \u003d (dom (ar.paths))) \u003d\u003e ((({pid} \u003c-: (RESULT.paths)) \u003d ({pid} \u003c-: (ar.paths))) \u003d\u003e (((RESULT.paths)(pid) \u003d mu((ar.paths)(pid), condition |-\u003e {l | l in set ((ar.paths)(pid).condition) \u0026 (not (((l.kind) \u003d kind) and (((l.start) \u003d start) and ((l.endp) \u003d endp))))})) \u003d\u003e ((((RESULT.paths)(pid).start) \u003d ((ar.paths)(pid).start)) \u003d\u003e ((((RESULT.paths)(pid).endp) \u003d ((ar.paths)(pid).endp)) \u003d\u003e ((((RESULT.paths)(pid).tc) \u003d ((ar.paths)(pid).tc)) \u003d\u003e (pid in set (dom (RESULT.paths))))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 718:23: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, rid:DEFAULT`Route_id, r:DEFAULT`Route \u0026 ((aid in set (dom (ln.areas))) \u003d\u003e (aid in set (dom (ln.areas)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 351:14: (forall ar:DEFAULT`Area, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id \u0026 ((tcid in set (dom (ar.trackcs))) \u003d\u003e ((jid in set (dom ((ar.trackcs)(tcid).joints))) \u003d\u003e (tcid in set (dom (ar.trackcs))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 710:9: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, pid:DEFAULT`Path_id \u0026 (((aid in set (dom (ln.areas))) and pre_Del_Path((ln.areas)(aid), pid)) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Del_Path((ln.areas)(aid), pid)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e ((pid not in set (dom ((RESULT.areas)(aid).paths))) \u003d\u003e (((dom (RESULT.areas)) \u003d (dom (ln.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e (aid in set (dom (RESULT.areas)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 600:16: (forall ln:DEFAULT`Line, n:DEFAULT`Area_Joint \u0026 ((exists c in set (dom (ln.connect)) \u0026 (n in set c)) \u003d\u003e (forall c in set (dom (ln.connect)) \u0026 ((n not in set c) \u003d\u003e (c in set (dom (ln.connect)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 952:41: (forall ln:DEFAULT`Line \u0026 (forall con in set (dom (ln.connect)) \u0026 (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (forall dr in set {\u003cADIR\u003e, \u003cBDIR\u003e} \u0026 (((card {p | p in set (rng ((ln.areas)((n1.aid)).paths)) \u0026 ((p.used)(dr) and (EndJoint(p, dr) \u003d (n1.no)))}) \u003e 1) \u003d\u003e ((not (((((ln.areas)((n1.aid)).trackcs)((n1.tcid)).joints)((n1.no)).remark).atc_terminal)(dr)) \u003d\u003e let dr2:(\u003cADIR\u003e | \u003cBDIR\u003e) \u003d (if (not ((ln.connect)(con).chng_direction))\nthen dr\nelse (if (dr \u003d \u003cADIR\u003e)\nthen \u003cBDIR\u003e\nelse \u003cADIR\u003e)) in ((n2.aid) in set (dom (ln.areas))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 950:35: (forall ln:DEFAULT`Line \u0026 (forall con in set (dom (ln.connect)) \u0026 (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (forall dr in set {\u003cADIR\u003e, \u003cBDIR\u003e} \u0026 (((card {p | p in set (rng ((ln.areas)((n1.aid)).paths)) \u0026 ((p.used)(dr) and (EndJoint(p, dr) \u003d (n1.no)))}) \u003e 1) \u003d\u003e ((not (((((ln.areas)((n1.aid)).trackcs)((n1.tcid)).joints)((n1.no)).remark).atc_terminal)(dr)) \u003d\u003e (con in set (dom (ln.connect))))))))))","function establishes postcondition obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 577:1: (forall ln:DEFAULT`Line, con:DEFAULT`Connect, r:DEFAULT`Remark_Connect \u0026 (pre_Add_Connect(ln, con, r) \u003d\u003e post_Add_Connect(ln, con, r, mu(ln, connect |-\u003e ((ln.connect) ++ {con |-\u003e r})))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 650:24: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id, j:DEFAULT`Joint \u0026 (((aid in set (dom (ln.areas))) and (pre_Add_Joint((ln.areas)(aid), tcid, jid, j) and (forall c in set (dom (ln.connect)) \u0026 (forall n in set c \u0026 (((n.aid) \u003d aid) \u003d\u003e ((n.no) \u003c\u003e jid)))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Add_Joint((ln.areas)(aid), tcid, jid, j)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e ((tcid in set (dom ((RESULT.areas)(aid).trackcs))) \u003d\u003e (tcid in set (dom ((RESULT.areas)(aid).trackcs)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 749:40: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, pid:DEFAULT`Path_id, kind:DEFAULT`Cond_Kind, start:nat, endp:nat \u0026 (((aid in set (dom (ln.areas))) and pre_Del_Condition((ln.areas)(aid), pid, kind, start, endp)) \u003d\u003e (aid in set (dom (ln.areas)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 785:48: (forall trackcs:DEFAULT`TrackC_map, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall tid in set (dom trackcs) \u0026 let tc:DEFAULT`TrackC \u003d trackcs(tid) in (forall jid in set (dom (tc.joints)) \u0026 (forall tcid in set (dom trackcs) \u0026 ((tcid \u003c\u003e tid) \u003d\u003e (tcid in set (dom trackcs)))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 812:17: (forall ar:DEFAULT`Area \u0026 (forall pid in set (dom (ar.paths)) \u0026 (forall dr in set (dom ((ar.paths)(pid).used)) \u0026 (dr in set (dom ((ar.paths)(pid).used))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 825:17: (forall ar:DEFAULT`Area, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall pid in set (dom (ar.paths)) \u0026 let p:DEFAULT`Path \u003d (ar.paths)(pid) in (forall dr in set (dom (p.used)) \u0026 ((p.used)(dr) \u003d\u003e ((not (mk_Area_Joint(aid, (p.tc), (p.start)) in set (dunion (dom connect)))) \u003d\u003e ((not ((((ar.trackcs)((p.tc)).joints)((p.start)).remark).line_terminal)) \u003d\u003e ((p.start) in set (dom ((ar.trackcs)((p.tc)).joints)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 619:25: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, tc:DEFAULT`TrackC \u0026 (((aid in set (dom (ln.areas))) and (pre_Add_TrackC((ln.areas)(aid), tcid, tc) and (forall jid in set (dom (tc.joints)) \u0026 (forall c in set (dom (ln.connect)) \u0026 (forall n in set c \u0026 (((n.aid) \u003d aid) \u003d\u003e ((n.no) \u003c\u003e jid))))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Add_TrackC((ln.areas)(aid), tcid, tc)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e (((dom (ln.areas)) \u003d (dom (RESULT.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e (aid in set (dom (RESULT.areas))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 423:17: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, con:DEFAULT`Condition \u0026 ((pid in set (dom (ar.paths))) \u003d\u003e (pid in set (dom (ar.paths)))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 358:28: (forall ar:DEFAULT`Area, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id \u0026 (((tcid in set (dom (ar.trackcs))) and ((jid in set (dom ((ar.trackcs)(tcid).joints))) and (((card (dom ((ar.trackcs)(tcid).joints))) \u003e 2) and (forall path in set (rng (ar.paths)) \u0026 (((path.tc) \u003c\u003e tcid) or ((jid \u003c\u003e (path.start)) and (jid \u003c\u003e (path.endp)))))))) \u003d\u003e let RESULT \u003d let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tcid) in mu(ar, trackcs |-\u003e ((ar.trackcs) ++ {tcid |-\u003e mu(tc, joints |-\u003e ({jid} \u003c-: (tc.joints)))})) in ((tcid in set (dom (RESULT.trackcs))) \u003d\u003e (((dom (RESULT.trackcs)) \u003d (dom (ar.trackcs))) \u003d\u003e ((({tcid} \u003c-: (RESULT.trackcs)) \u003d ({tcid} \u003c-: (ar.trackcs))) \u003d\u003e (tcid in set (dom (RESULT.trackcs))))))))","function establishes postcondition obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 417:1: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, con:DEFAULT`Condition \u0026 (pre_Add_Condition(ar, pid, con) \u003d\u003e post_Add_Condition(ar, pid, con, let p:DEFAULT`Path \u003d mu((ar.paths)(pid), condition |-\u003e (((ar.paths)(pid).condition) union {con})) in mu(ar, paths |-\u003e ((ar.paths) ++ {pid |-\u003e p})))))","type compatibility obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 447:35: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, kind:DEFAULT`Cond_Kind, start:nat, endp:nat \u0026 (((pid in set (dom (ar.paths))) and (exists c in set ((ar.paths)(pid).condition) \u0026 (((c.kind) \u003d kind) and (((c.start) \u003d start) and ((c.endp) \u003d endp))))) \u003d\u003e let p:DEFAULT`Path \u003d mu((ar.paths)(pid), condition |-\u003e {l | l in set ((ar.paths)(pid).condition) \u0026 (not (((l.kind) \u003d kind) and (((l.start) \u003d start) and ((l.endp) \u003d endp))))}) in inv_Path_map(((ar.paths) ++ {pid |-\u003e p}))))","function establishes postcondition obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 305:1: (forall ar:DEFAULT`Area, tcid:DEFAULT`TrackC_id \u0026 (pre_Del_TrackC(ar, tcid) \u003d\u003e post_Del_TrackC(ar, tcid, mu(ar, trackcs |-\u003e ({tcid} \u003c-: (ar.trackcs))))))","type compatibility obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 371:31: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, path:DEFAULT`Path \u0026 (((pid not in set (dom (ar.paths))) and (Path_within_TrackC((ar.trackcs), path) and (Direction_Correct((ar.trackcs), path) and (forall p in set (rng (ar.paths)) \u0026 (Not_Same_Path(p, path) and Not_Start_and_End(p, path)))))) \u003d\u003e inv_Path_map(((ar.paths) ++ {pid |-\u003e path}))))","legal function application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 609:26: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, tc:DEFAULT`TrackC \u0026 (((aid in set (dom (ln.areas))) and (pre_Add_TrackC((ln.areas)(aid), tcid, tc) and (forall jid in set (dom (tc.joints)) \u0026 (forall c in set (dom (ln.connect)) \u0026 (forall n in set c \u0026 (((n.aid) \u003d aid) \u003d\u003e ((n.no) \u003c\u003e jid))))))) \u003d\u003e pre_Add_TrackC((ln.areas)(aid), tcid, tc)))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 334:9: (forall ar:DEFAULT`Area, tid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id, joint:DEFAULT`Joint \u0026 (((tid in set (dom (ar.trackcs))) and let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tid) in ((jid not in set (dom (tc.joints))) and (TD_Used_for_NonInsulated_TrackC((tc.td), (tc.atbt), ((rng (tc.joints)) union {joint})) and (Only_One_Next_TrackC((ar.trackcs), tid, jid) and (forall tid1 in set (dom (ar.trackcs)) \u0026 ((tid1 \u003c\u003e tid) \u003d\u003e Joint_and_Next_TrackC((ar.trackcs)(tid1), mu(tc, joints |-\u003e ((tc.joints) ++ {jid |-\u003e joint})), jid))))))) \u003d\u003e let RESULT \u003d let tc:DEFAULT`TrackC \u003d (ar.trackcs)(tid) in mu(ar, trackcs |-\u003e ((ar.trackcs) ++ {tid |-\u003e mu(tc, joints |-\u003e ((tc.joints) ++ {jid |-\u003e joint}))})) in ((tid in set (dom (RESULT.trackcs))) \u003d\u003e ((jid in set (dom ((RESULT.trackcs)(tid).joints))) \u003d\u003e (((dom (RESULT.trackcs)) \u003d (dom (ar.trackcs))) \u003d\u003e ((({tid} \u003c-: (RESULT.trackcs)) \u003d ({tid} \u003c-: (ar.trackcs))) \u003d\u003e (tid in set (dom (RESULT.trackcs)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 980:10: (forall ln:DEFAULT`Line \u0026 (forall con in set (dom (ln.connect)) \u0026 (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (forall dr in set {\u003cADIR\u003e, \u003cBDIR\u003e} \u0026 ((exists p in set (rng ((ln.areas)((n1.aid)).paths)) \u0026 ((p.used)(dr) and (StartJoint(p, dr) \u003d (n1.no)))) \u003d\u003e ((n1.tcid) in set (dom ((ln.areas)((n1.aid)).trackcs)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 947:18: (forall ln:DEFAULT`Line \u0026 (forall con in set (dom (ln.connect)) \u0026 (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (forall dr in set {\u003cADIR\u003e, \u003cBDIR\u003e} \u0026 (((card {p | p in set (rng ((ln.areas)((n1.aid)).paths)) \u0026 ((p.used)(dr) and (EndJoint(p, dr) \u003d (n1.no)))}) \u003e 1) \u003d\u003e (dr in set (dom (((((ln.areas)((n1.aid)).trackcs)((n1.tcid)).joints)((n1.no)).remark).atc_terminal)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 244:18: (forall trackcs:DEFAULT`TrackC_map, p:DEFAULT`Path \u0026 (Path_within_TrackC(trackcs, p) \u003d\u003e ((p.tc) in set (dom trackcs))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 698:9: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, pid:DEFAULT`Path_id, p:DEFAULT`Path \u0026 (((aid in set (dom (ln.areas))) and (pre_Add_Path((ln.areas)(aid), pid, p) and (forall c in set (dom (ln.connect)) \u0026 (forall n1, n2 in set c \u0026 (((n1 \u003c\u003e n2) and ((n1.aid) \u003d aid)) \u003d\u003e Direction_for_Area_Joint({pid |-\u003e p}, (n1.no), ((ln.areas)((n2.aid)).paths), (n2.no), ((ln.connect)(c).chng_direction))))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Add_Path((ln.areas)(aid), pid, p)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e ((pid in set (dom ((RESULT.areas)(aid).paths))) \u003d\u003e (((dom (RESULT.areas)) \u003d (dom (ln.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e ((((RESULT.areas)(aid).paths) \u003d (((ln.areas)(aid).paths) ++ {pid |-\u003e p})) \u003d\u003e (pid in set (dom ((RESULT.areas)(aid).paths))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 25:43: (forall tc:DEFAULT`TrackC \u0026 (((card (dom (tc.joints))) \u003e 1) \u003d\u003e (((dom (tc.atc)) \u003d {\u003cADIR\u003e, \u003cBDIR\u003e}) \u003d\u003e (TD_Used_for_NonInsulated_TrackC((tc.td), (tc.atbt), (rng (tc.joints))) \u003d\u003e ((((tc.atc)(\u003cADIR\u003e).used) and ((tc.atc)(\u003cBDIR\u003e).used)) \u003d\u003e (\u003cBDIR\u003e in set (dom (tc.atc))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 953:33: (forall ln:DEFAULT`Line \u0026 (forall con in set (dom (ln.connect)) \u0026 (forall n1, n2 in set con \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (forall dr in set {\u003cADIR\u003e, \u003cBDIR\u003e} \u0026 (((card {p | p in set (rng ((ln.areas)((n1.aid)).paths)) \u0026 ((p.used)(dr) and (EndJoint(p, dr) \u003d (n1.no)))}) \u003e 1) \u003d\u003e ((not (((((ln.areas)((n1.aid)).trackcs)((n1.tcid)).joints)((n1.no)).remark).atc_terminal)(dr)) \u003d\u003e let dr2:(\u003cADIR\u003e | \u003cBDIR\u003e) \u003d (if (not ((ln.connect)(con).chng_direction))\nthen dr\nelse (if (dr \u003d \u003cADIR\u003e)\nthen \u003cBDIR\u003e\nelse \u003cADIR\u003e)) in (forall p in set (rng ((ln.areas)((n2.aid)).paths)) \u0026 (dr2 in set (dom (p.used)))))))))))","function establishes postcondition obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 701:1: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, pid:DEFAULT`Path_id \u0026 (pre_Line_Del_Path(ln, aid, pid) \u003d\u003e post_Line_Del_Path(ln, aid, pid, mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Del_Path((ln.areas)(aid), pid)})))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 677:9: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id, jid:DEFAULT`Joint_id \u0026 (((aid in set (dom (ln.areas))) and (pre_Del_Joint((ln.areas)(aid), tcid, jid) and (forall c in set (dom (ln.connect)) \u0026 (forall aj in set c \u0026 ((((aj.aid) \u003d aid) and ((aj.tcid) \u003d tcid)) \u003d\u003e ((aj.no) \u003c\u003e jid)))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Del_Joint((ln.areas)(aid), tcid, jid)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e ((tcid in set (dom ((RESULT.areas)(aid).trackcs))) \u003d\u003e ((jid not in set (dom (((RESULT.areas)(aid).trackcs)(tcid).joints))) \u003d\u003e (((dom (RESULT.areas)) \u003d (dom (ln.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e (((dom ((RESULT.areas)(aid).trackcs)) \u003d (dom ((ln.areas)(aid).trackcs))) \u003d\u003e ((({tcid} \u003c-: ((RESULT.areas)(aid).trackcs)) \u003d ({tcid} \u003c-: ((ln.areas)(aid).trackcs))) \u003d\u003e (tcid in set (dom ((RESULT.areas)(aid).trackcs))))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 736:9: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, rid:DEFAULT`Route_id \u0026 (((aid in set (dom (ln.areas))) and pre_Del_Route((ln.areas)(aid), rid)) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Del_Route((ln.areas)(aid), rid)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e (((dom (RESULT.areas)) \u003d (dom (ln.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e ((rid not in set (dom ((RESULT.areas)(aid).routes))) \u003d\u003e (aid in set (dom (RESULT.areas)))))))))","type compatibility obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 553:39: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, kind:DEFAULT`Area_Kind, max:DEFAULT`MaxSpeed \u0026 ((aid not in set (dom (ln.areas))) \u003d\u003e ((inv_Area(mk_Area({|-\u003e}, {|-\u003e}, {|-\u003e}, kind, max)) and inv_TrackC_map({|-\u003e})) and inv_Path_map({|-\u003e}))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 710:45: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, pid:DEFAULT`Path_id \u0026 (((aid in set (dom (ln.areas))) and pre_Del_Path((ln.areas)(aid), pid)) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Del_Path((ln.areas)(aid), pid)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e ((pid not in set (dom ((RESULT.areas)(aid).paths))) \u003d\u003e (((dom (RESULT.areas)) \u003d (dom (ln.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e (aid in set (dom (ln.areas)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 636:48: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, tcid:DEFAULT`TrackC_id \u0026 (((aid in set (dom (ln.areas))) and (pre_Del_TrackC((ln.areas)(aid), tcid) and (forall c in set (dom (ln.connect)) \u0026 (forall aj in set c \u0026 (((aj.aid) \u003d aid) \u003d\u003e ((aj.tcid) \u003c\u003e tcid)))))) \u003d\u003e let RESULT \u003d mu(ln, areas |-\u003e ((ln.areas) ++ {aid |-\u003e Del_TrackC((ln.areas)(aid), tcid)})) in ((aid in set (dom (RESULT.areas))) \u003d\u003e (((dom (ln.areas)) \u003d (dom (RESULT.areas))) \u003d\u003e ((({aid} \u003c-: (RESULT.areas)) \u003d ({aid} \u003c-: (ln.areas))) \u003d\u003e (aid in set (dom (ln.areas))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 489:27: (forall mk_Line(areas, connect):DEFAULT`Line \u0026 (forall c in set (dom connect) \u0026 ((forall n in set c \u0026 Area_Joint_Exists(areas, n)) \u003d\u003e (forall n1, n2 in set c \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (Direction_for_Area_Joint((areas((n1.aid)).paths), (n1.no), (areas((n2.aid)).paths), (n2.no), (connect(c).chng_direction)) \u003d\u003e ((n1.tcid) in set (dom (areas((n1.aid)).trackcs)))))))))","legal function application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 703:47: (forall ln:DEFAULT`Line, aid:DEFAULT`Area_id, pid:DEFAULT`Path_id \u0026 (((aid in set (dom (ln.areas))) and pre_Del_Path((ln.areas)(aid), pid)) \u003d\u003e pre_Del_Path((ln.areas)(aid), pid)))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 491:57: (forall mk_Line(areas, connect):DEFAULT`Line \u0026 (forall c in set (dom connect) \u0026 ((forall n in set c \u0026 Area_Joint_Exists(areas, n)) \u003d\u003e (forall n1, n2 in set c \u0026 ((n1 \u003c\u003e n2) \u003d\u003e (Direction_for_Area_Joint((areas((n1.aid)).paths), (n1.no), (areas((n2.aid)).paths), (n2.no), (connect(c).chng_direction)) \u003d\u003e let tc1:DEFAULT`TrackC \u003d (areas((n1.aid)).trackcs)((n1.tcid)), tc2:DEFAULT`TrackC \u003d (areas((n2.aid)).trackcs)((n2.tcid)) in ((n2.no) in set (dom (tc2.joints)))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 436:36: (forall ar:DEFAULT`Area, pid:DEFAULT`Path_id, con:DEFAULT`Condition \u0026 (((pid in set (dom (ar.paths))) and let p:DEFAULT`Path \u003d (ar.paths)(pid) in (((((ar.trackcs)((p.tc)).joints)((p.start)).position) \u003c\u003d (con.start)) and (((con.endp) \u003c\u003d (((ar.trackcs)((p.tc)).joints)((p.endp)).position)) and (forall c in set (p.condition) \u0026 Condition_not_Conflict(c, con))))) \u003d\u003e let RESULT \u003d let p:DEFAULT`Path \u003d mu((ar.paths)(pid), condition |-\u003e (((ar.paths)(pid).condition) union {con})) in mu(ar, paths |-\u003e ((ar.paths) ++ {pid |-\u003e p})) in ((pid in set (dom (RESULT.paths))) \u003d\u003e (((dom (RESULT.paths)) \u003d (dom (ar.paths))) \u003d\u003e ((({pid} \u003c-: (RESULT.paths)) \u003d ({pid} \u003c-: (ar.paths))) \u003d\u003e (((RESULT.paths)(pid) \u003d mu((ar.paths)(pid), condition |-\u003e (((ar.paths)(pid).condition) union {con}))) \u003d\u003e ((((RESULT.paths)(pid).start) \u003d ((ar.paths)(pid).start)) \u003d\u003e ((((RESULT.paths)(pid).endp) \u003d ((ar.paths)(pid).endp)) \u003d\u003e ((((RESULT.paths)(pid).tc) \u003d ((ar.paths)(pid).tc)) \u003d\u003e (pid in set (dom (ar.paths))))))))))))","legal map application obligation in \u0027DEFAULT\u0027 (ATCSL.vdmsl) at line 787:18: (forall trackcs:DEFAULT`TrackC_map, aid:DEFAULT`Area_id, connect:DEFAULT`Connect_map \u0026 (forall tid in set (dom trackcs) \u0026 let tc:DEFAULT`TrackC \u003d trackcs(tid) in (forall jid in set (dom (tc.joints)) \u0026 ((not (exists tcid in set (dom trackcs) \u0026 ((tcid \u003c\u003e tid) and (jid in set (dom (trackcs(tcid).joints)))))) \u003d\u003e ((not (mk_Area_Joint(aid, tid, jid) in set (dunion (dom connect)))) \u003d\u003e (jid in set (dom (tc.joints))))))))"]